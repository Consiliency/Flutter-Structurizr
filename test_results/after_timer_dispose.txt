00:00 +0: loading /home/jenner/Code/dart-structurizr/test/model_relationship_test.dart
00:00 +0: /home/jenner/Code/dart-structurizr/test/model_relationship_test.dart: Model Relationship Access model provides access to all relationships
00:00 +1: /home/jenner/Code/dart-structurizr/test/model_relationship_test.dart: Model Relationship Access ModeledRelationship provides access to source and destination
00:01 +2 -1: loading /home/jenner/Code/dart-structurizr/test/widget_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/widget_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/widget_test.dart: test/widget_test.dart:16:35: Error: Couldn't find constructor 'MyApp'.
      await tester.pumpWidget(const MyApp());
                                    ^^^^^
  lib/presentation/widgets/documentation/documentation_navigator.dart:454:13: Error: Expected an identifier, but got ')'.
  Try inserting an identifier before ')'.
              ),
              ^
  lib/presentation/widgets/documentation/documentation_navigator.dart:454:13: Error: Expected ']' before this.
              ),
              ^
  .
00:02 +2 -1: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer calculateElementBounds returns correct bounds with explicit dimensions
00:02 +3 -1: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer calculateElementBounds returns default bounds when dimensions not specified
00:02 +4 -1: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements returns correct bounds
00:02 +4 -2: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements returns correct bounds [E]
  Expected: <30>
    Actual: <20.0>
  
  package:matcher                                             expect
  package:flutter_test/src/widget_tester.dart 474:18          expect
  test/rendering/boundaries/boundary_renderer_test.dart 85:7  main.<fn>.<fn>
  
00:02 +4 -2: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns true when point is inside boundary
00:02 +5 -2: /home/jenner/Code/dart-structurizr/test/rendering/boundaries/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns false when point is outside boundary
00:02 +6 -2: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget renders correctly with animation steps
00:02 +7 -2: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget renders correctly with animation steps
00:02 +8 -2: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget renders correctly with animation steps
00:02 +9 -2: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget renders correctly with animation steps
00:02 +10 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +11 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +12 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +13 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +14 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +15 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +16 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +17 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +18 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +19 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +20 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +21 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:02 +22 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +23 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +24 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +25 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +26 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +27 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +28 -2: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +28 -3: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +28 -3: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_system_helper_test.dart: FileSystemHelper should get file base name [E]
  Expected: 'file.with.multiple.dots'
    Actual: 'file'
     Which: is different. Both strings start the same, but the actual value is missing the following trailing characters: .with.mult ...
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 474:18                  expect
  test/infrastructure/persistence/file_system_helper_test.dart 154:7  main.<fn>.<fn>
  
00:03 +28 -3: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget timeline slider changes step when moved

Warning: A call to drag() with finder "Found 1 widget with type "Slider": [
  Slider(value: 0.0, secondaryTrackValue: null, min: 0.0, max: 2.0, divisions: 2, label: "Step 1", activeColor: null, inactiveColor: null, secondaryActiveColor: null, dependencies: [InheritedCupertinoTheme, MediaQuery, SliderTheme, _InheritedTheme, _LocalizationsScope-[GlobalKey#0d81a]], state: _SliderState#8567d(tickers: tracking 4 tickers)),
]" derived an Offset (Offset(400.0, 80.0)) that would not hit test on the specified widget.
Maybe the widget is actually off-screen, or another widget is obscuring it, or the widget cannot receive pointer events.
The finder corresponds to this RenderBox: RenderSemanticsAnnotations#7d4dc relayoutBoundary=up17
The hit test result at that offset is: HitTestResult(_RenderInkFeatures#89d7c@Offset(400.0, 80.0), RenderPhysicalModel#af33e@Offset(400.0, 80.0), RenderSemanticsAnnotations#36e76@Offset(400.0, 80.0), RenderRepaintBoundary#2263f@Offset(400.0, 80.0), RenderIgnorePointer#673ba@Offset(400.0, 80.0), _RenderSnapshotWidget#643ab@Offset(400.0, 80.0), _RenderSnapshotWidget#aa69a@Offset(400.0, 80.0), _RenderSnapshotWidget#47a5e@Offset(400.0, 80.0), _RenderSnapshotWidget#30089@Offset(400.0, 80.0), RenderRepaintBoundary#3549e@Offset(400.0, 80.0), RenderSemanticsAnnotations#67942@Offset(400.0, 80.0), RenderOffstage#7675d@Offset(400.0, 80.0), RenderSemanticsAnnotations#cba08@Offset(400.0, 80.0), _RenderTheater#cafed@Offset(400.0, 80.0), RenderAbsorbPointer#e12ec@Offset(400.0, 80.0), RenderPointerListener#2bf52@Offset(400.0, 80.0), RenderSemanticsAnnotations#25ede@Offset(400.0, 80.0), RenderCustomPaint#d8f6a@Offset(400.0, 80.0), RenderSemanticsAnnotations#3ab26@Offset(400.0, 80.0), RenderSemanticsAnnotations#e8993@Offset(400.0, 80.0), RenderTapRegionSurface#9f234@Offset(400.0, 80.0), RenderSemanticsAnnotations#f866a@Offset(400.0, 80.0), RenderSemanticsAnnotations#81569@Offset(400.0, 80.0), RenderSemanticsAnnotations#20baf@Offset(400.0, 80.0), HitTestEntry<HitTestTarget>#275e9(_ReusableRenderView#b2328), HitTestEntry<HitTestTarget>#0087f(<AutomatedTestWidgetsFlutterBinding>))
#0      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2077:25)
#1      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#2      WidgetController.drag (package:flutter_test/src/controller.dart:1537:7)
#3      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart:201:20)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
#6      StackZoneSpecification._registerCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:114:42)
<asynchronous suspension>
To silence this warning, pass "warnIfMissed: false" to "drag()".
To make this warning fatal, set WidgetController.hitTestWarningShouldBeFatal to true.

00:03 +28 -4: loading /home/jenner/Code/dart-structurizr/test/infrastructure/export/plantuml_exporter_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/infrastructure/export/plantuml_exporter_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/infrastructure/export/plantuml_exporter_test.dart: test/infrastructure/export/plantuml_exporter_test.dart:24:23: Error: 'Container' is imported from both 'package:flutter/src/widgets/container.dart' and 'package:flutter_structurizr/domain/model/model.dart'.
      final container = Container.create(
                        ^^^^^^^^^
  .
00:03 +28 -4: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget timeline slider changes step when moved
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: not <0>
  Actual: <0>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart:205:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart line 205
The test description was:
  timeline slider changes step when moved
════════════════════════════════════════════════════════════════════════════════════════════════════
00:03 +28 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +28 -5: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget timeline slider changes step when moved [E]
  Test failed. See exception logs above.
  The test description was: timeline slider changes step when moved
  
00:03 +29 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +30 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +31 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +32 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +33 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +34 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +35 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +36 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +37 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +38 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +39 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +40 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +41 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +42 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +43 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +44 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +45 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should automatically save workspace when changed
00:03 +46 -5: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +46 -5: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget plays animation automatically when autoPlay is true
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following assertion was thrown building AnimationControls(dirty, dependencies:
[InheritedCupertinoTheme, _InheritedTheme, _LocalizationsScope-[GlobalKey#80775]], state:
_AnimationControlsState#01082(ticker inactive)):
There should be exactly one item with [DropdownButton]'s value: 10.0.
Either zero or 2 or more [DropdownMenuItem]s were detected with the same value
'package:flutter/src/material/dropdown.dart':
Failed assertion: line 1001 pos 10: 'items == null ||
             items.isEmpty ||
             value == null ||
             items.where((DropdownMenuItem<T> item) {
                   return item.value == value;
                 }).length ==
                 1'

The relevant error-causing widget was:
  AnimationControls
  AnimationControls:file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart:215:19

When the exception was thrown, this was the stack:
#2      new DropdownButton (package:flutter/src/material/dropdown.dart:1001:10)
#3      _AnimationControlsState.build (package:flutter_structurizr/presentation/widgets/diagram/animation_controls.dart:499:33)
#4      StatefulElement.build (package:flutter/src/widgets/framework.dart:5841:27)
#5      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5733:15)
#6      StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#7      Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#8      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5715:5)
#9      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5883:11)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5709:5)
...     Normal element mounting (25 frames)
#35     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#36     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#37     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (332 frames)
#369    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#370    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#371    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (457 frames)
#828    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#829    Element.updateChild (package:flutter/src/widgets/framework.dart:4014:20)
#830    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#831    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#832    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#833    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#834    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#835    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#836    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#837    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#838    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#839    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#840    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#841    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#842    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#843    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#844    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#845    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#846    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#847    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#848    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#849    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#850    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#851    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#852    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#853    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#854    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#855    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#856    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#857    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#858    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#859    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#860    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#861    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#862    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#863    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#864    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#865    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#866    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#867    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#868    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#869    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#870    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#872    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#873    _RawViewElement.update (package:flutter/src/widgets/view.dart:569:5)
#874    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#875    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#876    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#877    StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#878    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#879    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#880    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#881    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#882    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#883    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#884    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1687:16)
#885    RootElement.update (package:flutter/src/widgets/binding.dart:1665:5)
#886    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1679:7)
#887    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#888    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#889    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#890    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#891    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#892    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#893    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#894    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#895    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#898    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#899    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#900    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#903    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#904    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#905    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart:212:20)
#906    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#907    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 7 frames from class _AssertionError, dart:async, and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _IconWidgetFinder:<Found 0 widgets with icon "IconData(U+0E47C)": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart:232:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart line 232
The test description was:
  plays animation automatically when autoPlay is true
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:03 +46 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +46 -6: /home/jenner/Code/dart-structurizr/test/widgets/animation_controls_test.dart: AnimationControls Widget plays animation automatically when autoPlay is true [E]
  Test failed. See exception logs above.
  The test description was: plays animation automatically when autoPlay is true
  
00:03 +47 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +48 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +49 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +50 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +51 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +52 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +53 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +54 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should create and manage backups
00:03 +55 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should toggle auto-save on and off
00:03 +56 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should toggle auto-save on and off
00:03 +57 -6: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should toggle auto-save on and off
00:03 +57 -7: loading /home/jenner/Code/dart-structurizr/test/infrastructure/export/documentation_export_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/infrastructure/export/documentation_export_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/infrastructure/export/documentation_export_test.dart: test/infrastructure/export/documentation_export_test.dart:18:5: Error: The method '_generateDocumentationSection' isn't defined for the class 'TestDslExporter'.
   - 'TestDslExporter' is from 'test/infrastructure/export/documentation_export_test.dart'.
  Try correcting the name to the name of an existing method, or defining a method named '_generateDocumentationSection'.
      _generateDocumentationSection(buffer, workspace);
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/infrastructure/export/documentation_export_test.dart:23:5: Error: The method '_generateDecisionsSection' isn't defined for the class 'TestDslExporter'.
   - 'TestDslExporter' is from 'test/infrastructure/export/documentation_export_test.dart'.
  Try correcting the name to the name of an existing method, or defining a method named '_generateDecisionsSection'.
      _generateDecisionsSection(buffer, workspace);
      ^^^^^^^^^^^^^^^^^^^^^^^^^
  test/infrastructure/export/documentation_export_test.dart:28:12: Error: The method '_escapeString' isn't defined for the class 'TestDslExporter'.
   - 'TestDslExporter' is from 'test/infrastructure/export/documentation_export_test.dart'.
  Try correcting the name to the name of an existing method, or defining a method named '_escapeString'.
      return _escapeString(str);
             ^^^^^^^^^^^^^
  .
00:03 +58 -7: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should toggle auto-save on and off
00:03 +59 -7: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should delete workspace and its backups
00:03 +60 -7: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/file_storage_test.dart: FileStorage should delete workspace and its backups
00:04 +61 -7: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should emit events during auto-save lifecycle
00:04 +61 -8: loading /home/jenner/Code/dart-structurizr/test/infrastructure/export/dsl_exporter_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/infrastructure/export/dsl_exporter_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/infrastructure/export/dsl_exporter_test.dart: test/infrastructure/export/dsl_exporter_test.dart:73:24: Error: Undefined name 'RankDirection'.
          rankDirection: RankDirection.topBottom,
                         ^^^^^^^^^^^^^
  test/infrastructure/export/dsl_exporter_test.dart:139:14: Error: The argument type 'String' can't be assigned to the parameter type 'Shape'.
   - 'Shape' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
        shape: 'Person',
               ^
  test/infrastructure/export/dsl_exporter_test.dart:140:19: Error: The argument type 'String' can't be assigned to the parameter type 'Color?'.
   - 'Color' is from 'dart:ui'.
        background: '#08427B',
                    ^
  test/infrastructure/export/dsl_exporter_test.dart:141:14: Error: The argument type 'String' can't be assigned to the parameter type 'Color?'.
   - 'Color' is from 'dart:ui'.
        color: '#FFFFFF',
               ^
  test/infrastructure/export/dsl_exporter_test.dart:147:14: Error: The argument type 'String' can't be assigned to the parameter type 'Color?'.
   - 'Color' is from 'dart:ui'.
        color: '#707070',
               ^
  .
00:04 +62 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should handle failed saves gracefully
00:04 +63 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/persistence/auto_save_test.dart: AutoSave should save immediately when requested
00:04 +64 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Exports to JSON format
00:04 +65 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Exports to YAML format
00:04 +66 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Exports with enhanced styling
00:04 +67 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Respects metadata inclusion flag
00:04 +68 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Respects relationships inclusion flag
00:04 +69 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/c4_exporter_test.dart: C4Exporter Respects styles inclusion flag
00:05 +70 -8: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports system context diagram to DOT format
00:05 +70 -9: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports system context diagram to DOT format [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 139:34                   main.<fn>.<fn>
  
00:05 +70 -9: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports container diagram to DOT format
00:05 +70 -10: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports container diagram to DOT format [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Containers
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 171:34                   main.<fn>.<fn>
  
00:05 +70 -10: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports component diagram to DOT format
00:05 +70 -11: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports component diagram to DOT format [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Components
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 200:34                   main.<fn>.<fn>
  
00:05 +70 -11: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports deployment diagram to DOT format
00:05 +70 -12: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports deployment diagram to DOT format [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Deployment
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 229:34                   main.<fn>.<fn>
  
00:05 +70 -12: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter respects different layout settings
00:05 +70 -13: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter respects different layout settings [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 260:40                   main.<fn>.<fn>
  
00:05 +70 -13: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter respects different rank direction settings
00:05 +70 -14: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter respects different rank direction settings [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 286:45                   main.<fn>.<fn>
  
00:05 +70 -14: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes clusters based on setting
00:05 +70 -15: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes clusters based on setting [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Containers
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 312:58                   main.<fn>.<fn>
  
00:05 +70 -15: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes detailed labels based on setting
00:05 +70 -16: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes detailed labels based on setting [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Components
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 343:50                   main.<fn>.<fn>
  
00:05 +70 -16: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes custom styling based on setting
00:05 +70 -17: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter includes or excludes custom styling based on setting [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 373:46                   main.<fn>.<fn>
  
00:05 +70 -17: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter reports export progress
00:05 +70 -18: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter reports export progress [E]
  Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/dot_exporter.dart 153:7  DotExporter.export
  test/infrastructure/export/dot_exporter_test.dart 398:22                   main.<fn>.<fn>
  
00:05 +70 -18: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports batch of diagrams
Error exporting diagram SystemContext: Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: SystemContext
Error exporting diagram Containers: Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Containers
Error exporting diagram Components: Exception: Failed to export diagram to DOT/Graphviz: Exception: View not found with key: Components
00:05 +70 -19: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter exports batch of diagrams [E]
  Expected: <3>
    Actual: <0>
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/infrastructure/export/dot_exporter_test.dart 440:7  main.<fn>.<fn>
  
00:05 +70 -19: /home/jenner/Code/dart-structurizr/test/infrastructure/export/dot_exporter_test.dart: DotExporter handles error cases gracefully
00:05 +71 -19: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports system context diagram to Mermaid format
00:05 +71 -20: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports system context diagram to Mermaid format [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 139:38                   main.<fn>.<fn>
  
00:05 +71 -20: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports container diagram to Mermaid format
00:05 +71 -21: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports container diagram to Mermaid format [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: Containers
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 168:38                   main.<fn>.<fn>
  
00:05 +71 -21: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports component diagram to Mermaid format
00:05 +71 -22: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports component diagram to Mermaid format [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: Components
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 198:38                   main.<fn>.<fn>
  
00:05 +71 -22: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports deployment diagram to Mermaid format
00:05 +71 -23: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports deployment diagram to Mermaid format [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: Deployment
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 228:38                   main.<fn>.<fn>
  
00:05 +71 -23: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter respects different direction settings
00:05 +71 -24: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter respects different direction settings [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 259:52                   main.<fn>.<fn>
  
00:05 +71 -24: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter includes or excludes theming based on setting
00:05 +71 -25: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter includes or excludes theming based on setting [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 285:56                   main.<fn>.<fn>
  
00:05 +71 -25: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter includes or excludes notes based on setting
00:05 +71 -26: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter includes or excludes notes based on setting [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 311:56                   main.<fn>.<fn>
  
00:05 +71 -26: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter uses C4 styling when specified
00:05 +71 -27: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter uses C4 styling when specified [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 337:54                   main.<fn>.<fn>
  
00:05 +71 -27: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter reports export progress
00:05 +71 -28: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter reports export progress [E]
  Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
  package:flutter_structurizr/infrastructure/export/mermaid_exporter.dart 131:7  MermaidExporter.export
  test/infrastructure/export/mermaid_exporter_test.dart 362:22                   main.<fn>.<fn>
  
00:05 +71 -28: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports batch of diagrams
Error exporting diagram SystemContext: Exception: Failed to export diagram to Mermaid: Exception: View not found with key: SystemContext
Error exporting diagram Containers: Exception: Failed to export diagram to Mermaid: Exception: View not found with key: Containers
Error exporting diagram Components: Exception: Failed to export diagram to Mermaid: Exception: View not found with key: Components
00:05 +71 -29: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter exports batch of diagrams [E]
  Expected: <3>
    Actual: <0>
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 474:18           expect
  test/infrastructure/export/mermaid_exporter_test.dart 404:7  main.<fn>.<fn>
  
00:05 +71 -29: /home/jenner/Code/dart-structurizr/test/infrastructure/export/mermaid_exporter_test.dart: MermaidExporter handles error cases gracefully
00:05 +72 -30: loading /home/jenner/Code/dart-structurizr/test/infrastructure/export/png_exporter_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/infrastructure/export/png_exporter_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/infrastructure/export/png_exporter_test.dart: test/infrastructure/export/png_exporter_test.dart:94:35: Error: Required named parameter 'renderParameters' must be provided.
        final exporter = PngExporter(
                                    ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:100:43: Error: Required named parameter 'renderParameters' must be provided.
        final progressExporter = PngExporter(
                                            ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:132:42: Error: Required named parameter 'renderParameters' must be provided.
        final defaultExporter = PngExporter();
                                           ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:135:27: Error: Method not found: 'DiagramRenderParameters'.
          renderParameters: DiagramRenderParameters(
                            ^^^^^^^^^^^^^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:164:41: Error: Required named parameter 'renderParameters' must be provided.
        final opaqueExporter = PngExporter(
                                          ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:168:46: Error: Required named parameter 'renderParameters' must be provided.
        final transparentExporter = PngExporter(
                                               ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:193:35: Error: Required named parameter 'renderParameters' must be provided.
        final exporter = PngExporter();
                                    ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  test/infrastructure/export/png_exporter_test.dart:216:35: Error: Required named parameter 'renderParameters' must be provided.
        final exporter = PngExporter(
                                    ^
  lib/infrastructure/export/png_exporter.dart:31:9: Context: Found this candidate, but the arguments don't match.
    const PngExporter({
          ^^^^^^^^^^^
  .
00:06 +72 -31: loading /home/jenner/Code/dart-structurizr/test/infrastructure/export/svg_exporter_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/infrastructure/export/svg_exporter_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/infrastructure/export/svg_exporter_test.dart: test/infrastructure/export/svg_exporter_test.dart:113:27: Error: Method not found: 'DiagramRenderParameters'.
          renderParameters: DiagramRenderParameters(
                            ^^^^^^^^^^^^^^^^^^^^^^^
  .
00:06 +72 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View creates view with required properties
00:06 +73 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View creates view with all properties
00:06 +74 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View adds element
00:06 +75 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View adds relationship
00:06 +76 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View checks if element is contained
00:06 +77 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View checks if relationship is contained
00:06 +78 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View gets element by id
00:06 +79 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: View gets relationship by id
00:06 +80 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: SystemContextView creates system context view with required properties
00:06 +81 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: ContainerView creates container view with required properties
00:06 +82 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: ComponentView creates component view with required properties
00:06 +83 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: DynamicView creates dynamic view with required properties
00:06 +84 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: DeploymentView creates deployment view with required properties
00:06 +85 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: FilteredView creates filtered view with required properties
00:06 +86 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: ElementView creates element view with required properties
00:06 +87 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: ElementView creates element view with all properties
00:06 +88 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: RelationshipView creates relationship view with required properties
00:06 +89 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: RelationshipView creates relationship view with all properties
00:06 +90 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: Vertex creates vertex with required properties
00:06 +91 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: AutomaticLayout creates automatic layout with default values
00:06 +92 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: AutomaticLayout creates automatic layout with all properties
00:06 +93 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: AnimationStep creates animation step with required properties
00:06 +94 -31: /home/jenner/Code/dart-structurizr/test/domain/view/view_test.dart: AnimationStep creates animation step with all properties
00:06 +95 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views creates views with default values
00:06 +96 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views creates views with all properties
00:06 +97 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views gets all views flattened
00:06 +98 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views gets view by key
00:06 +99 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views checks if view with key exists
00:06 +100 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds system landscape view
00:06 +101 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds system context view
00:06 +102 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds container view
00:06 +103 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds component view
00:06 +104 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds dynamic view
00:06 +105 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds deployment view
00:06 +106 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views adds filtered view
00:06 +107 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Views updates styles
00:06 +108 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: ViewConfiguration creates view configuration with default values
00:06 +109 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: ViewConfiguration creates view configuration with all properties
00:06 +110 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Terminology creates terminology with default values (all null)
00:06 +111 -31: /home/jenner/Code/dart-structurizr/test/domain/view/views_test.dart: Terminology creates terminology with all properties
00:07 +112 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests AnimationStep creation
00:07 +113 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests AnimationStep serialization roundtrip
00:07 +114 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests DynamicView with animation steps
00:07 +115 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests DynamicView serialization with animations
00:07 +116 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests DynamicView progressive relationship addition
00:07 +117 -31: /home/jenner/Code/dart-structurizr/test/domain/view/animation_test.dart: Animation tests Relationship order in dynamic views
00:07 +118 -31: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_keyword_test.dart: Parser recognizes documentation and decisions blocks
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""Documentation content""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.decision "decision"
Token[12]: TokenType.string ""ADR-001""
Token[13]: TokenType.leftBrace "{"
Token[14]: TokenType.title "title"
Token[15]: TokenType.equals "="
Token[16]: TokenType.string ""Test Decision""
Token[17]: TokenType.status "status"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""Accepted""
Token[20]: TokenType.content "content"
Token[21]: TokenType.equals "="
Token[22]: TokenType.string ""Decision content""
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.rightBrace "}"
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Documentation content
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "Documentation content"
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Finished parsing decisions block, count: 1
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 1
DEBUG: Documentation content is: "Documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "Documentation content"
Workspace has documentation: false
Documentation content: null
Workspace has decisions: 0
00:07 +118 -32: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_keyword_test.dart: Parser recognizes documentation and decisions blocks [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                   expect
  test/domain/parser/parser_keyword_test.dart 33:5  main.<fn>
  
00:07 +118 -32: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing correctly tokenizes basic strings
00:07 +119 -32: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing correctly tokenizes strings with special characters
00:07 +120 -32: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing correctly tokenizes strings with escape sequences
00:07 +121 -32: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing correctly parses workspace with special character strings

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""C4 $ystem with @special chars!""
Token[2]: TokenType.string ""This is the $ystem description""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.rightBrace "}"
Token[5]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: }
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +121 -33: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing correctly parses workspace with special character strings [E]
  Expected: 'C4 $ystem with @special chars!'
    Actual: '}'
     Which: is different.
            Expected: C4 $ystem  ...
              Actual: }
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/string_literal_test.dart 64:7    main.<fn>.<fn>
  
00:07 +121 -33: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing recovers from errors in string literals

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Unterminated string { }"
Token[2]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
00:07 +122 -33: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing handles nested strings in hierarchical structures

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "customer"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""Customer with $pecial chars""
Token[9]: TokenType.string ""A cu$tomer of the bank""
Token[10]: TokenType.rightBrace "}"
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +122 -34: /home/jenner/Code/dart-structurizr/test/domain/parser/string_literal_test.dart: String Literal Parsing handles nested strings in hierarchical structures [E]
  Expected: 'Banking System'
    Actual: 'customer'
     Which: is different.
            Expected: Banking Sy ...
              Actual: customer
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/string_literal_test.dart 98:7    main.<fn>.<fn>
  
00:07 +122 -34: /home/jenner/Code/dart-structurizr/test/domain/parser/mini_doc_test.dart: Minimal documentation parser test
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""Test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Test documentation
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "Test documentation"
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "Test documentation"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "Test documentation"
WorkspaceNode name: Test documentation
WorkspaceNode has documentation: false
WARNING: No documentation found in workspace node!
00:07 +122 -35: /home/jenner/Code/dart-structurizr/test/domain/parser/mini_doc_test.dart: Minimal documentation parser test [E]
  Expected: not null
    Actual: <null>
  Documentation should be present in the workspace node
  
  package:matcher                             expect
  test/domain/parser/mini_doc_test.dart 31:5  main.<fn>
  
00:07 +122 -35: /home/jenner/Code/dart-structurizr/test/domain/parser/minimal_parser_test.dart: Minimal Parser Tests parser completes without errors

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.string ""Description""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "user"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""User""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.arrow "->"
Token[16]: TokenType.identifier "system"
Token[17]: TokenType.string ""Uses""
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +123 -36: loading /home/jenner/Code/dart-structurizr/test/domain/parser/workspace_node_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/domain/parser/workspace_node_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/domain/parser/workspace_node_test.dart: test/domain/parser/workspace_node_test.dart:13:23: Error: Method not found: 'SourcePosition'.
        sourcePosition: SourcePosition(line: 1, column: 1, offset: 0),
                        ^^^^^^^^^^^^^^
  test/domain/parser/workspace_node_test.dart:30:23: Error: Method not found: 'SourcePosition'.
        sourcePosition: SourcePosition(line: 1, column: 1, offset: 0),
                        ^^^^^^^^^^^^^^
  .
00:07 +123 -36: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser detects include directives

DEBUG: List of tokens from lexer:
Token[0]: TokenType.identifier "!include"
Token[1]: TokenType.identifier "included"
Token[2]: TokenType.dot "."
Token[3]: TokenType.identifier "dsl"
Token[4]: TokenType.workspace "workspace"
Token[5]: TokenType.string ""Main Workspace""
Token[6]: TokenType.leftBrace "{"
Token[7]: TokenType.model "model"
Token[8]: TokenType.leftBrace "{"
Token[9]: TokenType.person "person"
Token[10]: TokenType.string ""User""
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.rightBrace "}"
Token[13]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: User
DEBUG: Current token before matching: TokenType.identifier, lexeme: dsl
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Main Workspace"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +123 -37: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser detects include directives [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 474:18   expect
  test/domain/parser/include_directive_test.dart 49:7  main.<fn>.<fn>
  
00:07 +123 -37: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser correctly processes nested include directives

DEBUG: List of tokens from lexer:
Token[0]: TokenType.identifier "!include"
Token[1]: TokenType.identifier "level1"
Token[2]: TokenType.dot "."
Token[3]: TokenType.identifier "dsl"
Token[4]: TokenType.workspace "workspace"
Token[5]: TokenType.string ""Main Workspace""
Token[6]: TokenType.leftBrace "{"
Token[7]: TokenType.model "model"
Token[8]: TokenType.leftBrace "{"
Token[9]: TokenType.person "person"
Token[10]: TokenType.string ""User""
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.rightBrace "}"
Token[13]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: User
DEBUG: Current token before matching: TokenType.identifier, lexeme: dsl
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Main Workspace"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +123 -38: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser correctly processes nested include directives [E]
  Expected: <2>
    Actual: <0>
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 474:18   expect
  test/domain/parser/include_directive_test.dart 87:7  main.<fn>.<fn>
  
00:07 +123 -38: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser handles model elements in included files

DEBUG: List of tokens from lexer:
Token[0]: TokenType.identifier "!include"
Token[1]: TokenType.identifier "systems"
Token[2]: TokenType.dot "."
Token[3]: TokenType.identifier "dsl"
Token[4]: TokenType.workspace "workspace"
Token[5]: TokenType.string ""Banking System""
Token[6]: TokenType.leftBrace "{"
Token[7]: TokenType.model "model"
Token[8]: TokenType.leftBrace "{"
Token[9]: TokenType.identifier "user"
Token[10]: TokenType.equals "="
Token[11]: TokenType.person "person"
Token[12]: TokenType.string ""Customer""
Token[13]: TokenType.identifier "user"
Token[14]: TokenType.arrow "->"
Token[15]: TokenType.identifier "internetBanking"
Token[16]: TokenType.string ""Uses""
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.identifier, lexeme: dsl
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Banking System"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Banking System", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Banking System", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +123 -39: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser handles model elements in included files [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                       expect
  package:flutter_test/src/widget_tester.dart 474:18    expect
  test/domain/parser/include_directive_test.dart 131:7  main.<fn>.<fn>
  
00:07 +123 -39: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser handles missing included files gracefully

DEBUG: List of tokens from lexer:
Token[0]: TokenType.identifier "!include"
Token[1]: TokenType.identifier "non_existent"
Token[2]: TokenType.dot "."
Token[3]: TokenType.identifier "dsl"
Token[4]: TokenType.workspace "workspace"
Token[5]: TokenType.string ""Main Workspace""
Token[6]: TokenType.leftBrace "{"
Token[7]: TokenType.model "model"
Token[8]: TokenType.leftBrace "{"
Token[9]: TokenType.person "person"
Token[10]: TokenType.string ""User""
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.rightBrace "}"
Token[13]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: User
DEBUG: Current token before matching: TokenType.identifier, lexeme: dsl
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: dsl, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Main Workspace"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Main Workspace", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:07 +123 -40: /home/jenner/Code/dart-structurizr/test/domain/parser/include_directive_test.dart: Include directive tests Parser handles missing included files gracefully [E]
  Expected: 'Main Workspace'
    Actual: 'User'
     Which: is different.
            Expected: Main Works ...
              Actual: User
                      ^
             Differ at offset 0
  
  package:matcher                                       expect
  package:flutter_test/src/widget_tester.dart 474:18    expect
  test/domain/parser/include_directive_test.dart 156:7  main.<fn>.<fn>
  
00:07 +123 -40: /home/jenner/Code/dart-structurizr/test/domain/parser/direct_workspace_test.dart: Direct WorkspaceNode construction with documentation
Directly created WorkspaceNode:
- has documentation: true
- documentation content: "Test Documentation"
00:08 +124 -40: /home/jenner/Code/dart-structurizr/test/domain/parser/workspace_name_test.dart: Workspace Name Parsing parses basic workspace name

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Basic Name""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.rightBrace "}"
Token[4]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: }
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +124 -41: /home/jenner/Code/dart-structurizr/test/domain/parser/workspace_name_test.dart: Workspace Name Parsing parses basic workspace name [E]
  Expected: 'Basic Name'
    Actual: '}'
     Which: is different.
            Expected: Basic Name ...
              Actual: }
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/workspace_name_test.dart 19:7    main.<fn>.<fn>
  
00:08 +124 -41: /home/jenner/Code/dart-structurizr/test/domain/parser/workspace_name_test.dart: Workspace Name Parsing parses workspace name with description

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.string ""This is a description""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.rightBrace "}"
Token[5]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: }
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +124 -42: /home/jenner/Code/dart-structurizr/test/domain/parser/workspace_name_test.dart: Workspace Name Parsing parses workspace name with description [E]
  Expected: 'Banking System'
    Actual: '}'
     Which: is different.
            Expected: Banking Sy ...
              Actual: }
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/workspace_name_test.dart 34:7    main.<fn>.<fn>
  
00:08 +124 -42: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse empty workspace

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Empty Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.rightBrace "}"
Token[4]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: }
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +124 -43: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse empty workspace [E]
  Expected: 'Empty Workspace'
    Actual: '}'
     Which: is different.
            Expected: Empty Work ...
              Actual: }
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 18:7            main.<fn>.<fn>
  
00:08 +124 -43: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse workspace with description

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.string ""This is a test workspace""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.rightBrace "}"
Token[5]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: }
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +124 -44: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse workspace with description [E]
  Expected: 'Test Workspace'
    Actual: '}'
     Which: is different.
            Expected: Test Works ...
              Actual: }
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 39:7            main.<fn>.<fn>
  
00:08 +124 -44: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse workspace with model section

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Model Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.rightBrace "}"
Token[6]: TokenType.rightBrace "}"
Token[7]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -44: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse person declarations

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Person Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.person "person"
Token[6]: TokenType.string ""User""
Token[7]: TokenType.string ""A user of the system""
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""Admin""
Token[10]: TokenType.string ""A system administrator""
Token[11]: TokenType.leftBrace "{"
Token[12]: TokenType.tags "tags"
Token[13]: TokenType.string ""admin""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.rightBrace "}"
Token[17]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: User
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -45: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse person declarations [E]
  Expected: 'User'
    Actual: 'UserAuserofthesystem'
     Which: is different. Both strings start the same, but the actual value also has the following trailing characters: Auserofthe ...
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 78:7            main.<fn>.<fn>
  
00:08 +125 -45: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse person with variable assignment

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Variable Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""End User""
Token[9]: TokenType.string ""A regular user of the system""
Token[10]: TokenType.rightBrace "}"
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -46: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse person with variable assignment [E]
  Expected: 'End User'
    Actual: 'End UserA regular user of the system'
     Which: is different. Both strings start the same, but the actual value also has the following trailing characters: A regular  ...
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 107:7           main.<fn>.<fn>
  
00:08 +125 -46: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse software system declarations

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""System Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.softwareSystem "softwareSystem"
Token[6]: TokenType.string ""System A""
Token[7]: TokenType.string ""Description of System A""
Token[8]: TokenType.identifier "sys"
Token[9]: TokenType.equals "="
Token[10]: TokenType.softwareSystem "softwareSystem"
Token[11]: TokenType.string ""System B""
Token[12]: TokenType.string ""Description of System B""
Token[13]: TokenType.leftBrace "{"
Token[14]: TokenType.tags "tags"
Token[15]: TokenType.string ""web""
Token[16]: TokenType.rightBrace "}"
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: System A
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -47: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse software system declarations [E]
  Expected: 'SystemA'
    Actual: 'SystemADescriptionofSystemA'
     Which: is different. Both strings start the same, but the actual value also has the following trailing characters: Descriptio ...
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 128:7           main.<fn>.<fn>
  
00:08 +125 -47: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse container declarations

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Container Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.identifier "webApp"
Token[11]: TokenType.equals "="
Token[12]: TokenType.containerView "container"
Token[13]: TokenType.string ""Web Application""
Token[14]: TokenType.string ""Delivers the web UI""
Token[15]: TokenType.string ""React""
Token[16]: TokenType.identifier "api"
Token[17]: TokenType.equals "="
Token[18]: TokenType.containerView "container"
Token[19]: TokenType.string ""API""
Token[20]: TokenType.string ""Provides data access""
Token[21]: TokenType.string ""Spring Boot""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.tags "tags"
Token[24]: TokenType.string ""api""
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.rightBrace "}"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -48: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse container declarations [E]
  Expected: <2>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 157:7           main.<fn>.<fn>
  
00:08 +125 -48: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse component declarations

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Component Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.identifier "api"
Token[11]: TokenType.equals "="
Token[12]: TokenType.containerView "container"
Token[13]: TokenType.string ""API""
Token[14]: TokenType.leftBrace "{"
Token[15]: TokenType.identifier "controller"
Token[16]: TokenType.equals "="
Token[17]: TokenType.componentView "component"
Token[18]: TokenType.string ""Controller""
Token[19]: TokenType.string ""Handles HTTP requests""
Token[20]: TokenType.string ""Spring MVC""
Token[21]: TokenType.identifier "service"
Token[22]: TokenType.equals "="
Token[23]: TokenType.componentView "component"
Token[24]: TokenType.string ""Service""
Token[25]: TokenType.string ""Business logic""
Token[26]: TokenType.string ""Spring Service""
Token[27]: TokenType.leftBrace "{"
Token[28]: TokenType.tags "tags"
Token[29]: TokenType.string ""service""
Token[30]: TokenType.rightBrace "}"
Token[31]: TokenType.rightBrace "}"
Token[32]: TokenType.rightBrace "}"
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -50: loading /home/jenner/Code/dart-structurizr/test/domain/parser/simple_documentation_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/domain/parser/simple_documentation_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/domain/parser/simple_documentation_test.dart: test/domain/parser/simple_documentation_test.dart:20:12: Error: The setter 'overrideMatchMethod' isn't defined for the class 'Parser'.
   - 'Parser' is from 'package:flutter_structurizr/domain/parser/parser.dart' ('lib/domain/parser/parser.dart').
  Try correcting the name to the name of an existing setter, or defining a setter or field named 'overrideMatchMethod'.
      parser.overrideMatchMethod = true;
             ^^^^^^^^^^^^^^^^^^^
  .
00:08 +125 -50: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse component declarations [E]
  RangeError (length): Invalid value: Valid value range is empty: 0
  dart:core                                   List.[]
  test/domain/parser/parser_test.dart 192:36  main.<fn>.<fn>
  
00:08 +125 -50: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse deployment environment and nodes

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Deployment Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.identifier "webapp"
Token[11]: TokenType.equals "="
Token[12]: TokenType.containerView "container"
Token[13]: TokenType.string ""Web App""
Token[14]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[15]: TokenType.string ""Production""
Token[16]: TokenType.leftBrace "{"
Token[17]: TokenType.identifier "aws"
Token[18]: TokenType.equals "="
Token[19]: TokenType.deploymentNode "deploymentNode"
Token[20]: TokenType.string ""AWS""
Token[21]: TokenType.string ""Amazon Web Services""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.identifier "ec2"
Token[24]: TokenType.equals "="
Token[25]: TokenType.deploymentNode "deploymentNode"
Token[26]: TokenType.string ""EC2""
Token[27]: TokenType.string ""Virtual machine""
Token[28]: TokenType.string ""Amazon EC2""
Token[29]: TokenType.leftBrace "{"
Token[30]: TokenType.containerInstance "containerInstance"
Token[31]: TokenType.identifier "webapp"
Token[32]: TokenType.rightBrace "}"
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.rightBrace "}"
Token[37]: TokenType.rightBrace "}"
Token[38]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -51: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse deployment environment and nodes [E]
  Expected: 'aws'
    Actual: 'AWSAmazonWebServices'
     Which: is different.
            Expected: aws
              Actual: AWSAmazonW ...
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 235:7           main.<fn>.<fn>
  
00:08 +125 -51: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse infrastructure nodes

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Infrastructure Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[11]: TokenType.string ""Production""
Token[12]: TokenType.leftBrace "{"
Token[13]: TokenType.identifier "aws"
Token[14]: TokenType.equals "="
Token[15]: TokenType.deploymentNode "deploymentNode"
Token[16]: TokenType.string ""AWS""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.identifier "rds"
Token[19]: TokenType.equals "="
Token[20]: TokenType.infrastructureNode "infrastructureNode"
Token[21]: TokenType.string ""RDS""
Token[22]: TokenType.string ""Database""
Token[23]: TokenType.string ""Amazon RDS""
Token[24]: TokenType.leftBrace "{"
Token[25]: TokenType.tags "tags"
Token[26]: TokenType.string ""database""
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.rightBrace "}"
Token[31]: TokenType.rightBrace "}"
Token[32]: TokenType.rightBrace "}"
Token[33]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -52: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse infrastructure nodes [E]
  Expected: 'rds'
    Actual: 'RDSDatabaseAmazonRDS'
     Which: is different.
            Expected: rds
              Actual: RDSDatabas ...
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 272:7           main.<fn>.<fn>
  
00:08 +125 -52: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse explicitly defined relationships

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Relationship Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.relationship "relationship"
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.identifier "system"
Token[16]: TokenType.string ""Uses""
Token[17]: TokenType.string ""HTTP/JSON""
Token[18]: TokenType.leftBrace "{"
Token[19]: TokenType.tags "tags"
Token[20]: TokenType.string ""important""
Token[21]: TokenType.properties "properties"
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.string ""weight""
Token[24]: TokenType.equals "="
Token[25]: TokenType.string ""5""
Token[26]: TokenType.rightBrace "}"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -53: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse explicitly defined relationships [E]
  Expected: 'user'
    Actual: 'system'
     Which: is different.
            Expected: user
              Actual: system
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 302:7           main.<fn>.<fn>
  
00:08 +125 -53: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse implicit relationships within elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Implicit Relationship Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.leftBrace "{"
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.arrow "->"
Token[16]: TokenType.this_ "this"
Token[17]: TokenType.string ""Uses""
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -54: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse implicit relationships within elements [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 330:7           main.<fn>.<fn>
  
00:08 +125 -54: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse views section

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Views Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.rightBrace "}"
Token[14]: TokenType.views "views"
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.systemLandscape "systemLandscape"
Token[17]: TokenType.string ""landscape""
Token[18]: TokenType.string ""Enterprise Landscape""
Token[19]: TokenType.leftBrace "{"
Token[20]: TokenType.include "include"
Token[21]: TokenType.star "*"
Token[22]: TokenType.autoLayout "autoLayout"
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.systemContext "systemContext"
Token[25]: TokenType.identifier "system"
Token[26]: TokenType.string ""context""
Token[27]: TokenType.string ""System Context""
Token[28]: TokenType.leftBrace "{"
Token[29]: TokenType.include "include"
Token[30]: TokenType.star "*"
Token[31]: TokenType.autoLayout "autoLayout"
Token[32]: TokenType.string ""tb""
Token[33]: TokenType.integer "300"
Token[34]: TokenType.integer "100"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.rightBrace "}"
Token[37]: TokenType.rightBrace "}"
Token[38]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -55: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse views section [E]
  Expected: 'landscape'
    Actual: 'landscapeEnterprise Landscape'
     Which: is different. Both strings start the same, but the actual value also has the following trailing characters: Enterprise ...
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 368:7           main.<fn>.<fn>
  
00:08 +125 -55: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse container and component views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Container Views Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.containerView "container"
Token[10]: TokenType.equals "="
Token[11]: TokenType.containerView "container"
Token[12]: TokenType.string ""Container""
Token[13]: TokenType.string ""Container description""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.views "views"
Token[16]: TokenType.leftBrace "{"
Token[17]: TokenType.identifier "containerView"
Token[18]: TokenType.identifier "system"
Token[19]: TokenType.string ""containers""
Token[20]: TokenType.string ""Containers""
Token[21]: TokenType.leftBrace "{"
Token[22]: TokenType.include "include"
Token[23]: TokenType.star "*"
Token[24]: TokenType.autoLayout "autoLayout"
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.identifier "componentView"
Token[27]: TokenType.containerView "container"
Token[28]: TokenType.string ""components""
Token[29]: TokenType.string ""Components""
Token[30]: TokenType.leftBrace "{"
Token[31]: TokenType.include "include"
Token[32]: TokenType.star "*"
Token[33]: TokenType.autoLayout "autoLayout"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.rightBrace "}"
Token[37]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Current token before matching: TokenType.identifier, lexeme: componentView
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: componentView, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: componentView, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "components"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "components", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "components", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Components"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Components", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Components", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.include, lexeme: include
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.include, lexeme: include, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.include, lexeme: include, matches: false
DEBUG: Current token before matching: TokenType.star, lexeme: *
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.star, lexeme: *, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.star, lexeme: *, matches: false
DEBUG: Current token before matching: TokenType.autoLayout, lexeme: autoLayout
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.autoLayout, lexeme: autoLayout, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.autoLayout, lexeme: autoLayout, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -56: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse container and component views [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 407:7           main.<fn>.<fn>
  
00:08 +125 -56: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse dynamic views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Dynamic View Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.rightBrace "}"
Token[14]: TokenType.views "views"
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.dynamicView "dynamic"
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.string ""dynamic""
Token[19]: TokenType.string ""Authentication Flow""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.include "include"
Token[22]: TokenType.star "*"
Token[23]: TokenType.autoLayout "autoLayout"
Token[24]: TokenType.rightBrace "}"
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.rightBrace "}"
Token[27]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -57: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse dynamic views [E]
  Expected: 'dynamic'
    Actual: 'dynamicAuthentication Flow'
     Which: is different. Both strings start the same, but the actual value also has the following trailing characters: Authentica ...
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 442:7           main.<fn>.<fn>
  
00:08 +125 -57: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse deployment views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Deployment View Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.views "views"
Token[11]: TokenType.leftBrace "{"
Token[12]: TokenType.deploymentView "deployment"
Token[13]: TokenType.identifier "system"
Token[14]: TokenType.string ""Production""
Token[15]: TokenType.string ""deployment""
Token[16]: TokenType.string ""Production Deployment""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.include "include"
Token[19]: TokenType.star "*"
Token[20]: TokenType.autoLayout "autoLayout"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -58: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse deployment views [E]
  Expected: 'deployment'
    Actual: '{'
     Which: is different.
            Expected: deployment ...
              Actual: {
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 469:7           main.<fn>.<fn>
  
00:08 +125 -58: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse filtered views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Filtered View Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.views "views"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.systemLandscape "systemLandscape"
Token[6]: TokenType.string ""landscape""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.include "include"
Token[9]: TokenType.star "*"
Token[10]: TokenType.rightBrace "}"
Token[11]: TokenType.filteredView "filtered"
Token[12]: TokenType.string ""landscape""
Token[13]: TokenType.string ""filtered""
Token[14]: TokenType.string ""Filtered View""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.include "include"
Token[17]: TokenType.string ""tag1""
Token[18]: TokenType.exclude "exclude"
Token[19]: TokenType.string ""tag2""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: landscape
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -59: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse filtered views [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 494:7           main.<fn>.<fn>
  
00:08 +125 -59: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse styles section

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Styles Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.styles "styles"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "element"
Token[6]: TokenType.string ""person""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.shape "shape"
Token[9]: TokenType.string ""Person""
Token[10]: TokenType.background "background"
Token[11]: TokenType.string ""#08427B""
Token[12]: TokenType.color "color"
Token[13]: TokenType.string ""#FFFFFF""
Token[14]: TokenType.fontSize "fontSize"
Token[15]: TokenType.integer "22"
Token[16]: TokenType.border "border"
Token[17]: TokenType.string ""Dashed""
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.relationship "relationship"
Token[20]: TokenType.string ""Relationship""
Token[21]: TokenType.leftBrace "{"
Token[22]: TokenType.thickness "thickness"
Token[23]: TokenType.integer "4"
Token[24]: TokenType.color "color"
Token[25]: TokenType.string ""#707070""
Token[26]: TokenType.identifier "style"
Token[27]: TokenType.string ""Dashed""
Token[28]: TokenType.routing "routing"
Token[29]: TokenType.string ""Orthogonal""
Token[30]: TokenType.fontSize "fontSize"
Token[31]: TokenType.integer "20"
Token[32]: TokenType.width "width"
Token[33]: TokenType.integer "400"
Token[34]: TokenType.position "position"
Token[35]: TokenType.integer "50"
Token[36]: TokenType.opacity "opacity"
Token[37]: TokenType.double "0.9"
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: person
DEBUG: Current token before matching: TokenType.styles, lexeme: styles
DEBUG: Current token before matching: TokenType.relationship, lexeme: relationship
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.relationship, lexeme: relationship, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.relationship, lexeme: relationship, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Relationship"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Relationship", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Relationship", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.thickness, lexeme: thickness
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.thickness, lexeme: thickness, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.thickness, lexeme: thickness, matches: false
DEBUG: Current token before matching: TokenType.integer, lexeme: 4
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.integer, lexeme: 4, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.integer, lexeme: 4, matches: false
DEBUG: Current token before matching: TokenType.color, lexeme: color
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.color, lexeme: color, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.color, lexeme: color, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "#707070"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "#707070", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "#707070", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: style
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: style, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: style, matches: false
DEBUG: Current token before matching: TokenType.routing, lexeme: routing
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.routing, lexeme: routing, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.routing, lexeme: routing, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Orthogonal"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Orthogonal", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Orthogonal", matches: false
DEBUG: Current token before matching: TokenType.fontSize, lexeme: fontSize
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.fontSize, lexeme: fontSize, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.fontSize, lexeme: fontSize, matches: false
DEBUG: Current token before matching: TokenType.integer, lexeme: 20
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.integer, lexeme: 20, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.integer, lexeme: 20, matches: false
DEBUG: Current token before matching: TokenType.width, lexeme: width
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.width, lexeme: width, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.width, lexeme: width, matches: false
DEBUG: Current token before matching: TokenType.integer, lexeme: 400
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.integer, lexeme: 400, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.integer, lexeme: 400, matches: false
DEBUG: Current token before matching: TokenType.position, lexeme: position
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.position, lexeme: position, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.position, lexeme: position, matches: false
DEBUG: Current token before matching: TokenType.integer, lexeme: 50
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.integer, lexeme: 50, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.integer, lexeme: 50, matches: false
DEBUG: Current token before matching: TokenType.opacity, lexeme: opacity
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.opacity, lexeme: opacity, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.opacity, lexeme: opacity, matches: false
DEBUG: Current token before matching: TokenType.double, lexeme: 0.9
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.double, lexeme: 0.9, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.double, lexeme: 0.9, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +125 -60: /home/jenner/Code/dart-structurizr/test/domain/parser/patched_parser_test.dart: Parse with documentation patch test
00:08 +125 -60: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse styles section [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 536:7           main.<fn>.<fn>
  
00:08 +125 -60: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse themes

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Themes Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.themes "themes"
Token[4]: TokenType.string ""https://static.structurizr.com/themes/default.json""
Token[5]: TokenType.rightBrace "}"
Token[6]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
DEBUG: Current token before matching: TokenType.themes, lexeme: themes
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +126 -60: /home/jenner/Code/dart-structurizr/test/domain/parser/patched_parser_test.dart: Parse with documentation patch test
00:08 +126 -60: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse branding

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Branding Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.branding "branding"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "logo"
Token[6]: TokenType.string ""https://example.com/logo.png""
Token[7]: TokenType.width "width"
Token[8]: TokenType.integer "400"
Token[9]: TokenType.height "height"
Token[10]: TokenType.integer "100"
Token[11]: TokenType.identifier "font"
Token[12]: TokenType.string ""Open Sans""
Token[13]: TokenType.rightBrace "}"
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: https://example.com/logo.png
DEBUG: Current token before matching: TokenType.branding, lexeme: branding
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +126 -61: /home/jenner/Code/dart-structurizr/test/domain/parser/patched_parser_test.dart: Parse with documentation patch test
00:08 +126 -61: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse branding [E]
  Expected: <400>
    Actual: <null>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 590:7           main.<fn>.<fn>
  
00:08 +126 -61: /home/jenner/Code/dart-structurizr/test/domain/parser/patched_parser_test.dart: Parse with documentation patch test
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""Test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Test documentation
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "Test documentation"
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "Test documentation"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "Test documentation"
Patched WorkspaceNode name: Test documentation
Patched WorkspaceNode has documentation: true
Documentation content: "Patched documentation content"
00:08 +127 -61: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse terminology

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Terminology Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.terminology "terminology"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.person "person"
Token[6]: TokenType.string ""Individual""
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""Application""
Token[9]: TokenType.containerView "container"
Token[10]: TokenType.string ""Service""
Token[11]: TokenType.componentView "component"
Token[12]: TokenType.string ""Module""
Token[13]: TokenType.deploymentNode "deploymentNode"
Token[14]: TokenType.string ""Server""
Token[15]: TokenType.relationship "relationship"
Token[16]: TokenType.string ""Connection""
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Individual
DEBUG: Current token before matching: TokenType.terminology, lexeme: terminology
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.terminology, lexeme: terminology, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.terminology, lexeme: terminology, matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.person, lexeme: person
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Individual"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Individual", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Individual", matches: false
DEBUG: Current token before matching: TokenType.softwareSystem, lexeme: softwareSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Application"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Application", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Application", matches: false
DEBUG: Current token before matching: TokenType.containerView, lexeme: container
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Service"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Service", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Service", matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Module"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Module", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Module", matches: false
DEBUG: Current token before matching: TokenType.deploymentNode, lexeme: deploymentNode
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.deploymentNode, lexeme: deploymentNode, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.deploymentNode, lexeme: deploymentNode, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Server"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Server", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Server", matches: false
DEBUG: Current token before matching: TokenType.relationship, lexeme: relationship
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.relationship, lexeme: relationship, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.relationship, lexeme: relationship, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Connection"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Connection", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Connection", matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +127 -62: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse terminology [E]
  Expected: <Instance of 'TerminologyNode'>
    Actual: <null>
     Which: is not an instance of 'TerminologyNode'
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 612:7           main.<fn>.<fn>
  
00:08 +127 -62: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse configuration

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Configuration Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifiers "!identifiers"
Token[6]: TokenType.identifier "hierarchical"
Token[7]: TokenType.rightBrace "}"
Token[8]: TokenType.views "views"
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.configuration "configuration"
Token[11]: TokenType.leftBrace "{"
Token[12]: TokenType.string ""branding.logo""
Token[13]: TokenType.string ""https://example.com/logo.png""
Token[14]: TokenType.string ""styles.opacity""
Token[15]: TokenType.string ""80""
Token[16]: TokenType.rightBrace "}"
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +127 -63: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse configuration [E]
  Expected: <2>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 640:7           main.<fn>.<fn>
  
00:08 +127 -63: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser Error Handling should report error for missing workspace braces

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Error Test""
Token[2]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
00:08 +128 -63: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser Error Handling should report error for invalid element type

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Error Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "unknownElement"
Token[6]: TokenType.string ""Test""
Token[7]: TokenType.rightBrace "}"
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Test
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +129 -63: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser Error Handling should report error for missing required elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.leftBrace "{"
Token[2]: TokenType.rightBrace "}"
Token[3]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +130 -63: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser Error Handling should recover from syntax errors

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Recovery Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.person "person"
Token[6]: TokenType.identifier "user"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""User""
Token[10]: TokenType.rightBrace "}"
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +130 -64: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser Error Handling should recover from syntax errors [E]
  Expected: <1>
    Actual: <2>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 702:9           main.<fn>.<fn>.<fn>
  
00:08 +130 -64: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse complex model with all elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Complete Example""
Token[2]: TokenType.string ""Comprehensive example with all elements""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "user"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""User""
Token[10]: TokenType.string ""A user of the system""
Token[11]: TokenType.leftBrace "{"
Token[12]: TokenType.tags "tags"
Token[13]: TokenType.string ""user""
Token[14]: TokenType.properties "properties"
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.string ""userType""
Token[17]: TokenType.equals "="
Token[18]: TokenType.string ""external""
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.identifier "admin"
Token[22]: TokenType.equals "="
Token[23]: TokenType.person "person"
Token[24]: TokenType.string ""Admin""
Token[25]: TokenType.string ""System administrator""
Token[26]: TokenType.identifier "system"
Token[27]: TokenType.equals "="
Token[28]: TokenType.softwareSystem "softwareSystem"
Token[29]: TokenType.string ""System""
Token[30]: TokenType.string ""Main system""
Token[31]: TokenType.leftBrace "{"
Token[32]: TokenType.tags "tags"
Token[33]: TokenType.string ""system""
Token[34]: TokenType.identifier "webapp"
Token[35]: TokenType.equals "="
Token[36]: TokenType.containerView "container"
Token[37]: TokenType.string ""Web Application""
Token[38]: TokenType.string ""Frontend""
Token[39]: TokenType.string ""React""
Token[40]: TokenType.leftBrace "{"
Token[41]: TokenType.identifier "ui"
Token[42]: TokenType.equals "="
Token[43]: TokenType.componentView "component"
Token[44]: TokenType.string ""UI""
Token[45]: TokenType.string ""User interface""
Token[46]: TokenType.string ""React Components""
Token[47]: TokenType.identifier "api"
Token[48]: TokenType.equals "="
Token[49]: TokenType.componentView "component"
Token[50]: TokenType.string ""API Client""
Token[51]: TokenType.string ""API access""
Token[52]: TokenType.string ""Axios""
Token[53]: TokenType.rightBrace "}"
Token[54]: TokenType.identifier "api"
Token[55]: TokenType.equals "="
Token[56]: TokenType.containerView "container"
Token[57]: TokenType.string ""API""
Token[58]: TokenType.string ""Backend API""
Token[59]: TokenType.string ""Spring Boot""
Token[60]: TokenType.leftBrace "{"
Token[61]: TokenType.identifier "controllers"
Token[62]: TokenType.equals "="
Token[63]: TokenType.componentView "component"
Token[64]: TokenType.string ""Controllers""
Token[65]: TokenType.string ""REST endpoints""
Token[66]: TokenType.string ""Spring MVC""
Token[67]: TokenType.identifier "services"
Token[68]: TokenType.equals "="
Token[69]: TokenType.componentView "component"
Token[70]: TokenType.string ""Services""
Token[71]: TokenType.string ""Business logic""
Token[72]: TokenType.string ""Spring Services""
Token[73]: TokenType.identifier "repos"
Token[74]: TokenType.equals "="
Token[75]: TokenType.componentView "component"
Token[76]: TokenType.string ""Repositories""
Token[77]: TokenType.string ""Data access""
Token[78]: TokenType.string ""Spring Data""
Token[79]: TokenType.rightBrace "}"
Token[80]: TokenType.identifier "db"
Token[81]: TokenType.equals "="
Token[82]: TokenType.containerView "container"
Token[83]: TokenType.string ""Database""
Token[84]: TokenType.string ""Stores data""
Token[85]: TokenType.string ""PostgreSQL""
Token[86]: TokenType.hash "#"
Token[87]: TokenType.identifier "Relationships"
Token[88]: TokenType.identifier "between"
Token[89]: TokenType.identifier "containers"
Token[90]: TokenType.identifier "webapp"
Token[91]: TokenType.arrow "->"
Token[92]: TokenType.identifier "api"
Token[93]: TokenType.string ""Makes API calls to""
Token[94]: TokenType.string ""JSON/HTTPS""
Token[95]: TokenType.identifier "api"
Token[96]: TokenType.arrow "->"
Token[97]: TokenType.identifier "db"
Token[98]: TokenType.string ""Reads from and writes to""
Token[99]: TokenType.string ""JDBC""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.identifier, lexeme: admin
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: admin, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: admin, matches: false
DEBUG: Current token before matching: TokenType.person, lexeme: person
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Admin"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Admin", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Admin", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "System administrator"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "System administrator", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "System administrator", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: system
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: system, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: system, matches: false
DEBUG: Current token before matching: TokenType.softwareSystem, lexeme: softwareSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "System"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "System", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "System", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Main system"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Main system", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Main system", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.tags, lexeme: tags
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.tags, lexeme: tags, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.tags, lexeme: tags, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "system"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "system", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "system", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: webapp
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: webapp, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: webapp, matches: false
DEBUG: Current token before matching: TokenType.containerView, lexeme: container
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Web Application"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Web Application", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Web Application", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Frontend"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Frontend", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Frontend", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "React"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "React", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "React", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: ui
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: ui, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: ui, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "UI"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "UI", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "UI", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "User interface"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "User interface", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "User interface", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "React Components"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "React Components", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "React Components", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: api
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: api, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: api, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "API Client"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "API Client", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "API Client", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "API access"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "API access", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "API access", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Axios"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Axios", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Axios", matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:08 +130 -65: /home/jenner/Code/dart-structurizr/test/domain/parser/parser_test.dart: Parser should parse complex model with all elements [E]
  Expected: 'Complete Example'
    Actual: 'user'
     Which: is different.
            Expected: Complete E ...
              Actual: user
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/parser_test.dart 847:7           main.<fn>.<fn>
  
00:08 +130 -65: /home/jenner/Code/dart-structurizr/test/domain/parser/simple_parser_test.dart: Simple Parser Test parses a basic DSL model

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.string ""Description""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "user"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""User""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.arrow "->"
Token[16]: TokenType.identifier "system"
Token[17]: TokenType.string ""Uses""
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
AST: Instance of 'WorkspaceNode'
Error count: 0
00:08 +130 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/simple_parser_test.dart: Simple Parser Test parses a basic DSL model [E]
  Expected: 'Description'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/simple_parser_test.dart 39:7     main.<fn>.<fn>
  
00:09 +130 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/fixed_parser_test.dart: FixedParser correctly parses documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""Test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""Test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Test documentation
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "Test documentation"
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "Test documentation"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "Test documentation"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
PATCH IMPROVED: Found documentation content: Test documentation
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
Fixed parser workspace name: Test documentation
Documentation present: true
Documentation content: "Test documentation"
00:09 +131 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/reference_resolver_test.dart: ReferenceResolver basic functionality
00:09 +132 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/reference_resolver_test.dart: ReferenceResolver variable alias resolution
00:09 +133 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_lexer_test.dart: Documentation Lexer scans documentation tokens correctly
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
00:09 +134 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_lexer_test.dart: Documentation Lexer scans documentation with format specification
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
00:09 +135 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_lexer_test.dart: Documentation Lexer scans documentation with sections
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
00:09 +136 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_lexer_test.dart: Documentation Lexer scans decision tokens correctly
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
00:09 +137 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_parser_test.dart: DocumentationParser Basic documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is a test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is a test documentation""
Token[8]: TokenType.rightBrace "}"
Token[9]: TokenType.rightBrace "}"
Token[10]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: This is a test documentation
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "This is a test documentation"
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "This is a test documentation"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "This is a test documentation"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
PATCH IMPROVED: Found documentation content: This is a test documentation
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
00:09 +138 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_parser_test.dart: DocumentationParser Documentation with format
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.format "format"
  ⭐ Found special token: TokenType.format
Token[5]: TokenType.equals "="
Token[6]: TokenType.string ""asciidoc""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.content "content"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""= Test Document\n\nThis is an AsciiDoc document.""
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.rightBrace "}"
Token[13]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.format "format"
Token[5]: TokenType.equals "="
Token[6]: TokenType.string ""asciidoc""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.content "content"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""= Test Document\n\nThis is an AsciiDoc document.""
Token[11]: TokenType.rightBrace "}"
Token[12]: TokenType.rightBrace "}"
Token[13]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: = Test Document

This is an AsciiDoc document.
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "= Test Document

This is an AsciiDoc document."
DEBUG: Created DocumentationNode with 0 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "= Test Document

This is an AsciiDoc document."
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "= Test Document

This is an AsciiDoc document."
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
FORMAT DEBUG: Checking token[4]: TokenType.format "format"
FORMAT DEBUG: Found format token at position 4! Type: TokenType.format
FORMAT DEBUG: ✅ Found format specification outside block: "asciidoc"
FORMAT DEBUG: ⭐⭐⭐ Setting format to ASCIIDOC ⭐⭐⭐
FORMAT DEBUG: Format set to DocumentationFormat.asciidoc
PATCH IMPROVED: Found documentation content: = Test Document\n\nThis is an AsciiDoc document.
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.asciidoc
00:09 +139 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/documentation_parser_test.dart: DocumentationParser Decisions
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.decisions "decisions"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.title "title"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use Markdown for documentation""
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""Accepted""
Token[14]: TokenType.date "date"
Token[15]: TokenType.equals "="
Token[16]: TokenType.string ""2023-01-01""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""We will use Markdown for documentation because it's simple and widely supported.""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.title "title"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use Markdown for documentation""
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""Accepted""
Token[14]: TokenType.date "date"
Token[15]: TokenType.equals "="
Token[16]: TokenType.string ""2023-01-01""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""We will use Markdown for documentation because it's simple and widely supported.""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: ADR-001
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Finished parsing decisions block, count: 1
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 1
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found decisions token at position 3, lexeme: decisions
PATCH IMPROVED: Found decision: "ADR-001" with title: "Use Markdown for documentation"
00:09 +140 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/documentation_keyword_test.dart: Documentation and decisions are properly recognized as tokens
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

--- TOKEN STREAM ---
0: TokenType.workspace | workspace
1: TokenType.string | "Test"
2: TokenType.leftBrace | {
3: TokenType.documentation | documentation
4: TokenType.leftBrace | {
5: TokenType.content | content
6: TokenType.equals | =
7: TokenType.string | "Documentation content"
8: TokenType.rightBrace | }
9: TokenType.decisions | decisions
10: TokenType.leftBrace | {
11: TokenType.decision | decision
12: TokenType.string | "ADR-001"
13: TokenType.leftBrace | {
14: TokenType.title | title
15: TokenType.equals | =
16: TokenType.string | "Test Decision"
17: TokenType.status | status
18: TokenType.equals | =
19: TokenType.string | "Accepted"
20: TokenType.content | content
21: TokenType.equals | =
22: TokenType.string | "Decision content"
23: TokenType.rightBrace | }
24: TokenType.rightBrace | }
25: TokenType.rightBrace | }
26: TokenType.eof | 
--- END TOKEN STREAM ---

Documentation token: TokenType.documentation
Decisions token: TokenType.decisions
00:09 +141 -66: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/documentation_test.dart: Documentation Parser Tests should parse documentation and decisions blocks
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

--- DEBUG TOKENS ---
Token: TokenType.workspace | Lexeme: "workspace" | Line: 1 | Column: 9
Token: TokenType.string | Lexeme: ""Documentation Test"" | Line: 1 | Column: 19
Token: TokenType.leftBrace | Lexeme: "{" | Line: 1 | Column: 40
Token: TokenType.documentation | Lexeme: "documentation" | Line: 2 | Column: 11
Token: TokenType.leftBrace | Lexeme: "{" | Line: 2 | Column: 25
Token: TokenType.content | Lexeme: "content" | Line: 3 | Column: 13
Token: TokenType.equals | Lexeme: "=" | Line: 3 | Column: 21
Token: TokenType.string | Lexeme: ""This is the main documentation content"" | Line: 3 | Column: 23
Token: TokenType.section | Lexeme: "section" | Line: 4 | Column: 13
Token: TokenType.string | Lexeme: ""Getting Started"" | Line: 4 | Column: 21
Token: TokenType.leftBrace | Lexeme: "{" | Line: 4 | Column: 39
Token: TokenType.content | Lexeme: "content" | Line: 5 | Column: 15
Token: TokenType.equals | Lexeme: "=" | Line: 5 | Column: 23
Token: TokenType.string | Lexeme: ""This is how to get started with the system"" | Line: 5 | Column: 25
Token: TokenType.rightBrace | Lexeme: "}" | Line: 6 | Column: 13
Token: TokenType.rightBrace | Lexeme: "}" | Line: 7 | Column: 11
Token: TokenType.decisions | Lexeme: "decisions" | Line: 9 | Column: 11
Token: TokenType.leftBrace | Lexeme: "{" | Line: 9 | Column: 21
Token: TokenType.decision | Lexeme: "decision" | Line: 10 | Column: 13
Token: TokenType.string | Lexeme: ""ADR-001"" | Line: 10 | Column: 22
Token: TokenType.leftBrace | Lexeme: "{" | Line: 10 | Column: 32
Token: TokenType.title | Lexeme: "title" | Line: 11 | Column: 15
Token: TokenType.equals | Lexeme: "=" | Line: 11 | Column: 21
Token: TokenType.string | Lexeme: ""Use C4 model"" | Line: 11 | Column: 23
Token: TokenType.status | Lexeme: "status" | Line: 12 | Column: 15
Token: TokenType.equals | Lexeme: "=" | Line: 12 | Column: 22
Token: TokenType.string | Lexeme: ""Accepted"" | Line: 12 | Column: 24
Token: TokenType.date | Lexeme: "date" | Line: 13 | Column: 15
Token: TokenType.equals | Lexeme: "=" | Line: 13 | Column: 20
Token: TokenType.string | Lexeme: ""2023-05-15"" | Line: 13 | Column: 22
Token: TokenType.content | Lexeme: "content" | Line: 14 | Column: 15
Token: TokenType.equals | Lexeme: "=" | Line: 14 | Column: 23
Token: TokenType.string | Lexeme: ""We will use the C4 model for our architecture documentation."" | Line: 14 | Column: 25
Token: TokenType.rightBrace | Lexeme: "}" | Line: 15 | Column: 13
Token: TokenType.rightBrace | Lexeme: "}" | Line: 16 | Column: 11
Token: TokenType.rightBrace | Lexeme: "}" | Line: 17 | Column: 9
Token: TokenType.eof | Lexeme: "" | Line: 18 | Column: 7
--- END DEBUG TOKENS ---

LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Getting Started""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This is how to get started with the system""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.decision "decision"
Token[19]: TokenType.string ""ADR-001""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.title "title"
Token[22]: TokenType.equals "="
Token[23]: TokenType.string ""Use C4 model""
Token[24]: TokenType.status "status"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Accepted""
Token[27]: TokenType.date "date"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""2023-05-15""
Token[30]: TokenType.content "content"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: This is the main documentation content
DEBUG: Found decisions token at position 16, lexeme: decisions
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Parsed decisions count: 1
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "This is the main documentation content"
DEBUG: Created DocumentationNode with 1 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Finished parsing decisions block, count: 2
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 2
DEBUG: Documentation content is: "This is the main documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "This is the main documentation content"
Documentation test: workspaceNode has documentation: false
Documentation test: workspaceNode has decisions: 0
00:09 +141 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/documentation_test.dart: Documentation Parser Tests should parse documentation and decisions blocks [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                        expect
  package:flutter_test/src/widget_tester.dart 474:18     expect
  test/domain/parser/lexer/documentation_test.dart 55:7  main.<fn>.<fn>
  
00:09 +141 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Basic tokens should scan empty source
00:09 +142 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Basic tokens should scan basic single-character tokens
00:09 +143 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Basic tokens should scan arrow token
00:09 +144 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Basic tokens should scan equals token
00:09 +145 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Whitespace handling should ignore whitespace
00:09 +146 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Whitespace handling should track line numbers correctly
00:09 +147 -67: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Whitespace handling should track column numbers correctly
00:09 +147 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Whitespace handling should track column numbers correctly [E]
  RangeError (index): Invalid value: Not in inclusive range 0..8: 9
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 425:7   Lexer._number
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 136:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 113:24                    main.<fn>.<fn>.<fn>
  
00:09 +147 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Comments should ignore line comments
00:09 +148 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Comments should ignore block comments
00:09 +149 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Comments should handle nested block comments
00:09 +150 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Comments should report error for unterminated block comment
00:09 +151 -68: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan integer literals
00:09 +151 -69: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan integer literals [E]
  RangeError (index): Invalid value: Not in inclusive range 0..10: 11
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 425:7   Lexer._number
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 136:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 171:24                    main.<fn>.<fn>.<fn>
  
00:09 +151 -69: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan double literals
00:09 +151 -70: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan double literals [E]
  RangeError (index): Invalid value: Not in inclusive range 0..11: 12
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 435:9   Lexer._number
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 136:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 190:24                    main.<fn>.<fn>.<fn>
  
00:09 +151 -70: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan string literals with double quotes
00:09 +152 -70: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan string literals with single quotes
00:09 +153 -70: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan boolean literals
00:09 +153 -71: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Literals should scan boolean literals [E]
  RangeError (index): Invalid value: Not in inclusive range 0..9: 10
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 451:7   Lexer._identifier
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 138:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 244:24                    main.<fn>.<fn>.<fn>
  
00:09 +153 -71: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should process escape sequences in string literals
00:09 +154 -71: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should process Unicode escape sequences
00:09 +154 -72: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should process Unicode escape sequences [E]
  Expected: 'ABC'
    Actual: '004100420043'
     Which: is different.
            Expected: ABC
              Actual: 0041004200 ...
                      ^
             Differ at offset 0
  Token value should match
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 37:9       main.<fn>.expectToken
  test/domain/parser/lexer/lexer_test.dart 285:9      main.<fn>.<fn>.<fn>
  
00:09 +154 -72: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for invalid escape sequences
00:09 +154 -73: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for invalid escape sequences [E]
  Expected: contains 'Invalid escape sequence'
    Actual: 'Unknown escape sequence: \\z - treating as literal character'
     Which: does not contain 'Invalid escape sequence'
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 299:9      main.<fn>.<fn>.<fn>
  
00:09 +154 -73: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for incomplete Unicode escape sequence
00:09 +154 -74: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for incomplete Unicode escape sequence [E]
  Expected: 'Incomplete Unicode escape sequence'
    Actual: 'Unterminated string literal'
     Which: is different.
            Expected: Incomplete ...
              Actual: Unterminat ...
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 311:9      main.<fn>.<fn>.<fn>
  
00:09 +154 -74: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for invalid Unicode escape sequence
00:09 +154 -75: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for invalid Unicode escape sequence [E]
  Expected: contains 'Invalid Unicode escape sequence'
    Actual: 'Unterminated string literal'
     Which: does not contain 'Invalid Unicode escape sequence'
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 323:9      main.<fn>.<fn>.<fn>
  
00:09 +154 -75: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should report error for unterminated string
00:09 +155 -75: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should handle multi-line strings
00:09 +155 -76: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode creation with ID
00:09 +155 -76: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer String literal features should handle multi-line strings [E]
  Expected: '"Line 1\n'
              'Line 2\n'
              'Line 3"'
    Actual: '"Line 1'
     Which: is different. Both strings start the same, but the actual value is missing the following trailing characters: \nLine 2\n ...
  Token lexeme should match
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 34:7       main.<fn>.expectToken
  test/domain/parser/lexer/lexer_test.dart 345:9      main.<fn>.<fn>.<fn>
  
00:09 +155 -77: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode creation with ID
00:09 +155 -77: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Identifiers and keywords should scan identifiers [E]
  RangeError (index): Invalid value: Not in inclusive range 0..35: 36
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 451:7   Lexer._identifier
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 138:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 357:24                    main.<fn>.<fn>.<fn>
  
00:09 +155 -78: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode creation with ID
00:09 +155 -78: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Identifiers and keywords should recognize all keywords [E]
  RangeError (index): Invalid value: Not in inclusive range 0..77: 78
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 451:7   Lexer._identifier
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 138:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 370:24                    main.<fn>.<fn>.<fn>
  
00:09 +155 -79: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode creation with ID
00:09 +155 -79: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Identifiers and keywords should scan view-related keywords [E]
  RangeError (index): Invalid value: Not in inclusive range 0..89: 90
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 451:7   Lexer._identifier
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 138:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 388:24                    main.<fn>.<fn>.<fn>
  
00:09 +155 -80: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode creation with ID
00:09 +156 -80: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode.create() factory generates UUID
00:09 +156 -80: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Identifiers and keywords should scan styling keywords [E]
  RangeError (index): Invalid value: Not in inclusive range 0..97: 98
  dart:core                                                          _StringBase.[]
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 563:18  Lexer._advance
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 451:7   Lexer._identifier
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 138:11  Lexer._scanToken
  package:flutter_structurizr/domain/parser/lexer/lexer.dart 34:7    Lexer.scanTokens
  test/domain/parser/lexer/lexer_test.dart 12:20                     main.<fn>.scanTokens
  test/domain/parser/lexer/lexer_test.dart 406:24                    main.<fn>.<fn>.<fn>
  
00:09 +157 -80: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests DeploymentNode.create() factory generates UUID
00:09 +158 -80: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Error handling should continue lexing after errors
00:09 +159 -80: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests addChildNode() adds a child deployment node
00:09 +160 -80: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests addChildNode() adds a child deployment node
00:09 +161 -80: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Real-world examples should lex a component definition with properties
00:09 +161 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests addContainerInstance() adds a container instance
00:09 +161 -81: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Real-world examples should lex a component definition with properties [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/domain/parser/lexer/lexer_test.dart 502:9      main.<fn>.<fn>.<fn>
  
00:09 +162 -81: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Documentation and decisions keywords should correctly identify documentation and decisions as keywords
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

--- DEBUG: TOKENS FOR DOCUMENTATION/DECISIONS TEST ---
Token: TokenType.workspace | Lexeme: "workspace" | Line: 1 | Column: 1
Token: TokenType.leftBrace | Lexeme: "{" | Line: 1 | Column: 11
Token: TokenType.documentation | Lexeme: "documentation" | Line: 2 | Column: 3
Token: TokenType.leftBrace | Lexeme: "{" | Line: 2 | Column: 17
Token: TokenType.content | Lexeme: "content" | Line: 3 | Column: 5
Token: TokenType.equals | Lexeme: "=" | Line: 3 | Column: 13
Token: TokenType.string | Lexeme: ""This is documentation"" | Line: 3 | Column: 15
Token: TokenType.rightBrace | Lexeme: "}" | Line: 4 | Column: 3
Token: TokenType.decisions | Lexeme: "decisions" | Line: 6 | Column: 3
00:09 +163 -81: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Documentation and decisions keywords should correctly identify documentation and decisions as keywords
Token: TokenType.leftBrace | Lexeme: "{" | Line: 6 | Column: 13
Token: TokenType.decision | Lexeme: "decision" | Line: 7 | Column: 5
Token: TokenType.string | Lexeme: ""ADR-001"" | Line: 7 | Column: 14
Token: TokenType.leftBrace | Lexeme: "{" | Line: 7 | Column: 24
Token: TokenType.title | Lexeme: "title" | Line: 8 | Column: 7
Token: TokenType.equals | Lexeme: "=" | Line: 8 | Column: 13
Token: TokenType.string | Lexeme: ""Test Decision"" | Line: 8 | Column: 15
Token: TokenType.rightBrace | Lexeme: "}" | Line: 9 | Column: 5
Token: TokenType.rightBrace | Lexeme: "}" | Line: 10 | Column: 3
Token: TokenType.identifier | Lexeme: "myDocumentation" | Line: 13 | Column: 3
Token: TokenType.equals | Lexeme: "=" | Line: 13 | Column: 19
Token: TokenType.string | Lexeme: ""Not a keyword"" | Line: 13 | Column: 21
Token: TokenType.identifier | Lexeme: "myDecisions" | Line: 14 | Column: 3
Token: TokenType.equals | Lexeme: "=" | Line: 14 | Column: 15
Token: TokenType.string | Lexeme: ""Not a keyword"" | Line: 14 | Column: 17
Token: TokenType.rightBrace | Lexeme: "}" | Line: 15 | Column: 1
Token: TokenType.eof | Lexeme: "" | Line: 16 | Column: 1
--- END DEBUG ---

00:09 +164 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: DeploymentNode tests addInfrastructureNode() adds an infrastructure node
00:09 +165 -81: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Documentation and decisions keywords should correctly identify isolated documentation and decisions tokens
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

--- DEBUG: TOKENS FOR ISOLATED DOCUMENTATION/DECISIONS TEST ---
Token: TokenType.documentation | Lexeme: "documentation" | Line: 1 | Column: 1
Token: TokenType.decisions | Lexeme: "decisions" | Line: 2 | Column: 1
Token: TokenType.eof | Lexeme: "" | Line: 3 | Column: 1
--- END DEBUG ---

00:09 +166 -81: /home/jenner/Code/dart-structurizr/test/domain/parser/lexer/lexer_test.dart: Lexer Documentation and decisions keywords should correctly identify isolated documentation and decisions tokens
00:09 +167 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: InfrastructureNode tests InfrastructureNode creation with ID
00:09 +168 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: InfrastructureNode tests InfrastructureNode.create() factory generates UUID
00:09 +169 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: InfrastructureNode tests addRelationship() adds a relationship from the infrastructure node
00:09 +170 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: ContainerInstance tests ContainerInstance creation with ID
00:09 +171 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: ContainerInstance tests ContainerInstance.create() factory generates UUID
00:09 +172 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: ContainerInstance tests addRelationship() adds a relationship from the container instance
00:09 +173 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: SoftwareSystemInstance tests SoftwareSystemInstance creation with ID
00:09 +174 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: SoftwareSystemInstance tests SoftwareSystemInstance.create() factory generates UUID
00:09 +175 -81: /home/jenner/Code/dart-structurizr/test/domain/model/deployment_test.dart: SoftwareSystemInstance tests addRelationship() adds a relationship from the software system instance
00:09 +176 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests Component creation with ID
00:09 +177 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests Component.create() factory generates UUID
00:09 +178 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests addTag() adds a tag to the component
00:09 +179 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests addTags() adds multiple tags to the component
00:09 +180 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests addProperty() adds a property to the component
00:09 +181 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests addRelationship() adds a relationship from the component
00:09 +182 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests Multiple relationships can be added
00:09 +183 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests Component equality is based on ID
00:09 +184 -81: /home/jenner/Code/dart-structurizr/test/domain/model/component_test.dart: Component tests Component in model hierarchy
All element IDs: [system-1, container-1, component-1]
Component ID to find: component-1
00:09 +185 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling model.relationships returns all relationships from elements
00:09 +186 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling can access sourceId and destinationId from relationships
00:09 +187 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling ModeledRelationship provides direct access to source and destination elements
00:09 +188 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling adds new relationships to the model correctly
00:09 +189 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling model.validate() verifies relationships reference valid elements
00:09 +190 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_relationship_handling_test.dart: Model Relationship Handling can find relationships between elements
00:09 +191 -81: /home/jenner/Code/dart-structurizr/test/domain/model/modeled_relationship_test.dart: ModeledRelationship provides access to source and destination elements
00:09 +192 -81: /home/jenner/Code/dart-structurizr/test/domain/model/modeled_relationship_test.dart: ModeledRelationship model provides access to all elements and relationships
00:10 +193 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace creates a workspace with required properties
00:10 +194 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace creates a workspace with all properties
00:10 +195 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace validates with no errors for valid workspace
00:10 +196 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace validates with errors for empty name
00:10 +197 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace validates by including model validation errors
00:10 +198 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: Workspace updates model
00:10 +199 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: WorkspaceConfiguration creates configuration with default values
00:10 +200 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: WorkspaceConfiguration creates configuration with all properties
00:10 +201 -81: /home/jenner/Code/dart-structurizr/test/domain/model/workspace_test.dart: User creates a user with required properties
00:10 +202 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_finder_test.dart: RelationshipFinder should find all relationships in a model
00:10 +203 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_finder_test.dart: RelationshipFinder should find relationships involving an element
00:10 +204 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_finder_test.dart: RelationshipFinder should find relationships with a specific tag
00:10 +205 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element creates an element with required properties
00:10 +206 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element creates an element with all properties
00:10 +207 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element creates an element with generated ID
00:10 +208 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element adds a tag
00:10 +209 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element adds multiple tags
00:10 +210 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element adds a property
00:10 +211 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element adds a relationship
00:10 +212 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element gets relationships to a specific destination
00:10 +213 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Element throws exception when relationship is not found
00:10 +214 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Relationship creates a relationship with required properties
00:10 +215 -81: /home/jenner/Code/dart-structurizr/test/domain/model/element_test.dart: Relationship creates a relationship with all properties
00:10 +216 -81: /home/jenner/Code/dart-structurizr/test/domain/model/simple_test.dart: A simple test
00:10 +217 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_test.dart: Reference resolution model provides access to all elements and relationships
00:10 +218 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_test.dart: Reference resolution ModeledRelationship provides access to source and destination
00:10 +219 -81: /home/jenner/Code/dart-structurizr/test/domain/model/relationship_test.dart: Reference resolution ModeledRelationship throws exception when elements are not found
00:10 +220 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model creates a model with default values
00:10 +221 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model creates a model with all properties
00:10 +222 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model gets all elements
00:10 +223 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model finds element by ID
00:10 +224 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model adds a person
00:10 +225 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model adds a software system
00:10 +226 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model adds a deployment node
00:10 +227 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model validates with no errors for valid model
00:10 +228 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model validates with errors for duplicate IDs
00:10 +229 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Model validates with errors for invalid relationship references
00:10 +230 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Person creates a person with required properties
00:10 +231 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: Person creates a person with all properties
00:10 +232 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: SoftwareSystem creates a software system with required properties
00:10 +233 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: SoftwareSystem creates a software system with all properties
00:10 +234 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: SoftwareSystem adds a container
00:10 +235 -81: /home/jenner/Code/dart-structurizr/test/domain/model/model_test.dart: SoftwareSystem gets container by ID
00:10 +236 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests Container creation with ID
00:10 +237 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests Container.create() factory generates UUID
00:10 +238 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests addComponent() adds a component to the container
00:10 +239 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests getComponentById() returns the correct component
00:10 +240 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests getComponentById() returns null for non-existent component
00:10 +241 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests addTag() adds a tag to the container
00:10 +242 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests addTags() adds multiple tags to the container
00:10 +243 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests addProperty() adds a property to the container
00:10 +244 -81: /home/jenner/Code/dart-structurizr/test/domain/model/container_test.dart: Container tests addRelationship() adds a relationship from the container
00:10 +245 -82: loading /home/jenner/Code/dart-structurizr/test/domain/style/themes_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/domain/style/themes_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/domain/style/themes_test.dart: test/domain/style/themes_test.dart:49:18: Error: Undefined name 'Routing'.
          routing: Routing.orthogonal,
                   ^^^^^^^
  test/domain/style/themes_test.dart:60:36: Error: Undefined name 'Routing'.
        expect(style.routing, equals(Routing.orthogonal));
                                     ^^^^^^^
  test/domain/style/themes_test.dart:216:18: Error: Undefined name 'Routing'.
          routing: Routing.direct,
                   ^^^^^^^
  test/domain/style/themes_test.dart:232:42: Error: Undefined name 'Routing'.
        expect(mergedStyle.routing, equals(Routing.direct));
                                           ^^^^^^^
  .
00:10 +245 -82: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Documentation creates an empty Documentation instance
00:10 +246 -82: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Documentation creates a Documentation instance with sections
00:10 +247 -82: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Documentation serializes and deserializes a Documentation instance
00:10 +247 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Documentation serializes and deserializes a Documentation instance [E]
  type '_$DocumentationSectionImpl' is not a subtype of type 'Map<String, dynamic>' in type cast
  package:flutter_structurizr/domain/documentation/documentation.g.dart 13:51        _$$DocumentationImplFromJson.<fn>
  dart:_internal                                                                     ListIterable.toList
  package:flutter_structurizr/domain/documentation/documentation.g.dart 14:16        _$$DocumentationImplFromJson
  package:flutter_structurizr/domain/documentation/documentation.freezed.dart 143:7  new _$DocumentationImpl.fromJson
  package:flutter_structurizr/domain/documentation/documentation.freezed.dart 18:25  _$DocumentationFromJson
  package:flutter_structurizr/domain/documentation/documentation.dart 31:64          new Documentation.fromJson
  test/domain/documentation/documentation_test.dart 53:38                            main.<fn>.<fn>
  
00:10 +247 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: DocumentationSection creates a DocumentationSection instance
00:10 +248 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: DocumentationSection serializes and deserializes a DocumentationSection instance
00:10 +249 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Decision creates a Decision instance
00:10 +250 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Decision serializes and deserializes a Decision instance
00:10 +251 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Image creates an Image instance
00:10 +252 -83: /home/jenner/Code/dart-structurizr/test/domain/documentation/documentation_test.dart: Image serializes and deserializes an Image instance
00:10 +253 -83: /home/jenner/Code/dart-structurizr/test/domain/style/branding_test.dart: Branding creates branding with default values
00:10 +254 -83: /home/jenner/Code/dart-structurizr/test/domain/style/branding_test.dart: Branding creates branding with all properties
00:10 +255 -83: /home/jenner/Code/dart-structurizr/test/domain/style/branding_test.dart: Branding adds font
00:10 +256 -83: /home/jenner/Code/dart-structurizr/test/domain/style/branding_test.dart: Font creates font with required properties
00:11 +257 -84: loading /home/jenner/Code/dart-structurizr/test/domain/style/styles_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/domain/style/styles_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/domain/style/styles_test.dart: test/domain/style/styles_test.dart:247:36: Error: Undefined name 'Routing'.
        expect(style.routing, equals(Routing.direct));
                                     ^^^^^^^
  test/domain/style/styles_test.dart:260:18: Error: Undefined name 'Routing'.
          routing: Routing.curved,
                   ^^^^^^^
  test/domain/style/styles_test.dart:271:36: Error: Undefined name 'Routing'.
        expect(style.routing, equals(Routing.curved));
                                     ^^^^^^^
  test/domain/style/styles_test.dart:290:18: Error: Undefined name 'Routing'.
          routing: Routing.curved,
                   ^^^^^^^
  test/domain/style/styles_test.dart:299:42: Error: Undefined name 'Routing'.
        expect(mergedStyle.routing, equals(Routing.curved));
                                           ^^^^^^^
  .
00:11 +257 -85: loading /home/jenner/Code/dart-structurizr/test/problematic_workspace_name_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/problematic_workspace_name_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/problematic_workspace_name_test.dart: test/problematic_workspace_name_test.dart:82:35: Error: The getter 'hasWarnings' isn't defined for the class 'ErrorReporter'.
   - 'ErrorReporter' is from 'package:flutter_structurizr/domain/parser/error_reporter.dart' ('lib/domain/parser/error_reporter.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'hasWarnings'.
        expect(parser.errorReporter.hasWarnings, isTrue);
                                    ^^^^^^^^^^^
  .
00:12 +257 -85: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_fixed_test.dart: Documentation Integration Tests with Fixed Parser documentation block is parsed and mapped to domain model
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Getting Started""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This is how to get started with the system""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.section "section"
Token[16]: TokenType.string ""Architecture""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.content "content"
Token[19]: TokenType.equals "="
Token[20]: TokenType.string ""This section describes the architecture""
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Getting Started""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This is how to get started with the system""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.section "section"
Token[16]: TokenType.string ""Architecture""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.content "content"
Token[19]: TokenType.equals "="
Token[20]: TokenType.string ""This section describes the architecture""
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: This is the main documentation content
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "This is the main documentation content"
DEBUG: Created DocumentationNode with 2 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "This is the main documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "This is the main documentation content"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
PATCH IMPROVED: Found documentation content: This is the main documentation content
PATCH IMPROVED: Found section: "Getting Started" with content: "This is how to get started with the system"
PATCH IMPROVED: Found section: "Architecture" with content: "This section describes the architecture"
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
Documentation test: workspaceNode has documentation: true
Documentation test: workspaceNode has decisions: 0
Documentation test: content: "This is the main documentation content"
Documentation test: sections count: 2
Documentation test: errorReporter has errors: false
00:12 +258 -85: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_fixed_test.dart: Documentation Integration Tests with Fixed Parser decisions are parsed and mapped to domain model
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.decisions "decisions"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.title "title"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use C4 model""
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""Accepted""
Token[14]: TokenType.date "date"
Token[15]: TokenType.equals "="
Token[16]: TokenType.string ""2023-05-15""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.decision "decision"
Token[22]: TokenType.string ""ADR-002""
Token[23]: TokenType.leftBrace "{"
Token[24]: TokenType.title "title"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Use Markdown for documentation""
Token[27]: TokenType.status "status"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""Accepted""
Token[30]: TokenType.date "date"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""2023-06-01""
Token[33]: TokenType.content "content"
Token[34]: TokenType.equals "="
Token[35]: TokenType.string ""We will use Markdown for all documentation.""
Token[36]: TokenType.identifier "link"
Token[37]: TokenType.string ""ADR-001""
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.title "title"
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use C4 model""
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""Accepted""
Token[14]: TokenType.date "date"
Token[15]: TokenType.equals "="
Token[16]: TokenType.string ""2023-05-15""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.decision "decision"
Token[22]: TokenType.string ""ADR-002""
Token[23]: TokenType.leftBrace "{"
Token[24]: TokenType.title "title"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Use Markdown for documentation""
Token[27]: TokenType.status "status"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""Accepted""
Token[30]: TokenType.date "date"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""2023-06-01""
Token[33]: TokenType.content "content"
Token[34]: TokenType.equals "="
Token[35]: TokenType.string ""We will use Markdown for all documentation.""
Token[36]: TokenType.identifier "link"
Token[37]: TokenType.string ""ADR-001""
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: ADR-001
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 2 decisions
DEBUG: Finished parsing decisions block, count: 2
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 2
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found decisions token at position 3, lexeme: decisions
PATCH IMPROVED: Found decision: "ADR-001" with title: "Use C4 model"
PATCH IMPROVED: Found decision: "ADR-002" with title: "Use Markdown for documentation"
Decisions test: workspaceNode has documentation: false
Decisions test: workspaceNode has decisions: 2
Decisions test: first decision ID: "ADR-001"
Decisions test: first decision title: "Use C4 model"
Decisions test: errorReporter has errors: false
00:12 +259 -85: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_fixed_test.dart: Documentation Integration Tests with Fixed Parser combined documentation and decisions are mapped correctly
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Architecture Decisions""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This section summarizes the key architecture decisions.""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.decisions "decisions"
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.decision "decision"
Token[19]: TokenType.string ""ADR-001""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.title "title"
Token[22]: TokenType.equals "="
Token[23]: TokenType.string ""Use C4 model""
Token[24]: TokenType.status "status"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Accepted""
Token[27]: TokenType.date "date"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""2023-05-15""
Token[30]: TokenType.content "content"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Architecture Decisions""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This section summarizes the key architecture decisions.""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.decision "decision"
Token[19]: TokenType.string ""ADR-001""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.title "title"
Token[22]: TokenType.equals "="
Token[23]: TokenType.string ""Use C4 model""
Token[24]: TokenType.status "status"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Accepted""
Token[27]: TokenType.date "date"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""2023-05-15""
Token[30]: TokenType.content "content"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: This is the main documentation content
DEBUG: Found decisions token at position 16, lexeme: decisions
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Parsed decisions count: 1
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "This is the main documentation content"
DEBUG: Created DocumentationNode with 1 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Finished parsing decisions block, count: 2
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 2
DEBUG: Documentation content is: "This is the main documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "This is the main documentation content"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
PATCH IMPROVED: Found documentation content: This is the main documentation content
PATCH IMPROVED: Found section: "Architecture Decisions" with content: "This section summarizes the key architecture decisions."
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
PATCH: Found decisions token at position 16, lexeme: decisions
PATCH IMPROVED: Found decision: "ADR-001" with title: "Use C4 model"
Combined test: workspaceNode has documentation: true
Combined test: workspaceNode has decisions: 1
Combined test: content: "This is the main documentation content"
Combined test: sections count: 1
Combined test: errorReporter has errors: false
00:12 +259 -86: /home/jenner/Code/dart-structurizr/test/integration/minimal_integration_test.dart: Minimal Integration Test parser and mapper complete without errors
00:12 +259 -86: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_fixed_test.dart: Documentation Integration Tests with Fixed Parser combined documentation and decisions are mapped correctly [E]
  Expected: an object with length of <1>
    Actual: [
              _$DecisionImpl:Decision(id: ADR-001, date: 2023-05-15 00:00:00.000, status: Accepted, title: Use C4 model, content: We will use the C4 model for our architecture documentation., format: DocumentationFormat.markdown, elementId: null, links: []),
              _$DecisionImpl:Decision(id: ADR-001, date: 2023-05-15 00:00:00.000, status: Accepted, title: Use C4 model, content: We will use the C4 model for our architecture documentation., format: DocumentationFormat.markdown, elementId: null, links: [])
            ]
     Which: has length of <2>
  
  package:matcher                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                expect
  test/integration/documentation_integration_fixed_test.dart 196:7  main.<fn>.<fn>
  
00:12 +259 -86: /home/jenner/Code/dart-structurizr/test/integration/minimal_integration_test.dart: Minimal Integration Test parser and mapper complete without errors

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.rightBrace "}"
Token[6]: TokenType.rightBrace "}"
Token[7]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: [Unnamed Workspace]
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -86: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a simple workspace with model elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.string ""This is a model of my banking system.""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "customer"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""Customer""
Token[10]: TokenType.string ""A customer of the bank.""
Token[11]: TokenType.identifier "internetBankingSystem"
Token[12]: TokenType.equals "="
Token[13]: TokenType.softwareSystem "softwareSystem"
Token[14]: TokenType.string ""Internet Banking System""
Token[15]: TokenType.string ""Allows customers to view information about their bank accounts and make payments.""
Token[16]: TokenType.identifier "customer"
Token[17]: TokenType.arrow "->"
Token[18]: TokenType.identifier "internetBankingSystem"
Token[19]: TokenType.string ""Uses""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -87: loading /home/jenner/Code/dart-structurizr/test/integration/basic_parser_integration_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/integration/basic_parser_integration_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/integration/basic_parser_integration_test.dart: test/integration/basic_parser_integration_test.dart:35:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode, isNotNull);
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:36:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode!.people.length, equals(1));
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:37:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode!.softwareSystems.length, equals(1));
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:40:30: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        final personNode = ast.modelNode!.people.first;
                               ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:45:30: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        final systemNode = ast.modelNode!.softwareSystems.first;
                               ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:50:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode!.relationships.length, equals(1));
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:51:36: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        final relationshipNode = ast.modelNode!.relationships.first;
                                     ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:84:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode, isNotNull);
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:85:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode!.people.length, equals(1));
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:86:18: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        expect(ast.modelNode!.softwareSystems.length, equals(1));
                   ^^^^^^^^^
  test/integration/basic_parser_integration_test.dart:89:30: Error: The getter 'modelNode' isn't defined for the class 'WorkspaceNode'.
   - 'WorkspaceNode' is from 'package:flutter_structurizr/domain/parser/ast/ast_nodes.dart' ('lib/domain/parser/ast/ast_nodes.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'modelNode'.
        final systemNode = ast.modelNode!.softwareSystems.first;
                               ^^^^^^^^^
  .
00:12 +260 -88: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a simple workspace with model elements [E]
  Expected: 'Banking System'
    Actual: 'customer'
     Which: is different.
            Expected: Banking Sy ...
              Actual: customer
                      ^
             Differ at offset 0
  
  package:matcher                                         expect
  package:flutter_test/src/widget_tester.dart 474:18      expect
  test/integration/dsl_parser_integration_test.dart 40:7  main.<fn>.<fn>
  
00:12 +260 -88: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a workspace with container and component elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "customer"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""Customer""
Token[9]: TokenType.identifier "internetBankingSystem"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""Internet Banking System""
Token[13]: TokenType.leftBrace "{"
Token[14]: TokenType.identifier "webApplication"
Token[15]: TokenType.equals "="
Token[16]: TokenType.containerView "container"
Token[17]: TokenType.string ""Web Application""
Token[18]: TokenType.string ""Provides internet banking functionality to customers via their web browser.""
Token[19]: TokenType.string ""Java and Spring MVC""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.identifier "signinController"
Token[22]: TokenType.equals "="
Token[23]: TokenType.componentView "component"
Token[24]: TokenType.string ""Sign In Controller""
Token[25]: TokenType.string ""Allows users to sign in to the Internet Banking System.""
Token[26]: TokenType.string ""Spring MVC Controller""
Token[27]: TokenType.identifier "accountsSummaryController"
Token[28]: TokenType.equals "="
Token[29]: TokenType.componentView "component"
Token[30]: TokenType.string ""Accounts Summary Controller""
Token[31]: TokenType.string ""Provides customers with a summary of their bank accounts.""
Token[32]: TokenType.string ""Spring MVC Controller""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.identifier "database"
Token[35]: TokenType.equals "="
Token[36]: TokenType.containerView "container"
Token[37]: TokenType.string ""Database""
Token[38]: TokenType.string ""Stores user registration information, hashed authentication credentials, access logs, etc.""
Token[39]: TokenType.string ""Oracle Database Schema""
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.identifier "customer"
Token[42]: TokenType.arrow "->"
Token[43]: TokenType.identifier "webApplication"
Token[44]: TokenType.string ""Uses""
Token[45]: TokenType.string ""HTTPS""
Token[46]: TokenType.identifier "webApplication"
Token[47]: TokenType.arrow "->"
Token[48]: TokenType.identifier "database"
Token[49]: TokenType.string ""Reads from and writes to""
Token[50]: TokenType.string ""JDBC""
Token[51]: TokenType.identifier "signinController"
Token[52]: TokenType.arrow "->"
Token[53]: TokenType.identifier "database"
Token[54]: TokenType.string ""Reads from""
Token[55]: TokenType.string ""JDBC""
Token[56]: TokenType.rightBrace "}"
Token[57]: TokenType.rightBrace "}"
Token[58]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.identifier, lexeme: customer
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: webApplication
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "HTTPS"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "HTTPS", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "HTTPS", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: webApplication
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: database
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: database, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: database, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "JDBC"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "JDBC", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "JDBC", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: signinController
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: signinController, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: signinController, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: database
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: database, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: database, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "JDBC"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "JDBC", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "JDBC", matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -89: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a workspace with container and component elements [E]
  Expected: 'Banking System'
    Actual: 'customer'
     Which: is different.
            Expected: Banking Sy ...
              Actual: customer
                      ^
             Differ at offset 0
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 102:7  main.<fn>.<fn>
  
00:12 +260 -89: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a workspace with views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "customer"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""Customer""
Token[9]: TokenType.identifier "internetBankingSystem"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""Internet Banking System""
Token[13]: TokenType.identifier "mainframeBankingSystem"
Token[14]: TokenType.equals "="
Token[15]: TokenType.softwareSystem "softwareSystem"
Token[16]: TokenType.string ""Mainframe Banking System""
Token[17]: TokenType.identifier "customer"
Token[18]: TokenType.arrow "->"
Token[19]: TokenType.identifier "internetBankingSystem"
Token[20]: TokenType.string ""Uses""
Token[21]: TokenType.identifier "internetBankingSystem"
Token[22]: TokenType.arrow "->"
Token[23]: TokenType.identifier "mainframeBankingSystem"
Token[24]: TokenType.string ""Gets account information from""
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.views "views"
Token[27]: TokenType.leftBrace "{"
Token[28]: TokenType.identifier "systemlandscape"
Token[29]: TokenType.string ""SystemLandscape""
Token[30]: TokenType.leftBrace "{"
Token[31]: TokenType.include "include"
Token[32]: TokenType.star "*"
Token[33]: TokenType.autoLayout "autoLayout"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.systemContext "systemContext"
Token[36]: TokenType.identifier "internetBankingSystem"
Token[37]: TokenType.string ""SystemContext""
Token[38]: TokenType.leftBrace "{"
Token[39]: TokenType.include "include"
Token[40]: TokenType.star "*"
Token[41]: TokenType.animation "animation"
Token[42]: TokenType.leftBrace "{"
Token[43]: TokenType.identifier "customer"
Token[44]: TokenType.identifier "internetBankingSystem"
Token[45]: TokenType.identifier "mainframeBankingSystem"
Token[46]: TokenType.rightBrace "}"
Token[47]: TokenType.rightBrace "}"
Token[48]: TokenType.rightBrace "}"
Token[49]: TokenType.rightBrace "}"
Token[50]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Current token before matching: TokenType.systemContext, lexeme: systemContext
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.systemContext, lexeme: systemContext, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.systemContext, lexeme: systemContext, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: internetBankingSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: internetBankingSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: internetBankingSystem, matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.include, lexeme: include
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.include, lexeme: include, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.include, lexeme: include, matches: false
DEBUG: Current token before matching: TokenType.star, lexeme: *
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.star, lexeme: *, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.star, lexeme: *, matches: false
DEBUG: Current token before matching: TokenType.animation, lexeme: animation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.animation, lexeme: animation, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.animation, lexeme: animation, matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: customer
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -90: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
00:12 +260 -90: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses a workspace with views [E]
  Expected: 'Banking System'
    Actual: 'customer'
     Which: is different.
            Expected: Banking Sy ...
              Actual: customer
                      ^
             Differ at offset 0
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 193:7  main.<fn>.<fn>
  
00:12 +260 -90: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration reports semantic errors

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "customer"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""Customer""
Token[9]: TokenType.identifier "customer"
Token[10]: TokenType.arrow "->"
Token[11]: TokenType.identifier "nonExistentSystem"
Token[12]: TokenType.string ""Uses""
Token[13]: TokenType.rightBrace "}"
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration reports semantic errors [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 239:7  main.<fn>.<fn>
  
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Getting Started""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This is how to get started with the system""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.section "section"
Token[16]: TokenType.string ""Architecture""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.content "content"
Token[19]: TokenType.equals "="
Token[20]: TokenType.string ""This section describes the architecture""
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.eof ""
DEBUG FIXED PARSER: End token list

00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing

DEBUG: List of tokens from lexer:
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[0]: TokenType.workspace "workspace"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[1]: TokenType.string ""Banking System""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[4]: TokenType.leftBrace "{"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[2]: TokenType.leftBrace "{"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[5]: TokenType.content "content"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[3]: TokenType.model "model"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[6]: TokenType.equals "="
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[4]: TokenType.leftBrace "{"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[5]: TokenType.identifier "customer"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[9]: TokenType.string ""Getting Started""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[6]: TokenType.equals "="
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[7]: TokenType.person "person"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[12]: TokenType.equals "="
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[8]: TokenType.string ""Customer""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[13]: TokenType.string ""This is how to get started with the system""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.section "section"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[9]: TokenType.string ""A customer of the bank.""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[16]: TokenType.string ""Architecture""
Token[17]: TokenType.leftBrace "{"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[10]: TokenType.identifier "internetBankingSystem"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[18]: TokenType.content "content"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[11]: TokenType.equals "="
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[19]: TokenType.equals "="
Token[20]: TokenType.string ""This section describes the architecture""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[12]: TokenType.softwareSystem "softwareSystem"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[13]: TokenType.string ""Internet Banking System""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.eof ""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[14]: TokenType.leftBrace "{"
Token[15]: TokenType.identifier "webApplication"
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
DEBUG: Documentation token found: true
DEBUG: Decisions token found: false
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[16]: TokenType.equals "="
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
DEBUG: End token list

00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
Token[17]: TokenType.containerView "container"
Token[18]: TokenType.string ""Web Application""
Token[19]: TokenType.identifier "customer"
Token[20]: TokenType.arrow "->"
Token[21]: TokenType.identifier "internetBankingSystem"
Token[22]: TokenType.string ""Uses""
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.rightBrace "}"
Token[25]: TokenType.eof ""
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
DEBUG: Starting _parseWorkspace parsing
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +260 -91: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
DEBUG: Parsed workspace name: This is the main documentation content
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
00:12 +260 -92: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
DEBUG: Created DocumentationNode with content: "This is the main documentation content"
DEBUG: Created DocumentationNode with 2 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 0
DEBUG: Documentation content is: "This is the main documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
DEBUG: FINAL CHECK - Documentation content: "This is the main documentation content"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
00:12 +260 -92: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles syntax errors during parsing [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 268:7  main.<fn>.<fn>
  
00:12 +260 -92: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
PATCH IMPROVED: Found documentation content: This is the main documentation content
PATCH IMPROVED: Found section: "Getting Started" with content: "This is how to get started with the system"
PATCH IMPROVED: Found section: "Architecture" with content: "This section describes the architecture"
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
Documentation test: workspaceNode has documentation: true
Documentation test: workspaceNode has decisions: 0
Documentation test: content: "This is the main documentation content"
Documentation test: sections count: 2
00:12 +260 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
00:12 +260 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration handles lexical errors during tokenization [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 293:7  main.<fn>.<fn>
  
00:12 +260 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests documentation block is parsed and mapped to domain model
Documentation test: errorReporter has errors: false
00:12 +260 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Big Bank plc""
Token[2]: TokenType.string ""This is an example workspace for Big Bank plc""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.identifiers "!identifiers"
Token[5]: TokenType.identifier "hierarchical"
Token[6]: TokenType.model "model"
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.identifier "customer"
Token[9]: TokenType.equals "="
Token[10]: TokenType.person "person"
Token[11]: TokenType.string ""Customer""
Token[12]: TokenType.string ""A customer of the bank.""
Token[13]: TokenType.enterprise "enterprise"
Token[14]: TokenType.string ""Big Bank plc""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.identifier "supportStaff"
Token[17]: TokenType.equals "="
Token[18]: TokenType.person "person"
Token[19]: TokenType.string ""Support Staff""
Token[20]: TokenType.string ""Customer service staff within the bank.""
Token[21]: TokenType.identifier "backoffice"
Token[22]: TokenType.equals "="
Token[23]: TokenType.person "person"
Token[24]: TokenType.string ""Back Office Staff""
Token[25]: TokenType.string ""Administration and support staff within the bank.""
Token[26]: TokenType.identifier "mainframe"
Token[27]: TokenType.equals "="
Token[28]: TokenType.softwareSystem "softwareSystem"
Token[29]: TokenType.string ""Mainframe Banking System""
Token[30]: TokenType.string ""Stores all of the core banking information about customers, accounts, transactions, etc.""
Token[31]: TokenType.identifier "internetBankingSystem"
Token[32]: TokenType.equals "="
Token[33]: TokenType.softwareSystem "softwareSystem"
Token[34]: TokenType.string ""Internet Banking System""
Token[35]: TokenType.string ""Allows customers to view information about their bank accounts and make payments.""
Token[36]: TokenType.leftBrace "{"
Token[37]: TokenType.identifier "webApplication"
Token[38]: TokenType.equals "="
Token[39]: TokenType.containerView "container"
Token[40]: TokenType.string ""Web Application""
Token[41]: TokenType.string ""Provides all of the Internet banking functionality to customers via their web browser.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[42]: TokenType.string ""Java and Spring MVC""
Token[43]: TokenType.leftBrace "{"
Token[44]: TokenType.identifier "signinController"
Token[45]: TokenType.equals "="
Token[46]: TokenType.componentView "component"
Token[47]: TokenType.string ""Sign In Controller""
Token[48]: TokenType.string ""Allows users to sign in to the Internet Banking System.""
Token[49]: TokenType.string ""Spring MVC Controller""
Token[50]: TokenType.identifier "accountsSummaryController"
Token[51]: TokenType.equals "="
Token[52]: TokenType.componentView "component"
Token[53]: TokenType.string ""Accounts Summary Controller""
Token[54]: TokenType.string ""Provides customers with a summary of their bank accounts.""
Token[55]: TokenType.string ""Spring MVC Controller""
Token[56]: TokenType.identifier "resetPasswordController"
Token[57]: TokenType.equals "="
Token[58]: TokenType.componentView "component"
Token[59]: TokenType.string ""Reset Password Controller""
Token[60]: TokenType.string ""Allows users to reset their passwords with a single use URL.""
Token[61]: TokenType.string ""Spring MVC Controller""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[62]: TokenType.identifier "securityComponent"
Token[63]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[64]: TokenType.componentView "component"
Token[65]: TokenType.string ""Security Component""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[66]: TokenType.string ""Provides functionality related to signing in, changing passwords, etc.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[67]: TokenType.string ""Spring Bean""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[3]: TokenType.decisions "decisions"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[68]: TokenType.identifier "mainframeFacade"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[69]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[70]: TokenType.componentView "component"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[8]: TokenType.title "title"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[71]: TokenType.string ""Mainframe Facade""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use C4 model""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[72]: TokenType.string ""A facade onto the mainframe banking system.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[73]: TokenType.string ""Spring Bean""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[13]: TokenType.string ""Accepted""
Token[14]: TokenType.date "date"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[74]: TokenType.identifier "emailComponent"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[15]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[75]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[16]: TokenType.string ""2023-05-15""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[76]: TokenType.componentView "component"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[19]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[20]: TokenType.rightBrace "}"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[77]: TokenType.string ""E-mail Component""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[21]: TokenType.decision "decision"
Token[22]: TokenType.string ""ADR-002""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[78]: TokenType.string ""Sends e-mails to users.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[23]: TokenType.leftBrace "{"
Token[24]: TokenType.title "title"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[79]: TokenType.string ""Spring Bean""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[25]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[80]: TokenType.rightBrace "}"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[26]: TokenType.string ""Use Markdown for documentation""
Token[27]: TokenType.status "status"
Token[28]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[81]: TokenType.identifier "database"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[29]: TokenType.string ""Accepted""
Token[30]: TokenType.date "date"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[82]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""2023-06-01""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[83]: TokenType.containerView "container"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[33]: TokenType.content "content"
Token[34]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[84]: TokenType.string ""Database""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[35]: TokenType.string ""We will use Markdown for all documentation.""
Token[36]: TokenType.identifier "link"
Token[37]: TokenType.string ""ADR-001""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[85]: TokenType.string ""Stores user registration information, hashed authentication credentials, access logs, etc.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[86]: TokenType.string ""MySQL""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.eof ""
DEBUG FIXED PARSER: End token list

00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[87]: TokenType.leftBrace "{"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model

DEBUG: List of tokens from lexer:
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[88]: TokenType.identifier "databaseSchema"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[89]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.decisions "decisions"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[90]: TokenType.componentView "component"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
  ⭐ Found special token: TokenType.decisions
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[91]: TokenType.string ""Database Schema""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.decision "decision"
Token[6]: TokenType.string ""ADR-001""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.title "title"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[92]: TokenType.string ""Stores user registration information, hashed authentication credentials, access logs, etc.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[9]: TokenType.equals "="
Token[10]: TokenType.string ""Use C4 model""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[93]: TokenType.string ""MySQL Schema""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[11]: TokenType.status "status"
Token[12]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[94]: TokenType.rightBrace "}"
Token[95]: TokenType.identifier "mobileApp"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[13]: TokenType.string ""Accepted""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[96]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[14]: TokenType.date "date"
Token[15]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[97]: TokenType.containerView "container"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[16]: TokenType.string ""2023-05-15""
Token[17]: TokenType.content "content"
Token[18]: TokenType.equals "="
Token[19]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[20]: TokenType.rightBrace "}"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[98]: TokenType.string ""Mobile App""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[21]: TokenType.decision "decision"
Token[22]: TokenType.string ""ADR-002""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
Token[99]: TokenType.string ""Provides a limited subset of the Internet banking functionality to customers via their mobile device.""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[23]: TokenType.leftBrace "{"
Token[24]: TokenType.title "title"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Use Markdown for documentation""
Token[27]: TokenType.status "status"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""Accepted""
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Documentation token found: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[30]: TokenType.date "date"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Decisions token found: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[31]: TokenType.equals "="
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Token[32]: TokenType.string ""2023-06-01""
Token[33]: TokenType.content "content"
Token[34]: TokenType.equals "="
Token[35]: TokenType.string ""We will use Markdown for all documentation.""
Token[36]: TokenType.identifier "link"
Token[37]: TokenType.string ""ADR-001""
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: true
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: ADR-001
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifiers, lexeme: !identifiers
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifiers, lexeme: !identifiers, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifiers, lexeme: !identifiers, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: hierarchical
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: hierarchical, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: hierarchical, matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
DEBUG: **** ENTERED _parseDecisions method ****
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.identifier, lexeme: customer
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: customer, matches: false
DEBUG: Current token before matching: TokenType.person, lexeme: person
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Customer"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Customer", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Customer", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
DEBUG: Successfully parsed 2 decisions
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.string, lexeme: "A customer of the bank."
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
DEBUG: Finished parsing decisions block, count: 2
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "A customer of the bank.", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 2
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "A customer of the bank.", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
ALERT: No documentation node found during parsing!
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.enterprise, lexeme: enterprise
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
DEBUG FIXED PARSER: Original workspaceNode documentation: null
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.enterprise, lexeme: enterprise, matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
PATCH: Found decisions token at position 3, lexeme: decisions
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.enterprise, lexeme: enterprise, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Big Bank plc"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Big Bank plc", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Big Bank plc", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: supportStaff
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: supportStaff, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: supportStaff, matches: false
DEBUG: Current token before matching: TokenType.person, lexeme: person
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
PATCH IMPROVED: Found decision: "ADR-001" with title: "Use C4 model"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.person, lexeme: person, matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
PATCH IMPROVED: Found decision: "ADR-002" with title: "Use Markdown for documentation"
Decisions test: workspaceNode has documentation: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.string, lexeme: "Support Staff"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Decisions test: workspaceNode has decisions: 2
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Support Staff", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Decisions test: first decision ID: "ADR-001"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Support Staff", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Decisions test: first decision title: "Use C4 model"
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Current token before matching: TokenType.string, lexeme: "Customer service staff within the bank."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Customer service staff within the bank.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Customer service staff within the bank.", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: backoffice
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: backoffice, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: backoffice, matches: false
DEBUG: Current token before matching: TokenType.person, lexeme: person
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.person, lexeme: person, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Back Office Staff"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Back Office Staff", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Back Office Staff", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Administration and support staff within the bank."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Administration and support staff within the bank.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Administration and support staff within the bank.", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: mainframe
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: mainframe, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: mainframe, matches: false
DEBUG: Current token before matching: TokenType.softwareSystem, lexeme: softwareSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Mainframe Banking System"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Mainframe Banking System", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Mainframe Banking System", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Stores all of the core banking information about customers, accounts, transactions, etc."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Stores all of the core banking information about customers, accounts, transactions, etc.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Stores all of the core banking information about customers, accounts, transactions, etc.", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: internetBankingSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: internetBankingSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: internetBankingSystem, matches: false
DEBUG: Current token before matching: TokenType.softwareSystem, lexeme: softwareSystem
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.softwareSystem, lexeme: softwareSystem, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Internet Banking System"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Internet Banking System", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Internet Banking System", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Allows customers to view information about their bank accounts and make payments."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Allows customers to view information about their bank accounts and make payments.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Allows customers to view information about their bank accounts and make payments.", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: webApplication
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: webApplication, matches: false
DEBUG: Current token before matching: TokenType.containerView, lexeme: container
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.containerView, lexeme: container, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Web Application"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Web Application", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Web Application", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Provides all of the Internet banking functionality to customers via their web browser."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Provides all of the Internet banking functionality to customers via their web browser.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Provides all of the Internet banking functionality to customers via their web browser.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Java and Spring MVC"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Java and Spring MVC", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Java and Spring MVC", matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: signinController
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: signinController, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: signinController, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Sign In Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Sign In Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Sign In Controller", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Allows users to sign in to the Internet Banking System."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Allows users to sign in to the Internet Banking System.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Allows users to sign in to the Internet Banking System.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring MVC Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: accountsSummaryController
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: accountsSummaryController, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: accountsSummaryController, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Accounts Summary Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Accounts Summary Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Accounts Summary Controller", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Provides customers with a summary of their bank accounts."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Provides customers with a summary of their bank accounts.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Provides customers with a summary of their bank accounts.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring MVC Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: resetPasswordController
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: resetPasswordController, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: resetPasswordController, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Reset Password Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Reset Password Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Reset Password Controller", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Allows users to reset their passwords with a single use URL."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Allows users to reset their passwords with a single use URL.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Allows users to reset their passwords with a single use URL.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring MVC Controller"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring MVC Controller", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: securityComponent
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: securityComponent, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: securityComponent, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Security Component"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Security Component", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Security Component", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Provides functionality related to signing in, changing passwords, etc."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Provides functionality related to signing in, changing passwords, etc.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Provides functionality related to signing in, changing passwords, etc.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring Bean"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring Bean", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring Bean", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: mainframeFacade
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: mainframeFacade, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: mainframeFacade, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Mainframe Facade"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Mainframe Facade", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Mainframe Facade", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "A facade onto the mainframe banking system."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "A facade onto the mainframe banking system.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "A facade onto the mainframe banking system.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring Bean"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring Bean", matches: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests decisions are parsed and mapped to domain model
Decisions test: errorReporter has errors: false
00:12 +261 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring Bean", matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: emailComponent
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: emailComponent, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: emailComponent, matches: false
DEBUG: Current token before matching: TokenType.componentView, lexeme: component
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.componentView, lexeme: component, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "E-mail Component"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "E-mail Component", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "E-mail Component", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Sends e-mails to users."
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Sends e-mails to users.", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Sends e-mails to users.", matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "Spring Bean"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "Spring Bean", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "Spring Bean", matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +262 -93: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions
LEXER DEBUG: Found documentation keyword, forcing TokenType.documentation
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration full C4 model with all element types [E]
  Expected: 'Big Bank plc'
    Actual: 'customer'
     Which: is different.
            Expected: Big Bank p ...
              Actual: customer
                      ^
             Differ at offset 0
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 483:7  main.<fn>.<fn>
  
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
LEXER DEBUG: Found decisions keyword, forcing TokenType.decisions

DEBUG FIXED PARSER: List of tokens:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
Token[7]: TokenType.string ""This is the main documentation content""
Token[8]: TokenType.section "section"
Token[9]: TokenType.string ""Architecture Decisions""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This section summarizes the key architecture decisions.""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.decisions "decisions"
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.decision "decision"
Token[19]: TokenType.string ""ADR-001""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.title "title"
Token[22]: TokenType.equals "="
Token[23]: TokenType.string ""Use C4 model""
Token[24]: TokenType.status "status"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Accepted""
Token[27]: TokenType.date "date"
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""2023-05-15""
Token[30]: TokenType.content "content"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.eof ""
DEBUG FIXED PARSER: End token list


DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Documentation Test""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.documentation "documentation"
  ⭐ Found special token: TokenType.documentation
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.content "content"
Token[6]: TokenType.equals "="
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Styled System""
Token[2]: TokenType.string ""A system with custom styles and branding""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "user"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""User""
Token[10]: TokenType.string ""A user of the system""
Token[11]: TokenType.identifier "system"
Token[12]: TokenType.equals "="
Token[13]: TokenType.softwareSystem "softwareSystem"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[7]: TokenType.string ""This is the main documentation content""
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[14]: TokenType.string ""System""
Token[15]: TokenType.string ""A software system""
Token[16]: TokenType.identifier "user"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[8]: TokenType.section "section"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[17]: TokenType.arrow "->"
Token[18]: TokenType.identifier "system"
Token[19]: TokenType.string ""Uses""
Token[20]: TokenType.rightBrace "}"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[9]: TokenType.string ""Architecture Decisions""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.content "content"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[21]: TokenType.views "views"
Token[22]: TokenType.leftBrace "{"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[12]: TokenType.equals "="
Token[13]: TokenType.string ""This section summarizes the key architecture decisions.""
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[23]: TokenType.systemContext "systemContext"
Token[24]: TokenType.identifier "system"
Token[25]: TokenType.string ""SystemContext""
Token[26]: TokenType.leftBrace "{"
Token[27]: TokenType.include "include"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.decisions "decisions"
  ⭐ Found special token: TokenType.decisions
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[28]: TokenType.star "*"
Token[29]: TokenType.autoLayout "autoLayout"
Token[30]: TokenType.rightBrace "}"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.decision "decision"
Token[19]: TokenType.string ""ADR-001""
Token[20]: TokenType.leftBrace "{"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[31]: TokenType.rightBrace "}"
Token[32]: TokenType.styles "styles"
Token[33]: TokenType.leftBrace "{"
Token[34]: TokenType.identifier "element"
Token[35]: TokenType.string ""Person""
Token[36]: TokenType.leftBrace "{"
Token[37]: TokenType.shape "shape"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[21]: TokenType.title "title"
Token[22]: TokenType.equals "="
Token[23]: TokenType.string ""Use C4 model""
Token[24]: TokenType.status "status"
Token[25]: TokenType.equals "="
Token[26]: TokenType.string ""Accepted""
Token[27]: TokenType.date "date"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[38]: TokenType.personShape "Person"
Token[39]: TokenType.background "background"
Token[40]: TokenType.hash "#"
Token[41]: TokenType.integer "1168"
Token[42]: TokenType.identifier "bd"
Token[43]: TokenType.color "color"
Token[44]: TokenType.hash "#"
Token[45]: TokenType.identifier "ffffff"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[28]: TokenType.equals "="
Token[29]: TokenType.string ""2023-05-15""
Token[30]: TokenType.content "content"
Token[31]: TokenType.equals "="
Token[32]: TokenType.string ""We will use the C4 model for our architecture documentation.""
Token[33]: TokenType.rightBrace "}"
Token[34]: TokenType.rightBrace "}"
Token[35]: TokenType.rightBrace "}"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[46]: TokenType.fontSize "fontSize"
Token[47]: TokenType.integer "22"
Token[48]: TokenType.border "border"
Token[49]: TokenType.identifier "Dashed"
Token[50]: TokenType.opacity "opacity"
Token[51]: TokenType.integer "90"
Token[52]: TokenType.rightBrace "}"
Token[53]: TokenType.identifier "element"
Token[54]: TokenType.string ""Software System""
Token[55]: TokenType.leftBrace "{"
Token[56]: TokenType.shape "shape"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Token[36]: TokenType.eof ""
DEBUG: Documentation token found: true
DEBUG: Decisions token found: true
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[57]: TokenType.roundedboxShape "RoundedBox"
Token[58]: TokenType.background "background"
Token[59]: TokenType.hash "#"
Token[60]: TokenType.integer "438"
Token[61]: TokenType.identifier "dd5"
Token[62]: TokenType.icon "icon"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: This is the main documentation content
DEBUG: Found decisions token at position 16, lexeme: decisions
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
DEBUG: Parsed decisions count: 1
DEBUG: Current token before matching: TokenType.documentation, lexeme: documentation
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.documentation, lexeme: documentation, matches: true
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[63]: TokenType.string ""https://example.com/icons/system.png""
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: Special case match by lexeme for TokenType.documentation
DEBUG: Found documentation token! Parsing documentation block...
DEBUG: **** ENTERED _parseDocumentation method ****
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[64]: TokenType.rightBrace "}"
Token[65]: TokenType.relationship "relationship"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: Created DocumentationNode with content: "This is the main documentation content"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[66]: TokenType.string ""Relationship""
Token[67]: TokenType.leftBrace "{"
Token[68]: TokenType.thickness "thickness"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: Created DocumentationNode with 1 sections
DEBUG: Finished parsing documentation block: true
DEBUG: Current token before matching: TokenType.decisions, lexeme: decisions
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.decisions, lexeme: decisions, matches: false
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[69]: TokenType.integer "2"
Token[70]: TokenType.color "color"
Token[71]: TokenType.hash "#"
Token[72]: TokenType.identifier "ff0000"
Token[73]: TokenType.identifier "style"
Token[74]: TokenType.identifier "Dashed"
Token[75]: TokenType.routing "routing"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.decisions, lexeme: decisions, matches: true
DEBUG: Special case match by lexeme for TokenType.decisions
DEBUG: Found decisions token! Parsing decisions block...
DEBUG: **** ENTERED _parseDecisions method ****
DEBUG: Successfully parsed 1 decisions
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[76]: TokenType.identifier "Orthogonal"
Token[77]: TokenType.fontSize "fontSize"
Token[78]: TokenType.integer "14"
Token[79]: TokenType.width "width"
Token[80]: TokenType.integer "200"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: Finished parsing decisions block, count: 2
DEBUG: Creating WorkspaceNode with documentation: true
DEBUG: Creating WorkspaceNode with decisions count: 2
DEBUG: Documentation content is: "This is the main documentation content"
DEBUG: FINAL CHECK - WorkspaceNode has documentation: true
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[81]: TokenType.position "position"
Token[82]: TokenType.integer "70"
Token[83]: TokenType.opacity "opacity"
Token[84]: TokenType.integer "50"
Token[85]: TokenType.rightBrace "}"
Token[86]: TokenType.rightBrace "}"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
DEBUG: FINAL CHECK - Documentation content: "This is the main documentation content"
DEBUG FIXED PARSER: Original workspaceNode documentation: null
PATCH: Found documentation token at position 3, lexeme: documentation
FORMAT DEBUG: Checking for format attributes after documentation token
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[87]: TokenType.themes "themes"
Token[88]: TokenType.identifier "https"
Token[89]: TokenType.colon ":"
Token[90]: TokenType.branding "branding"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
PATCH IMPROVED: Found documentation content: This is the main documentation content
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[91]: TokenType.leftBrace "{"
Token[92]: TokenType.identifier "logo"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
PATCH IMPROVED: Found section: "Architecture Decisions" with content: "This section summarizes the key architecture decisions."
PATCH DEBUG: Created DocumentationNode with format: DocumentationFormat.markdown
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[93]: TokenType.string ""https://example.com/logo.png""
Token[94]: TokenType.identifier "font"
Token[95]: TokenType.string ""Open Sans""
Token[96]: TokenType.rightBrace "}"
Token[97]: TokenType.terminology "terminology"
Token[98]: TokenType.leftBrace "{"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
PATCH: Found decisions token at position 16, lexeme: decisions
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
Token[99]: TokenType.person "person"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
PATCH IMPROVED: Found decision: "ADR-001" with title: "Use C4 model"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Combined test: workspaceNode has documentation: true
Combined test: workspaceNode has decisions: 1
Combined test: content: "This is the main documentation content"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Combined test: sections count: 1
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Combined test: workspaceNode.decisions count: 1
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/documentation_integration_test.dart: Documentation Integration Tests combined documentation and decisions are mapped correctly
Combined test: decision[0]: "ADR-001" - "Use C4 model"
00:12 +262 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Current token before matching: TokenType.styles, lexeme: styles
DEBUG: Current token before matching: TokenType.identifier, lexeme: element
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: element, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: element, matches: false
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.shape, lexeme: shape
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.shape, lexeme: shape, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.shape, lexeme: shape, matches: false
DEBUG: Current token before matching: TokenType.roundedboxShape, lexeme: RoundedBox
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.roundedboxShape, lexeme: RoundedBox, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.roundedboxShape, lexeme: RoundedBox, matches: false
DEBUG: Current token before matching: TokenType.background, lexeme: background
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.background, lexeme: background, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.background, lexeme: background, matches: false
DEBUG: Current token before matching: TokenType.hash, lexeme: #
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.hash, lexeme: #, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.hash, lexeme: #, matches: false
DEBUG: Current token before matching: TokenType.integer, lexeme: 438
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.integer, lexeme: 438, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.integer, lexeme: 438, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: dd5
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: dd5, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: dd5, matches: false
DEBUG: Current token before matching: TokenType.string, lexeme: "https://example.com/icons/system.png"
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.string, lexeme: "https://example.com/icons/system.png", matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.string, lexeme: "https://example.com/icons/system.png", matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:12 +263 -94: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology
00:12 +263 -95: /home/jenner/Code/dart-structurizr/test/integration/dsl_parser_integration_test.dart: DSL Parser Integration parses styles, themes, branding and terminology [E]
  Expected: <2>
    Actual: <0>
  
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 474:18       expect
  test/integration/dsl_parser_integration_test.dart 587:7  main.<fn>.<fn>
  
00:12 +263 -95: /home/jenner/Code/dart-structurizr/test/integration/complex_model_test.dart: Complex model integration tests Complex model validates successfully
00:12 +264 -95: /home/jenner/Code/dart-structurizr/test/integration/complex_model_test.dart: Complex model integration tests Complex model can be serialized to JSON
00:12 +265 -95: /home/jenner/Code/dart-structurizr/test/integration/complex_model_test.dart: Complex model integration tests Complex model can be deserialized from JSON
00:12 +266 -95: /home/jenner/Code/dart-structurizr/test/integration/complex_model_test.dart: Complex model integration tests Element and relationship lookups work correctly
00:12 +267 -95: /home/jenner/Code/dart-structurizr/test/integration/complex_model_test.dart: Complex model integration tests Views correctly include elements and relationships
00:13 +268 -96: loading /home/jenner/Code/dart-structurizr/test/integration/rendering_integration_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/integration/rendering_integration_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/integration/rendering_integration_test.dart: test/integration/rendering_integration_test.dart:12:8: Error: Error when reading 'lib/presentation/rendering/element_renderer.dart': No such file or directory
  import 'package:flutter_structurizr/presentation/rendering/element_renderer.dart';
         ^
  test/integration/rendering_integration_test.dart:13:8: Error: Error when reading 'lib/presentation/rendering/relationship_renderer.dart': No such file or directory
  import 'package:flutter_structurizr/presentation/rendering/relationship_renderer.dart';
         ^
  test/integration/rendering_integration_test.dart:16:8: Error: Error when reading 'lib/presentation/widgets/animation/animation_controls.dart': No such file or directory
  import 'package:flutter_structurizr/presentation/widgets/animation/animation_controls.dart';
         ^
  test/integration/rendering_integration_test.dart:9:1: Error: 'View' is imported from both 'package:flutter/src/widgets/view.dart' and 'package:flutter_structurizr/domain/view/view.dart'.
  import 'package:flutter_structurizr/domain/view/view.dart';
  ^^^^
  test/integration/rendering_integration_test.dart:270:17: Error: Method not found: 'AnimationControls'.
                  AnimationControls(
                  ^^^^^^^^^^^^^^^^^
  test/integration/rendering_integration_test.dart:312:17: Error: Method not found: 'AnimationControls'.
                  AnimationControls(
                  ^^^^^^^^^^^^^^^^^
  test/integration/rendering_integration_test.dart:199:21: Error: The method 'updateScale' isn't defined for the class 'TestGesture'.
   - 'TestGesture' is from 'package:flutter_test/src/test_pointer.dart' ('../../flutter/flutter/packages/flutter_test/lib/src/test_pointer.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateScale'.
        await gesture.updateScale(1.5);
                      ^^^^^^^^^^^
  test/integration/rendering_integration_test.dart:810:20: Error: 'ViewConfiguration' is imported from both 'package:flutter/src/rendering/view.dart' and 'package:flutter_structurizr/domain/view/views.dart'.
      configuration: ViewConfiguration(
                     ^^^^^^^^^^^^^^^^^
  test/integration/rendering_integration_test.dart:872:9: Error: The argument type 'String' can't be assigned to the parameter type 'int'.
      id: 'test',
          ^
  .
00:13 +268 -96: /home/jenner/Code/dart-structurizr/test/integration/simple_workspace_test.dart: Simple Workspace parses a basic banking system

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Banking System""
Token[2]: TokenType.string ""This is a model of my banking system.""
Token[3]: TokenType.leftBrace "{"
Token[4]: TokenType.model "model"
Token[5]: TokenType.leftBrace "{"
Token[6]: TokenType.identifier "customer"
Token[7]: TokenType.equals "="
Token[8]: TokenType.person "person"
Token[9]: TokenType.string ""Customer""
Token[10]: TokenType.string ""A customer of the bank.""
Token[11]: TokenType.identifier "internetBankingSystem"
Token[12]: TokenType.equals "="
Token[13]: TokenType.softwareSystem "softwareSystem"
Token[14]: TokenType.string ""Internet Banking System""
Token[15]: TokenType.string ""Allows customers to view information about their bank accounts and make payments.""
Token[16]: TokenType.identifier "customer"
Token[17]: TokenType.arrow "->"
Token[18]: TokenType.identifier "internetBankingSystem"
Token[19]: TokenType.string ""Uses""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: customer
DEBUG: Current token before matching: TokenType.leftBrace, lexeme: {
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.leftBrace, lexeme: {, matches: false
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
AST name: customer
AST description: null
Workspace: Workspace(id: 1, name: customer, description: null, version: null, model: Model(enterpriseName: null, people: [Person(id: customer, name: CustomerA customer of the bank., description: null, type: Person, tags: [Person], properties: {}, relationships: [], parentId: null, location: Internal)], softwareSystems: [SoftwareSystem(id: internetBankingSystem, name: Internet Banking SystemAllows customers to view information about their bank accounts and make payments., description: null, type: SoftwareSystem, tags: [SoftwareSystem], properties: {}, relationships: [], parentId: null, location: Internal, containers: [], deploymentEnvironments: [])], deploymentNodes: [], deploymentEnvironments: []), documentation: null, views: Views(systemLandscapeViews: [], systemContextViews: [], containerViews: [], componentViews: [], dynamicViews: [], deploymentViews: [], filteredViews: [], customViews: [], imageViews: [], configuration: null, styles: null), styles: Styles(elements: [], relationships: [], themes: []), branding: null, configuration: WorkspaceConfiguration(users: null, properties: {}, lastModifiedDate: null, lastModifiedUser: null, lastModifiedAgent: null))
Workspace name: customer
Workspace model people count: 1
00:13 +268 -97: /home/jenner/Code/dart-structurizr/test/integration/simple_workspace_test.dart: Simple Workspace parses a basic banking system [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test/integration/simple_workspace_test.dart 62:7    main.<fn>.<fn>
  
00:13 +268 -98: loading /home/jenner/Code/dart-structurizr/test/application/command/workspace_commands_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/application/command/workspace_commands_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/application/command/workspace_commands_test.dart: test/application/command/workspace_commands_test.dart:535:1: Error: Type 'Model' not found.
  Model makeModel() {
  ^^^^^
  lib/application/command/workspace_commands.dart:397:21: Error: Type 'Offset' not found.
    final Map<String, Offset> oldPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:398:21: Error: Type 'Offset' not found.
    final Map<String, Offset> newPositions;
                      ^^^^^^
  lib/application/command/command.dart:89:9: Error: Type 'Offset' not found.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: Type 'Offset' not found.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: Type 'Offset' not found.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/workspace_commands.dart:25:7: Error: The non-abstract class 'WorkspaceUpdateCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class WorkspaceUpdateCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:53:7: Error: The non-abstract class 'AddPersonCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddPersonCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:82:7: Error: The non-abstract class 'AddSoftwareSystemCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSoftwareSystemCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:111:7: Error: The non-abstract class 'AddContainerCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddContainerCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:148:7: Error: The non-abstract class 'AddComponentCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddComponentCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:190:7: Error: The non-abstract class 'AddRelationshipToWorkspaceCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipToWorkspaceCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:220:7: Error: The non-abstract class 'AddSystemLandscapeViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSystemLandscapeViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:249:7: Error: The non-abstract class 'AddSystemContextViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSystemContextViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:278:7: Error: The non-abstract class 'AddContainerViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddContainerViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:307:7: Error: The non-abstract class 'AddComponentViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddComponentViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:336:7: Error: The non-abstract class 'AddDynamicViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddDynamicViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:365:7: Error: The non-abstract class 'AddDeploymentViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddDeploymentViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:476:7: Error: The non-abstract class 'UpdateStylesCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class UpdateStylesCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:506:7: Error: The non-abstract class 'UpdateDocumentationCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class UpdateDocumentationCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:538:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:635:7: Error: The non-abstract class 'RemoveViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:133:7: Error: The non-abstract class 'AddElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:159:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:185:7: Error: The non-abstract class 'AddRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:215:7: Error: The non-abstract class 'RemoveRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:248:7: Error: The non-abstract class 'CompositeCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class CompositeCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  test/application/command/workspace_commands_test.dart:305:9: Error: No named parameter with the name 'content'.
          content: 'Test documentation',
          ^^^^^^^
  lib/domain/documentation/documentation.dart:19:17: Context: Found this candidate, but the arguments don't match.
    const factory Documentation({
                  ^
  test/application/command/workspace_commands_test.dart:333:38: Error: No named parameter with the name 'content'.
          documentation: Documentation(content: 'Original documentation'),
                                       ^^^^^^^
  lib/domain/documentation/documentation.dart:19:17: Context: Found this candidate, but the arguments don't match.
    const factory Documentation({
                  ^
  test/application/command/workspace_commands_test.dart:339:9: Error: No named parameter with the name 'content'.
          content: 'Test documentation',
          ^^^^^^^
  lib/domain/documentation/documentation.dart:19:17: Context: Found this candidate, but the arguments don't match.
    const factory Documentation({
                  ^
  test/application/command/workspace_commands_test.dart:380:16: Error: Method not found: 'Views'.
          views: Views(
                 ^^^^^
  test/application/command/workspace_commands_test.dart:434:16: Error: Method not found: 'Views'.
          views: Views(
                 ^^^^^
  test/application/command/workspace_commands_test.dart:489:16: Error: Method not found: 'Views'.
          views: Views(
                 ^^^^^
  test/application/command/workspace_commands_test.dart:227:20: Error: The argument type 'String' can't be assigned to the parameter type 'Color?'.
   - 'Color' is from 'dart:ui'.
              color: '#FF0000',
                     ^
  test/application/command/workspace_commands_test.dart:237:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:267:20: Error: The argument type 'String' can't be assigned to the parameter type 'Color?'.
   - 'Color' is from 'dart:ui'.
              color: '#FF0000',
                     ^
  test/application/command/workspace_commands_test.dart:277:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:313:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:324:47: Error: The getter 'content' isn't defined for the class 'Documentation'.
   - 'Documentation' is from 'package:flutter_structurizr/domain/documentation/documentation.dart' ('lib/domain/documentation/documentation.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'content'.
        expect(currentWorkspace?.documentation?.content, equals('Test documentation'));
                                                ^^^^^^^
  test/application/command/workspace_commands_test.dart:347:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:359:47: Error: The getter 'content' isn't defined for the class 'Documentation'.
   - 'Documentation' is from 'package:flutter_structurizr/domain/documentation/documentation.dart' ('lib/domain/documentation/documentation.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'content'.
        expect(currentWorkspace?.documentation?.content, equals('Original documentation'));
                                                ^^^^^^^
  test/application/command/workspace_commands_test.dart:370:19: Error: Both Iterable and Map spread elements encountered in ambiguous literal.
          elements: {
                    ^
  test/application/command/workspace_commands_test.dart:400:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:412:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['person1']?.x, equals(100));
                                     ^
  test/application/command/workspace_commands_test.dart:413:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['person1']?.y, equals(100));
                                     ^
  test/application/command/workspace_commands_test.dart:414:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['system1']?.x, equals(200));
                                     ^
  test/application/command/workspace_commands_test.dart:415:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['system1']?.y, equals(200));
                                     ^
  test/application/command/workspace_commands_test.dart:424:19: Error: Both Iterable and Map spread elements encountered in ambiguous literal.
          elements: {
                    ^
  test/application/command/workspace_commands_test.dart:454:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:467:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['person1']?.x, equals(0));
                                     ^
  test/application/command/workspace_commands_test.dart:468:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['person1']?.y, equals(0));
                                     ^
  test/application/command/workspace_commands_test.dart:469:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['system1']?.x, equals(0));
                                     ^
  test/application/command/workspace_commands_test.dart:470:36: Error: A value of type 'String' can't be assigned to a variable of type 'int'.
        expect(updatedView?.elements['system1']?.y, equals(0));
                                     ^
  test/application/command/workspace_commands_test.dart:479:19: Error: Both Iterable and Map spread elements encountered in ambiguous literal.
          elements: {
                    ^
  test/application/command/workspace_commands_test.dart:499:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:511:9: Error: The argument type 'Workspace?' can't be assigned to the parameter type 'Workspace' because 'Workspace?' is nullable and 'Workspace' isn't.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
          currentWorkspace,
          ^
  test/application/command/workspace_commands_test.dart:536:16: Error: Couldn't find constructor 'Model'.
    return const Model(
                 ^^^^^
  lib/application/command/workspace_commands.dart:72:38: Error: The method 'removePerson' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removePerson'.
      final newModel = workspace.model.removePerson(person.id);
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:101:38: Error: The method 'removeSoftwareSystem' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeSoftwareSystem'.
      final newModel = workspace.model.removeSoftwareSystem(system.id);
                                       ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:128:13: Error: The method 'CommandException' isn't defined for the class 'AddContainerCommand'.
   - 'AddContainerCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Parent software system not found');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:131:38: Error: The method 'addContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addContainer'.
      final newModel = workspace.model.addContainer(parentSystemId, container);
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:138:38: Error: The method 'removeContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeContainer'.
      final newModel = workspace.model.removeContainer(parentSystemId, container.id);
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:165:38: Error: The method 'addComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addComponent'.
      final newModel = workspace.model.addComponent(
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:176:38: Error: The method 'removeComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeComponent'.
      final newModel = workspace.model.removeComponent(
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:203:38: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
      final newModel = workspace.model.addRelationship(relationship);
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:210:38: Error: The method 'removeRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeRelationship'.
      final newModel = workspace.model.removeRelationship(relationship.id);
                                       ^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:239:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:245:64: Error: The getter 'name' isn't defined for the class 'SystemLandscapeView'.
   - 'SystemLandscapeView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add system landscape view: ${view.name}';
                                                                 ^^^^
  lib/application/command/workspace_commands.dart:268:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:274:62: Error: The getter 'name' isn't defined for the class 'SystemContextView'.
   - 'SystemContextView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add system context view: ${view.name}';
                                                               ^^^^
  lib/application/command/workspace_commands.dart:297:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:303:57: Error: The getter 'name' isn't defined for the class 'ContainerView'.
   - 'ContainerView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add container view: ${view.name}';
                                                          ^^^^
  lib/application/command/workspace_commands.dart:326:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:332:57: Error: The getter 'name' isn't defined for the class 'ComponentView'.
   - 'ComponentView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add component view: ${view.name}';
                                                          ^^^^
  lib/application/command/workspace_commands.dart:355:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:361:55: Error: The getter 'name' isn't defined for the class 'DynamicView'.
   - 'DynamicView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add dynamic view: ${view.name}';
                                                        ^^^^
  lib/application/command/workspace_commands.dart:384:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:390:58: Error: The getter 'name' isn't defined for the class 'DeploymentView'.
   - 'DeploymentView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add deployment view: ${view.name}';
                                                           ^^^^
  lib/application/command/workspace_commands.dart:397:21: Error: 'Offset' isn't a type.
    final Map<String, Offset> oldPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:398:21: Error: 'Offset' isn't a type.
    final Map<String, Offset> newPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:413:13: Error: The method 'CommandException' isn't defined for the class 'UpdateViewPositionsCommand'.
   - 'UpdateViewPositionsCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('View not found: $viewKey');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:420:33: Error: The method 'updateElementPosition' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateElementPosition'.
        updatedView = updatedView.updateElementPosition(elementId, position);
                                  ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:423:38: Error: The method 'updateView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateView'.
      final newViews = workspace.views.updateView(updatedView);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:432:13: Error: The method 'CommandException' isn't defined for the class 'UpdateViewPositionsCommand'.
   - 'UpdateViewPositionsCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('View not found: $viewKey');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:439:33: Error: The method 'updateElementPosition' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateElementPosition'.
        updatedView = updatedView.updateElementPosition(elementId, position);
                                  ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:442:38: Error: The method 'updateView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateView'.
      final newViews = workspace.views.updateView(updatedView);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:458:43: Error: 'Offset' isn't a type.
        final mergedPositions = Map<String, Offset>.from(newPositions);
                                            ^^^^^^
  lib/application/command/workspace_commands.dart:565:27: Error: The method 'removePerson' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removePerson'.
        newModel = newModel.removePerson(element.id);
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:567:27: Error: The method 'removeSoftwareSystem' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeSoftwareSystem'.
        newModel = newModel.removeSoftwareSystem(element.id);
                            ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:569:27: Error: The method 'removeContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeContainer'.
        newModel = newModel.removeContainer(parentSystem!.id, element.id);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:571:27: Error: The method 'removeComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeComponent'.
        newModel = newModel.removeComponent(
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:577:27: Error: The method 'removeDeploymentNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeDeploymentNode'.
        newModel = newModel.removeDeploymentNode(element.id);
                            ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:579:27: Error: The method 'removeInfrastructureNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeInfrastructureNode'.
        newModel = newModel.removeInfrastructureNode(element.id);
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:581:13: Error: The method 'CommandException' isn't defined for the class 'RemoveElementCommand'.
   - 'RemoveElementCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported element type: ${element.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:598:27: Error: The method 'addContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addContainer'.
        newModel = newModel.addContainer(
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:603:27: Error: The method 'addComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addComponent'.
        newModel = newModel.addComponent(
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:611:27: Error: The method 'addInfrastructureNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addInfrastructureNode'.
        newModel = newModel.addInfrastructureNode(element as InfrastructureNode);
                            ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:613:13: Error: The method 'CommandException' isn't defined for the class 'RemoveElementCommand'.
   - 'RemoveElementCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported element type: ${element.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:618:27: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
        newModel = newModel.addRelationship(relationship);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:623:27: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
        newModel = newModel.addRelationship(relationship);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:648:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:677:13: Error: The method 'CommandException' isn't defined for the class 'RemoveViewCommand'.
   - 'RemoveViewCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported view type: ${view.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:685:50: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Remove view: ${view.name}';
                                                   ^^^^
  lib/application/command/command.dart:89:9: Error: 'Offset' isn't a type.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: 'Offset' isn't a type.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: 'Offset' isn't a type.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  .
00:14 +268 -99: loading /home/jenner/Code/dart-structurizr/test/application/command/history_manager_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/application/command/history_manager_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/application/command/history_manager_test.dart: test/application/command/history_manager_test.dart:552:8: Error: 'execute' is already declared in this scope.
    void execute() => this.execute();
         ^^^^^^^
  test/application/command/history_manager_test.dart:541:20: Context: Previous declaration of 'execute'.
    final Function() execute;
                     ^^^^^^^
  test/application/command/history_manager_test.dart:555:8: Error: 'undo' is already declared in this scope.
    void undo() => this.undo();
         ^^^^
  test/application/command/history_manager_test.dart:542:20: Context: Previous declaration of 'undo'.
    final Function() undo;
                     ^^^^
  test/application/command/history_manager_test.dart:558:14: Error: 'description' is already declared in this scope.
    String get description => this.description;
               ^^^^^^^^^^^
  test/application/command/history_manager_test.dart:543:16: Context: Previous declaration of 'description'.
    final String description;
                 ^^^^^^^^^^^
  test/application/command/history_manager_test.dart:576:8: Error: 'execute' is already declared in this scope.
    void execute() => this.execute();
         ^^^^^^^
  test/application/command/history_manager_test.dart:563:20: Context: Previous declaration of 'execute'.
    final Function() execute;
                     ^^^^^^^
  test/application/command/history_manager_test.dart:579:8: Error: 'undo' is already declared in this scope.
    void undo() => this.undo();
         ^^^^
  test/application/command/history_manager_test.dart:564:20: Context: Previous declaration of 'undo'.
    final Function() undo;
                     ^^^^
  test/application/command/history_manager_test.dart:582:14: Error: 'description' is already declared in this scope.
    String get description => this.description;
               ^^^^^^^^^^^
  test/application/command/history_manager_test.dart:565:16: Context: Previous declaration of 'description'.
    final String description;
                 ^^^^^^^^^^^
  lib/application/command/command.dart:89:9: Error: Type 'Offset' not found.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: Type 'Offset' not found.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: Type 'Offset' not found.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  test/application/command/history_manager_test.dart:541:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() execute;
                     ^^^^^^^
  lib/application/command/command.dart:10:8: Context: This is the inherited member.
    void execute();
         ^^^^^^^
  test/application/command/history_manager_test.dart:542:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() undo;
                     ^^^^
  lib/application/command/command.dart:13:8: Context: This is the inherited member.
    void undo();
         ^^^^
  test/application/command/history_manager_test.dart:540:7: Error: The non-abstract class 'TestCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class TestCommand implements Command {
        ^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  test/application/command/history_manager_test.dart:563:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() execute;
                     ^^^^^^^
  lib/application/command/command.dart:10:8: Context: This is the inherited member.
    void execute();
         ^^^^^^^
  test/application/command/history_manager_test.dart:564:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() undo;
                     ^^^^
  lib/application/command/command.dart:13:8: Context: This is the inherited member.
    void undo();
         ^^^^
  lib/application/command/command.dart:133:7: Error: The non-abstract class 'AddElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:159:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:185:7: Error: The non-abstract class 'AddRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:215:7: Error: The non-abstract class 'RemoveRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:248:7: Error: The non-abstract class 'CompositeCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class CompositeCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:89:9: Error: 'Offset' isn't a type.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: 'Offset' isn't a type.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: 'Offset' isn't a type.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  .
00:15 +268 -99: /home/jenner/Code/dart-structurizr/test/application/dsl/documentation_mapper_test.dart: DocumentationMapper mapDocumentation converts DocumentationNode to Documentation
00:15 +269 -99: /home/jenner/Code/dart-structurizr/test/application/dsl/documentation_mapper_test.dart: DocumentationMapper mapDecisions converts DecisionNode list to Decision list
00:15 +270 -100: loading /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_builder_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/application/dsl/workspace_builder_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/application/dsl/workspace_builder_test.dart: test/application/dsl/workspace_builder_test.dart:500:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final person = workspace.model.people.first;
                                 ^^^^^
  test/application/dsl/workspace_builder_test.dart:507:92: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(builder.referenceResolver.resolveReference('bankingSystem'), equals(workspace.model.softwareSystems.first));
                                                                                             ^^^^^
  .
00:15 +270 -100: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves simple element references in relationships

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.relationship "relationship"
Token[16]: TokenType.identifier "user"
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.string ""Uses""
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -101: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves simple element references in relationships [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                 expect
  package:flutter_test/src/widget_tester.dart 474:18              expect
  test/application/dsl/workspace_mapper_reference_test.dart 47:7  main.<fn>.<fn>
  
00:15 +270 -101: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves implicit relationships within elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.identifier "user"
Token[17]: TokenType.arrow "->"
Token[18]: TokenType.this_ "this"
Token[19]: TokenType.string ""Uses""
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -102: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves implicit relationships within elements [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                 expect
  package:flutter_test/src/widget_tester.dart 474:18              expect
  test/application/dsl/workspace_mapper_reference_test.dart 74:7  main.<fn>.<fn>
  
00:15 +270 -102: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves nested hierarchical relationships

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.identifier "webapp"
Token[17]: TokenType.equals "="
Token[18]: TokenType.containerView "container"
Token[19]: TokenType.string ""Web Application""
Token[20]: TokenType.string ""A web application""
Token[21]: TokenType.leftBrace "{"
Token[22]: TokenType.identifier "controller"
Token[23]: TokenType.equals "="
Token[24]: TokenType.componentView "component"
Token[25]: TokenType.string ""Controller""
Token[26]: TokenType.string ""Handles HTTP requests""
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.identifier "database"
Token[29]: TokenType.equals "="
Token[30]: TokenType.containerView "container"
Token[31]: TokenType.string ""Database""
Token[32]: TokenType.string ""Stores data""
Token[33]: TokenType.identifier "controller"
Token[34]: TokenType.arrow "->"
Token[35]: TokenType.identifier "database"
Token[36]: TokenType.string ""Reads from and writes to""
Token[37]: TokenType.rightBrace "}"
Token[38]: TokenType.rightBrace "}"
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -103: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves nested hierarchical relationships [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 111:12  main.<fn>.<fn>
  
00:15 +270 -103: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves parent-child relationships

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.string ""A system""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.identifier "webapp"
Token[12]: TokenType.equals "="
Token[13]: TokenType.containerView "container"
Token[14]: TokenType.string ""Web Application""
Token[15]: TokenType.string ""A web application""
Token[16]: TokenType.identifier "database"
Token[17]: TokenType.equals "="
Token[18]: TokenType.containerView "container"
Token[19]: TokenType.string ""Database""
Token[20]: TokenType.string ""Stores data""
Token[21]: TokenType.identifier "webapp"
Token[22]: TokenType.arrow "->"
Token[23]: TokenType.identifier "database"
Token[24]: TokenType.string ""Uses""
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.rightBrace "}"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -104: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves parent-child relationships [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 149:12  main.<fn>.<fn>
  
00:15 +270 -104: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references to external elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.identifier "webapp"
Token[17]: TokenType.equals "="
Token[18]: TokenType.containerView "container"
Token[19]: TokenType.string ""Web Application""
Token[20]: TokenType.string ""A web application""
Token[21]: TokenType.identifier "user"
Token[22]: TokenType.arrow "->"
Token[23]: TokenType.identifier "webapp"
Token[24]: TokenType.string ""Uses""
Token[25]: TokenType.rightBrace "}"
Token[26]: TokenType.rightBrace "}"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -105: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination
00:15 +270 -105: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references to external elements [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 188:12  main.<fn>.<fn>
  
00:15 +270 -105: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in deployment views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.string ""A system""
Token[10]: TokenType.leftBrace "{"
Token[11]: TokenType.identifier "webapp"
Token[12]: TokenType.equals "="
Token[13]: TokenType.containerView "container"
Token[14]: TokenType.string ""Web Application""
Token[15]: TokenType.string ""A web application""
Token[16]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[17]: TokenType.string ""Production""
Token[18]: TokenType.leftBrace "{"
Token[19]: TokenType.deploymentNode "deploymentNode"
Token[20]: TokenType.string ""AWS""
Token[21]: TokenType.leftBrace "{"
Token[22]: TokenType.identifier "webServer"
Token[23]: TokenType.equals "="
Token[24]: TokenType.deploymentNode "deploymentNode"
Token[25]: TokenType.string ""Web Server""
Token[26]: TokenType.leftBrace "{"
Token[27]: TokenType.containerInstance "containerInstance"
Token[28]: TokenType.identifier "webapp"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.identifier "database"
Token[31]: TokenType.equals "="
Token[32]: TokenType.infrastructureNode "infrastructureNode"
Token[33]: TokenType.string ""Database""
Token[34]: TokenType.string ""Stores data""
Token[35]: TokenType.identifier "webServer"
Token[36]: TokenType.arrow "->"
Token[37]: TokenType.identifier "database"
Token[38]: TokenType.string ""Connects to""
Token[39]: TokenType.rightBrace "}"
Token[40]: TokenType.rightBrace "}"
Token[41]: TokenType.rightBrace "}"
Token[42]: TokenType.rightBrace "}"
Token[43]: TokenType.rightBrace "}"
Token[44]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -105: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A software system""
Token[15]: TokenType.identifier "user"
Token[16]: TokenType.arrow "->"
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.string ""Uses""
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination
DEBUG: Starting _parseWorkspace parsing
00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in deployment views [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 235:12  main.<fn>.<fn>
  
00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.views "views"
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.systemContext "systemContext"
Token[19]: TokenType.identifier "system"
Token[20]: TokenType.string ""SystemContext""
Token[21]: TokenType.string ""System Context View""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.include "include"
Token[24]: TokenType.identifier "user"
Token[25]: TokenType.exclude "exclude"
Token[26]: TokenType.star "*"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -106: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in views
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -107: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination
00:15 +270 -107: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in views [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 309:12  main.<fn>.<fn>
  
00:15 +270 -107: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution reports error for undefined references

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.relationship "relationship"
Token[11]: TokenType.identifier "user"
Token[12]: TokenType.identifier "undefined"
Token[13]: TokenType.string ""Uses""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +270 -108: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution reports error for undefined references
00:15 +271 -108: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles circular references gracefully

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system1"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System 1""
Token[9]: TokenType.string ""A system""
Token[10]: TokenType.identifier "system2"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System 2""
Token[14]: TokenType.string ""Another system""
Token[15]: TokenType.identifier "system1"
Token[16]: TokenType.arrow "->"
Token[17]: TokenType.identifier "system2"
Token[18]: TokenType.string ""Uses""
Token[19]: TokenType.identifier "system2"
Token[20]: TokenType.arrow "->"
Token[21]: TokenType.identifier "system1"
Token[22]: TokenType.string ""Provides data to""
Token[23]: TokenType.rightBrace "}"
Token[24]: TokenType.rightBrace "}"
Token[25]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system1
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -109: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles circular references gracefully [E]
  Expected: an object with length of <2>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 365:7  main.<fn>.<fn>
  
00:15 +271 -109: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves scope in dynamic views

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.rightBrace "}"
Token[16]: TokenType.views "views"
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.dynamicView "dynamic"
Token[19]: TokenType.identifier "system"
Token[20]: TokenType.string ""DynamicView""
Token[21]: TokenType.string ""Dynamic View""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.identifier "user"
Token[24]: TokenType.arrow "->"
Token[25]: TokenType.identifier "system"
Token[26]: TokenType.string ""Uses""
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -110: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves scope in dynamic views [E]
  Bad state: No element
  dart:core                                                         Iterable.firstWhere
  test/application/dsl/workspace_mapper_reference_test.dart 418:12  main.<fn>.<fn>
  
00:15 +271 -110: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references with special characters

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "special_id"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""Special User""
Token[9]: TokenType.string ""User with special characters in ID""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.minus "-"
Token[12]: TokenType.identifier "with"
Token[13]: TokenType.minus "-"
Token[14]: TokenType.identifier "dashes"
Token[15]: TokenType.equals "="
Token[16]: TokenType.softwareSystem "softwareSystem"
Token[17]: TokenType.string ""System with dashes""
Token[18]: TokenType.string ""System description""
Token[19]: TokenType.relationship "relationship"
Token[20]: TokenType.identifier "special_id"
Token[21]: TokenType.identifier "system"
Token[22]: TokenType.minus "-"
Token[23]: TokenType.identifier "with"
Token[24]: TokenType.minus "-"
Token[25]: TokenType.identifier "dashes"
Token[26]: TokenType.string ""Uses""
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: special_id
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -111: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references with special characters [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 441:7  main.<fn>.<fn>
  
00:15 +271 -111: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves filtered view base references
00:15 +271 -111: /home/jenner/Code/dart-structurizr/test/application/dsl/modeled_relationship_test.dart: ModeledRelationship with WorkspaceMapper findRelationshipBetween returns ModeledRelationship with access to source/destination [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 474:18        expect
  test/application/dsl/modeled_relationship_test.dart 33:7  main.<fn>.<fn>
  
00:15 +271 -111: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves filtered view base references

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.relationship "relationship"
Token[16]: TokenType.identifier "user"
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.string ""Uses""
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.views "views"
Token[21]: TokenType.leftBrace "{"
Token[22]: TokenType.systemContext "systemContext"
Token[23]: TokenType.identifier "system"
Token[24]: TokenType.string ""SystemContext""
Token[25]: TokenType.leftBrace "{"
Token[26]: TokenType.include "include"
Token[27]: TokenType.star "*"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.filteredView "filtered"
Token[30]: TokenType.string ""SystemContext""
Token[31]: TokenType.string ""FilteredView""
Token[32]: TokenType.leftBrace "{"
Token[33]: TokenType.include "include"
Token[34]: TokenType.string ""user""
Token[35]: TokenType.rightBrace "}"
Token[36]: TokenType.rightBrace "}"
Token[37]: TokenType.rightBrace "}"
Token[38]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -112: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves filtered view base references [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 486:7  main.<fn>.<fn>
  
00:15 +271 -112: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles complex reference chains

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.enterprise "enterprise"
Token[6]: TokenType.string ""Example Corp""
Token[7]: TokenType.leftBrace "{"
Token[8]: TokenType.identifier "user"
Token[9]: TokenType.equals "="
Token[10]: TokenType.person "person"
Token[11]: TokenType.string ""User""
Token[12]: TokenType.string ""A user of the system""
Token[13]: TokenType.identifier "internal"
Token[14]: TokenType.equals "="
Token[15]: TokenType.softwareSystem "softwareSystem"
Token[16]: TokenType.string ""Internal System""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.identifier "web"
Token[19]: TokenType.equals "="
Token[20]: TokenType.containerView "container"
Token[21]: TokenType.string ""Web Application""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.identifier "spa"
Token[24]: TokenType.equals "="
Token[25]: TokenType.componentView "component"
Token[26]: TokenType.string ""SPA""
Token[27]: TokenType.string ""Single page application""
Token[28]: TokenType.identifier "api"
Token[29]: TokenType.equals "="
Token[30]: TokenType.componentView "component"
Token[31]: TokenType.string ""API""
Token[32]: TokenType.string ""Application API""
Token[33]: TokenType.identifier "spa"
Token[34]: TokenType.arrow "->"
Token[35]: TokenType.identifier "api"
Token[36]: TokenType.string ""Makes API calls to""
Token[37]: TokenType.rightBrace "}"
Token[38]: TokenType.identifier "core"
Token[39]: TokenType.equals "="
Token[40]: TokenType.containerView "container"
Token[41]: TokenType.string ""Core System""
Token[42]: TokenType.leftBrace "{"
Token[43]: TokenType.identifier "service"
Token[44]: TokenType.equals "="
Token[45]: TokenType.componentView "component"
Token[46]: TokenType.string ""Service""
Token[47]: TokenType.string ""Business logic""
Token[48]: TokenType.identifier "repo"
Token[49]: TokenType.equals "="
Token[50]: TokenType.componentView "component"
Token[51]: TokenType.string ""Repository""
Token[52]: TokenType.string ""Data access""
Token[53]: TokenType.identifier "service"
Token[54]: TokenType.arrow "->"
Token[55]: TokenType.identifier "repo"
Token[56]: TokenType.string ""Uses""
Token[57]: TokenType.rightBrace "}"
Token[58]: TokenType.identifier "api"
Token[59]: TokenType.arrow "->"
Token[60]: TokenType.identifier "service"
Token[61]: TokenType.string ""Forwards requests to""
Token[62]: TokenType.rightBrace "}"
Token[63]: TokenType.identifier "user"
Token[64]: TokenType.arrow "->"
Token[65]: TokenType.identifier "spa"
Token[66]: TokenType.string ""Uses""
Token[67]: TokenType.rightBrace "}"
Token[68]: TokenType.rightBrace "}"
Token[69]: TokenType.rightBrace "}"
Token[70]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: Example Corp
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.identifier, lexeme: api
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: api, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: api, matches: false
DEBUG: Current token before matching: TokenType.identifier, lexeme: service
DEBUG: Checking for token: TokenType.documentation, current token: TokenType.identifier, lexeme: service, matches: false
DEBUG: Checking for token: TokenType.decisions, current token: TokenType.identifier, lexeme: service, matches: false
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -113: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles complex reference chains [E]
  Expected: 'Example Corp'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 528:7  main.<fn>.<fn>
  
00:15 +271 -113: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves recursive "this" and "parent" references

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A system""
Token[15]: TokenType.leftBrace "{"
Token[16]: TokenType.identifier "api"
Token[17]: TokenType.equals "="
Token[18]: TokenType.containerView "container"
Token[19]: TokenType.string ""API""
Token[20]: TokenType.leftBrace "{"
Token[21]: TokenType.identifier "controller"
Token[22]: TokenType.equals "="
Token[23]: TokenType.componentView "component"
Token[24]: TokenType.string ""Controller""
Token[25]: TokenType.leftBrace "{"
Token[26]: TokenType.identifier "service"
Token[27]: TokenType.equals "="
Token[28]: TokenType.componentView "component"
Token[29]: TokenType.string ""Service""
Token[30]: TokenType.leftBrace "{"
Token[31]: TokenType.identifier "repository"
Token[32]: TokenType.equals "="
Token[33]: TokenType.componentView "component"
Token[34]: TokenType.string ""Repository""
Token[35]: TokenType.leftBrace "{"
Token[36]: TokenType.arrow "->"
Token[37]: TokenType.this_ "this"
Token[38]: TokenType.string ""Self-reference""
Token[39]: TokenType.arrow "->"
Token[40]: TokenType.identifier "parent"
Token[41]: TokenType.string ""Uses parent service""
Token[42]: TokenType.arrow "->"
Token[43]: TokenType.identifier "controller"
Token[44]: TokenType.string ""Uses controller""
Token[45]: TokenType.arrow "->"
Token[46]: TokenType.identifier "api"
Token[47]: TokenType.string ""Uses API container""
Token[48]: TokenType.arrow "->"
Token[49]: TokenType.identifier "system"
Token[50]: TokenType.string ""Uses system""
Token[51]: TokenType.arrow "->"
Token[52]: TokenType.identifier "user"
Token[53]: TokenType.string ""Uses user""
Token[54]: TokenType.rightBrace "}"
Token[55]: TokenType.rightBrace "}"
Token[56]: TokenType.rightBrace "}"
Token[57]: TokenType.rightBrace "}"
Token[58]: TokenType.rightBrace "}"
Token[59]: TokenType.rightBrace "}"
Token[60]: TokenType.rightBrace "}"
Token[61]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -114: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves recursive "this" and "parent" references [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 597:7  main.<fn>.<fn>
  
00:15 +271 -114: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references with similar names

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A regular user""
Token[10]: TokenType.identifier "userAdmin"
Token[11]: TokenType.equals "="
Token[12]: TokenType.person "person"
Token[13]: TokenType.string ""User Administrator""
Token[14]: TokenType.string ""Manages users""
Token[15]: TokenType.identifier "admin"
Token[16]: TokenType.equals "="
Token[17]: TokenType.person "person"
Token[18]: TokenType.string ""Administrator""
Token[19]: TokenType.string ""System administrator""
Token[20]: TokenType.identifier "user"
Token[21]: TokenType.arrow "->"
Token[22]: TokenType.identifier "userAdmin"
Token[23]: TokenType.string ""Reports to""
Token[24]: TokenType.identifier "userAdmin"
Token[25]: TokenType.arrow "->"
Token[26]: TokenType.identifier "admin"
Token[27]: TokenType.string ""Reports to""
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.rightBrace "}"
Token[30]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -115: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references with similar names [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 666:7  main.<fn>.<fn>
  
00:15 +271 -115: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in complex deployment hierarchies

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.identifier "webapp"
Token[11]: TokenType.equals "="
Token[12]: TokenType.containerView "container"
Token[13]: TokenType.string ""Web Application""
Token[14]: TokenType.identifier "service"
Token[15]: TokenType.equals "="
Token[16]: TokenType.containerView "container"
Token[17]: TokenType.string ""Service""
Token[18]: TokenType.identifier "database"
Token[19]: TokenType.equals "="
Token[20]: TokenType.containerView "container"
Token[21]: TokenType.string ""Database""
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[24]: TokenType.string ""Production""
Token[25]: TokenType.leftBrace "{"
Token[26]: TokenType.identifier "region"
Token[27]: TokenType.equals "="
Token[28]: TokenType.deploymentNode "deploymentNode"
Token[29]: TokenType.string ""Cloud Region""
Token[30]: TokenType.leftBrace "{"
Token[31]: TokenType.identifier "zone"
Token[32]: TokenType.equals "="
Token[33]: TokenType.deploymentNode "deploymentNode"
Token[34]: TokenType.string ""Availability Zone""
Token[35]: TokenType.leftBrace "{"
Token[36]: TokenType.identifier "webCluster"
Token[37]: TokenType.equals "="
Token[38]: TokenType.deploymentNode "deploymentNode"
Token[39]: TokenType.string ""Web Cluster""
Token[40]: TokenType.leftBrace "{"
Token[41]: TokenType.identifier "webNode"
Token[42]: TokenType.equals "="
Token[43]: TokenType.deploymentNode "deploymentNode"
Token[44]: TokenType.string ""Web Node""
Token[45]: TokenType.leftBrace "{"
Token[46]: TokenType.identifier "webappInstance"
Token[47]: TokenType.equals "="
Token[48]: TokenType.containerInstance "containerInstance"
Token[49]: TokenType.identifier "webapp"
Token[50]: TokenType.rightBrace "}"
Token[51]: TokenType.rightBrace "}"
Token[52]: TokenType.identifier "serviceCluster"
Token[53]: TokenType.equals "="
Token[54]: TokenType.deploymentNode "deploymentNode"
Token[55]: TokenType.string ""Service Cluster""
Token[56]: TokenType.leftBrace "{"
Token[57]: TokenType.identifier "serviceNode"
Token[58]: TokenType.equals "="
Token[59]: TokenType.deploymentNode "deploymentNode"
Token[60]: TokenType.string ""Service Node""
Token[61]: TokenType.leftBrace "{"
Token[62]: TokenType.identifier "serviceInstance"
Token[63]: TokenType.equals "="
Token[64]: TokenType.containerInstance "containerInstance"
Token[65]: TokenType.identifier "service"
Token[66]: TokenType.rightBrace "}"
Token[67]: TokenType.rightBrace "}"
Token[68]: TokenType.identifier "dbCluster"
Token[69]: TokenType.equals "="
Token[70]: TokenType.deploymentNode "deploymentNode"
Token[71]: TokenType.string ""DB Cluster""
Token[72]: TokenType.leftBrace "{"
Token[73]: TokenType.identifier "dbNode"
Token[74]: TokenType.equals "="
Token[75]: TokenType.deploymentNode "deploymentNode"
Token[76]: TokenType.string ""DB Node""
Token[77]: TokenType.leftBrace "{"
Token[78]: TokenType.identifier "dbInstance"
Token[79]: TokenType.equals "="
Token[80]: TokenType.containerInstance "containerInstance"
Token[81]: TokenType.identifier "database"
Token[82]: TokenType.rightBrace "}"
Token[83]: TokenType.rightBrace "}"
Token[84]: TokenType.rightBrace "}"
Token[85]: TokenType.rightBrace "}"
Token[86]: TokenType.identifier "webappInstance"
Token[87]: TokenType.arrow "->"
Token[88]: TokenType.identifier "serviceInstance"
Token[89]: TokenType.string ""Uses""
Token[90]: TokenType.identifier "serviceInstance"
Token[91]: TokenType.arrow "->"
Token[92]: TokenType.identifier "dbInstance"
Token[93]: TokenType.string ""Stores data in""
Token[94]: TokenType.rightBrace "}"
Token[95]: TokenType.rightBrace "}"
Token[96]: TokenType.rightBrace "}"
Token[97]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -116: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves references in complex deployment hierarchies [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 720:7  main.<fn>.<fn>
  
00:15 +271 -116: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution gracefully handles bidirectional relationships

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.identifier "user"
Token[14]: TokenType.arrow "->"
Token[15]: TokenType.identifier "system"
Token[16]: TokenType.string ""Interacts with""
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -117: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution gracefully handles bidirectional relationships [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 773:7  main.<fn>.<fn>
  
00:15 +271 -117: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves case-insensitive element references

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""API System""
Token[13]: TokenType.relationship "relationship"
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.identifier "SYSTEM"
Token[16]: TokenType.string ""Uses""
Token[17]: TokenType.rightBrace "}"
Token[18]: TokenType.rightBrace "}"
Token[19]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -118: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves case-insensitive element references [E]
  Expected: not null
    Actual: <null>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 808:7  main.<fn>.<fn>
  
00:15 +271 -118: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves element references in view filters

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "admin"
Token[10]: TokenType.equals "="
Token[11]: TokenType.person "person"
Token[12]: TokenType.string ""Administrator""
Token[13]: TokenType.identifier "system"
Token[14]: TokenType.equals "="
Token[15]: TokenType.softwareSystem "softwareSystem"
Token[16]: TokenType.string ""System""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.identifier "webapp"
Token[19]: TokenType.equals "="
Token[20]: TokenType.containerView "container"
Token[21]: TokenType.string ""Web App""
Token[22]: TokenType.identifier "api"
Token[23]: TokenType.equals "="
Token[24]: TokenType.containerView "container"
Token[25]: TokenType.string ""API""
Token[26]: TokenType.identifier "database"
Token[27]: TokenType.equals "="
Token[28]: TokenType.containerView "container"
Token[29]: TokenType.string ""Database""
Token[30]: TokenType.rightBrace "}"
Token[31]: TokenType.identifier "user"
Token[32]: TokenType.arrow "->"
Token[33]: TokenType.identifier "webapp"
Token[34]: TokenType.string ""Uses""
Token[35]: TokenType.identifier "admin"
Token[36]: TokenType.arrow "->"
Token[37]: TokenType.identifier "api"
Token[38]: TokenType.string ""Manages""
Token[39]: TokenType.identifier "webapp"
Token[40]: TokenType.arrow "->"
Token[41]: TokenType.identifier "api"
Token[42]: TokenType.string ""Calls""
Token[43]: TokenType.identifier "api"
Token[44]: TokenType.arrow "->"
Token[45]: TokenType.identifier "database"
Token[46]: TokenType.string ""Reads/writes""
Token[47]: TokenType.rightBrace "}"
Token[48]: TokenType.views "views"
Token[49]: TokenType.leftBrace "{"
Token[50]: TokenType.systemContext "systemContext"
Token[51]: TokenType.identifier "system"
Token[52]: TokenType.string ""SystemContext""
Token[53]: TokenType.leftBrace "{"
Token[54]: TokenType.include "include"
Token[55]: TokenType.identifier "user"
Token[56]: TokenType.include "include"
Token[57]: TokenType.identifier "admin"
Token[58]: TokenType.exclude "exclude"
Token[59]: TokenType.star "*"
Token[60]: TokenType.rightBrace "}"
Token[61]: TokenType.containerView "container"
Token[62]: TokenType.identifier "system"
Token[63]: TokenType.string ""ContainerView""
Token[64]: TokenType.leftBrace "{"
Token[65]: TokenType.include "include"
Token[66]: TokenType.star "*"
Token[67]: TokenType.exclude "exclude"
Token[68]: TokenType.identifier "database"
Token[69]: TokenType.rightBrace "}"
Token[70]: TokenType.styles "styles"
Token[71]: TokenType.leftBrace "{"
Token[72]: TokenType.identifier "element"
Token[73]: TokenType.string ""Person""
Token[74]: TokenType.leftBrace "{"
Token[75]: TokenType.shape "shape"
Token[76]: TokenType.personShape "Person"
Token[77]: TokenType.background "background"
Token[78]: TokenType.hash "#"
Token[79]: TokenType.integer "08427"
Token[80]: TokenType.identifier "B"
Token[81]: TokenType.rightBrace "}"
Token[82]: TokenType.identifier "element"
Token[83]: TokenType.identifier "user"
Token[84]: TokenType.leftBrace "{"
Token[85]: TokenType.background "background"
Token[86]: TokenType.hash "#"
Token[87]: TokenType.integer "4"
Token[88]: TokenType.identifier "F9BDA"
Token[89]: TokenType.rightBrace "}"
Token[90]: TokenType.rightBrace "}"
Token[91]: TokenType.rightBrace "}"
Token[92]: TokenType.rightBrace "}"
Token[93]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Current token before matching: TokenType.views, lexeme: views
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -119: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution resolves element references in view filters [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 864:7  main.<fn>.<fn>
  
00:15 +271 -119: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles multiple deployments with same container reference

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "system"
Token[6]: TokenType.equals "="
Token[7]: TokenType.softwareSystem "softwareSystem"
Token[8]: TokenType.string ""System""
Token[9]: TokenType.leftBrace "{"
Token[10]: TokenType.identifier "webapp"
Token[11]: TokenType.equals "="
Token[12]: TokenType.containerView "container"
Token[13]: TokenType.string ""Web Application""
Token[14]: TokenType.rightBrace "}"
Token[15]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[16]: TokenType.string ""Development""
Token[17]: TokenType.leftBrace "{"
Token[18]: TokenType.identifier "devServer"
Token[19]: TokenType.equals "="
Token[20]: TokenType.deploymentNode "deploymentNode"
Token[21]: TokenType.string ""Dev Server""
Token[22]: TokenType.leftBrace "{"
Token[23]: TokenType.identifier "webappDevInstance"
Token[24]: TokenType.equals "="
Token[25]: TokenType.containerInstance "containerInstance"
Token[26]: TokenType.identifier "webapp"
Token[27]: TokenType.rightBrace "}"
Token[28]: TokenType.rightBrace "}"
Token[29]: TokenType.deploymentEnvironment "deploymentEnvironment"
Token[30]: TokenType.string ""Production""
Token[31]: TokenType.leftBrace "{"
Token[32]: TokenType.identifier "prodServer1"
Token[33]: TokenType.equals "="
Token[34]: TokenType.deploymentNode "deploymentNode"
Token[35]: TokenType.string ""Prod Server 1""
Token[36]: TokenType.leftBrace "{"
Token[37]: TokenType.identifier "webappProd1"
Token[38]: TokenType.equals "="
Token[39]: TokenType.containerInstance "containerInstance"
Token[40]: TokenType.identifier "webapp"
Token[41]: TokenType.rightBrace "}"
Token[42]: TokenType.identifier "prodServer2"
Token[43]: TokenType.equals "="
Token[44]: TokenType.deploymentNode "deploymentNode"
Token[45]: TokenType.string ""Prod Server 2""
Token[46]: TokenType.leftBrace "{"
Token[47]: TokenType.identifier "webappProd2"
Token[48]: TokenType.equals "="
Token[49]: TokenType.containerInstance "containerInstance"
Token[50]: TokenType.identifier "webapp"
Token[51]: TokenType.rightBrace "}"
Token[52]: TokenType.identifier "loadBalancer"
Token[53]: TokenType.equals "="
Token[54]: TokenType.infrastructureNode "infrastructureNode"
Token[55]: TokenType.string ""Load Balancer""
Token[56]: TokenType.leftBrace "{"
Token[57]: TokenType.arrow "->"
Token[58]: TokenType.identifier "webappProd1"
Token[59]: TokenType.string ""Routes to""
Token[60]: TokenType.arrow "->"
Token[61]: TokenType.identifier "webappProd2"
Token[62]: TokenType.string ""Routes to""
Token[63]: TokenType.rightBrace "}"
Token[64]: TokenType.rightBrace "}"
Token[65]: TokenType.rightBrace "}"
Token[66]: TokenType.rightBrace "}"
Token[67]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: system
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +271 -120: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles multiple deployments with same container reference [E]
  Expected: an object with length of <2>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                  expect
  package:flutter_test/src/widget_tester.dart 474:18               expect
  test/application/dsl/workspace_mapper_reference_test.dart 926:7  main.<fn>.<fn>
  
00:15 +271 -120: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution handles reference resolution errors gracefully

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.identifier "system"
Token[10]: TokenType.equals "="
Token[11]: TokenType.softwareSystem "softwareSystem"
Token[12]: TokenType.string ""System""
Token[13]: TokenType.relationship "relationship"
Token[14]: TokenType.identifier "user"
Token[15]: TokenType.identifier "nonexistentSystem"
Token[16]: TokenType.string ""Tries to use""
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.arrow "->"
Token[19]: TokenType.identifier "nonexistentUser"
Token[20]: TokenType.string ""Sends notifications to""
Token[21]: TokenType.rightBrace "}"
Token[22]: TokenType.rightBrace "}"
Token[23]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +272 -120: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution creates ModeledRelationships with access to source and destination elements

DEBUG: List of tokens from lexer:
Token[0]: TokenType.workspace "workspace"
Token[1]: TokenType.string ""Test Workspace""
Token[2]: TokenType.leftBrace "{"
Token[3]: TokenType.model "model"
Token[4]: TokenType.leftBrace "{"
Token[5]: TokenType.identifier "user"
Token[6]: TokenType.equals "="
Token[7]: TokenType.person "person"
Token[8]: TokenType.string ""User""
Token[9]: TokenType.string ""A user of the system""
Token[10]: TokenType.identifier "system"
Token[11]: TokenType.equals "="
Token[12]: TokenType.softwareSystem "softwareSystem"
Token[13]: TokenType.string ""System""
Token[14]: TokenType.string ""A software system""
Token[15]: TokenType.identifier "user"
Token[16]: TokenType.arrow "->"
Token[17]: TokenType.identifier "system"
Token[18]: TokenType.string ""Uses""
Token[19]: TokenType.rightBrace "}"
Token[20]: TokenType.rightBrace "}"
Token[21]: TokenType.eof ""
DEBUG: Documentation token found: false
DEBUG: Decisions token found: false
DEBUG: End token list

DEBUG: Starting _parseWorkspace parsing
DEBUG: Parsed workspace name: user
DEBUG: Current token before matching: TokenType.model, lexeme: model
DEBUG: Creating WorkspaceNode with documentation: false
DEBUG: Creating WorkspaceNode with decisions count: 0
ALERT: No documentation node found during parsing!
DEBUG: FINAL CHECK - WorkspaceNode has documentation: false
00:15 +272 -121: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_reference_test.dart: WorkspaceMapper Reference Resolution creates ModeledRelationships with access to source and destination elements [E]
  Expected: an object with length of <1>
    Actual: []
     Which: has length of <0>
  
  package:matcher                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                expect
  test/application/dsl/workspace_mapper_reference_test.dart 1017:7  main.<fn>.<fn>
  
00:15 +272 -122: loading /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_test.dart: test/application/dsl/workspace_mapper_test.dart:87:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:88:9: Error: No named parameter with the name 'children'.
          children: [systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:109:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:110:9: Error: No named parameter with the name 'identifier'.
          identifier: 'container',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:352:3: Context: Found this candidate, but the arguments don't match.
    ContainerNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:119:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 2, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:120:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:129:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:130:9: Error: No named parameter with the name 'children'.
          children: [systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:155:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 4, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:156:9: Error: No named parameter with the name 'identifier'.
          identifier: 'component',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:393:3: Context: Found this candidate, but the arguments don't match.
    ComponentNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:165:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:166:9: Error: No named parameter with the name 'identifier'.
          identifier: 'container',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:352:3: Context: Found this candidate, but the arguments don't match.
    ContainerNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:175:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 2, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:176:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:185:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:186:9: Error: No named parameter with the name 'children'.
          children: [systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:214:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 5, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:210:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'user',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:221:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 2, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:222:9: Error: No named parameter with the name 'identifier'.
          identifier: 'user',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:272:3: Context: Found this candidate, but the arguments don't match.
    PersonNode({
    ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:230:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:231:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:240:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:241:9: Error: No named parameter with the name 'children'.
          children: [personNode, systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:264:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 5, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:260:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'undefined',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:271:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:272:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:281:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:282:9: Error: No named parameter with the name 'children'.
          children: [systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:300:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 5, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:296:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'system',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:307:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:308:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:317:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:318:9: Error: No named parameter with the name 'children'.
          children: [systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:334:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 3, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:340:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 2, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:341:9: Error: No named parameter with the name 'identifier'.
          identifier: 'user',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:272:3: Context: Found this candidate, but the arguments don't match.
    PersonNode({
    ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:349:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:350:9: Error: No named parameter with the name 'children'.
          children: [personNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:372:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 10, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:368:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'user',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:381:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 11, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:377:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'system',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:390:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 12, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:386:9: Error: No named parameter with the name 'sourceIdentifier'.
          sourceIdentifier: 'container',
          ^^^^^^^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:658:3: Context: Found this candidate, but the arguments don't match.
    RelationshipNode({
    ^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:397:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 7, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:398:9: Error: No named parameter with the name 'identifier'.
          identifier: 'component',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:393:3: Context: Found this candidate, but the arguments don't match.
    ComponentNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:407:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 6, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:408:9: Error: No named parameter with the name 'identifier'.
          identifier: 'container',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:352:3: Context: Found this candidate, but the arguments don't match.
    ContainerNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:417:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 5, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:418:9: Error: No named parameter with the name 'identifier'.
          identifier: 'system',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:311:3: Context: Found this candidate, but the arguments don't match.
    SoftwareSystemNode({
    ^^^^^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:427:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 4, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:428:9: Error: No named parameter with the name 'identifier'.
          identifier: 'user',
          ^^^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:272:3: Context: Found this candidate, but the arguments don't match.
    PersonNode({
    ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:436:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:437:9: Error: No named parameter with the name 'children'.
          children: [personNode, systemNode],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:478:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 5, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:486:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 6, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:492:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 4, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:498:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:499:9: Error: No named parameter with the name 'children'.
          children: [],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:514:41: Error: Undefined name 'Shape'.
        expect(elementStyle.shape, equals(Shape.box));
                                          ^^^^^
  test/application/dsl/workspace_mapper_test.dart:519:46: Error: Undefined name 'LineStyle'.
        expect(relationshipStyle.style, equals(LineStyle.dashed));
                                               ^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:527:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 4, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:533:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:534:9: Error: No named parameter with the name 'children'.
          children: [],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:556:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 4, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:562:39: Error: Too many positional arguments: 0 allowed, but 3 found.
  Try removing the extra positional arguments.
          sourcePosition: SourcePosition(0, 1, 1),
                                        ^
  lib/domain/parser/error_reporter.dart:30:9: Context: Found this candidate, but the arguments don't match.
    const SourcePosition({
          ^^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:563:9: Error: No named parameter with the name 'children'.
          children: [],
          ^^^^^^^^
  lib/domain/parser/ast/ast_nodes.dart:120:3: Context: Found this candidate, but the arguments don't match.
    WorkspaceNode({
    ^^^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:33:24: Error: Property 'name' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.name, equals('Test Workspace'));
                         ^^^^
  test/application/dsl/workspace_mapper_test.dart:34:24: Error: Property 'description' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.description, equals('A test workspace'));
                         ^^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:35:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements, isEmpty);
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:64:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements, hasLength(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:66:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final person = workspace.model.elements.first as Person;
                                 ^^^^^
  test/application/dsl/workspace_mapper_test.dart:69:21: Error: The getter 'identifier' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
        expect(person.identifier, equals('user'));
                      ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:96:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements, hasLength(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:98:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final system = workspace.model.elements.first as SoftwareSystem;
                                 ^^^^^
  test/application/dsl/workspace_mapper_test.dart:101:21: Error: The getter 'identifier' isn't defined for the class 'SoftwareSystem'.
   - 'SoftwareSystem' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
        expect(system.identifier, equals('system'));
                      ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:138:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements, hasLength(2)); // System + Container
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:140:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final system = workspace.model.elements.first as SoftwareSystem;
                                 ^^^^^
  test/application/dsl/workspace_mapper_test.dart:143:35: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final container = workspace.model.elements
                                    ^^^^^
  test/application/dsl/workspace_mapper_test.dart:145:32: Error: The getter 'identifier' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'container');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:147:24: Error: The getter 'parent' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'parent'.
        expect(container.parent, equals(system));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:194:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements, hasLength(3)); // System + Container + Component
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:196:35: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final component = workspace.model.elements
                                    ^^^^^
  test/application/dsl/workspace_mapper_test.dart:198:32: Error: The getter 'identifier' isn't defined for the class 'Component'.
   - 'Component' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'component');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:201:35: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final container = workspace.model.elements
                                    ^^^^^
  test/application/dsl/workspace_mapper_test.dart:203:32: Error: The getter 'identifier' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'container');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:204:24: Error: The getter 'parent' isn't defined for the class 'Component'.
   - 'Component' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'parent'.
        expect(component.parent, equals(container));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:249:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.relationships, hasLength(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:251:38: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final relationship = workspace.model.relationships.first;
                                       ^^^^^
  test/application/dsl/workspace_mapper_test.dart:252:34: Error: The getter 'identifier' isn't defined for the class 'Element?'.
   - 'Element' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
        expect(relationship.source.identifier, equals('user'));
                                   ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:253:39: Error: The getter 'identifier' isn't defined for the class 'Element?'.
   - 'Element' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
        expect(relationship.destination.identifier, equals('system'));
                                        ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:359:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final person = workspace.model.elements.first as Person;
                                 ^^^^^
  test/application/dsl/workspace_mapper_test.dart:445:24: Error: Property 'name' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.name, equals('Complex Workspace'));
                         ^^^^
  test/application/dsl/workspace_mapper_test.dart:448:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements.whereType<Person>().length, equals(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:449:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements.whereType<SoftwareSystem>().length, equals(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:450:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements.whereType<Container>().length, equals(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:451:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.elements.whereType<Component>().length, equals(1));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:454:24: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.model.relationships.length, equals(3));
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:457:35: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final component = workspace.model.elements
                                    ^^^^^
  test/application/dsl/workspace_mapper_test.dart:459:32: Error: The getter 'identifier' isn't defined for the class 'Component'.
   - 'Component' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'component');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:460:35: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final container = workspace.model.elements
                                    ^^^^^
  test/application/dsl/workspace_mapper_test.dart:462:32: Error: The getter 'identifier' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'container');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:463:32: Error: Property 'model' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final system = workspace.model.elements
                                 ^^^^^
  test/application/dsl/workspace_mapper_test.dart:465:32: Error: The getter 'identifier' isn't defined for the class 'SoftwareSystem'.
   - 'SoftwareSystem' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'identifier'.
            .firstWhere((e) => e.identifier == 'system');
                                 ^^^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:467:24: Error: The getter 'parent' isn't defined for the class 'Component'.
   - 'Component' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'parent'.
        expect(component.parent, equals(container));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:468:24: Error: The getter 'parent' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'parent'.
        expect(container.parent, equals(system));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:508:24: Error: Property 'styles' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.styles, isNotNull);
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:509:24: Error: Property 'styles' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.styles.elements.length, equals(1));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:510:24: Error: Property 'styles' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.styles.relationships.length, equals(1));
                         ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:512:38: Error: Property 'styles' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final elementStyle = workspace.styles.elements.first;
                                       ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:516:43: Error: Property 'styles' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final relationshipStyle = workspace.styles.relationships.first;
                                            ^^^^^^
  test/application/dsl/workspace_mapper_test.dart:543:24: Error: Property 'branding' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.branding, isNotNull);
                         ^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:544:24: Error: Property 'branding' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.logo, equals('https://example.com/logo.png'));
                         ^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:544:33: Error: Property 'logo' cannot be accessed on 'Branding?' because it is potentially null.
   - 'Branding' is from 'package:flutter_structurizr/domain/style/branding.dart' ('lib/domain/style/branding.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.logo, equals('https://example.com/logo.png'));
                                  ^^^^
  test/application/dsl/workspace_mapper_test.dart:545:24: Error: Property 'branding' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.fonts.length, equals(1));
                         ^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:545:33: Error: Property 'fonts' cannot be accessed on 'Branding?' because it is potentially null.
   - 'Branding' is from 'package:flutter_structurizr/domain/style/branding.dart' ('lib/domain/style/branding.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.fonts.length, equals(1));
                                  ^^^^^
  test/application/dsl/workspace_mapper_test.dart:546:24: Error: Property 'branding' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.fonts.first.name, equals('Open Sans'));
                         ^^^^^^^^
  test/application/dsl/workspace_mapper_test.dart:546:33: Error: Property 'fonts' cannot be accessed on 'Branding?' because it is potentially null.
   - 'Branding' is from 'package:flutter_structurizr/domain/style/branding.dart' ('lib/domain/style/branding.dart').
  Try accessing using ?. instead.
        expect(workspace.branding.fonts.first.name, equals('Open Sans'));
                                  ^^^^^
  test/application/dsl/workspace_mapper_test.dart:572:24: Error: Property 'views' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.views, isNotNull);
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:573:24: Error: Property 'views' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.views.configuration, isNotNull);
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:574:24: Error: Property 'views' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        expect(workspace.views.configuration?.terminology, isNotNull);
                         ^^^^^
  test/application/dsl/workspace_mapper_test.dart:576:37: Error: Property 'views' cannot be accessed on 'Workspace?' because it is potentially null.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Try accessing using ?. instead.
        final terminology = workspace.views.configuration!.terminology!;
                                      ^^^^^
  .
00:16 +272 -122: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_style_test.dart: WorkspaceMapper Style Visitor Methods maps element styles
00:16 +272 -123: loading /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_with_history_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_with_history_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_with_history_test.dart: lib/application/command/command.dart:89:9: Error: Type 'Offset' not found.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: Type 'Offset' not found.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: Type 'Offset' not found.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  lib/application/command/workspace_commands.dart:397:21: Error: Type 'Offset' not found.
    final Map<String, Offset> oldPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:398:21: Error: Type 'Offset' not found.
    final Map<String, Offset> newPositions;
                      ^^^^^^
  lib/application/workspace/workspace_manager_with_history.dart:15:1: Error: 'Container' is imported from both 'package:flutter/src/widgets/container.dart' and 'package:flutter_structurizr/domain/model/model.dart'.
  import 'package:flutter_structurizr/domain/model/container.dart';
  ^^^^^^^^^
  lib/application/workspace/workspace_manager_with_history.dart:19:1: Error: 'Element' is imported from both 'package:flutter/src/widgets/framework.dart' and 'package:flutter_structurizr/domain/model/element.dart'.
  import 'package:flutter_structurizr/domain/model/element.dart';
  ^^^^^^^
  lib/application/workspace/workspace_manager_with_history.dart:28:1: Error: 'View' is imported from both 'package:flutter/src/widgets/view.dart' and 'package:flutter_structurizr/domain/view/view.dart'.
  import 'package:flutter_structurizr/domain/view/view.dart';
  ^^^^
  lib/application/command/command.dart:133:7: Error: The non-abstract class 'AddElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:159:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:185:7: Error: The non-abstract class 'AddRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:215:7: Error: The non-abstract class 'RemoveRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:248:7: Error: The non-abstract class 'CompositeCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class CompositeCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:25:7: Error: The non-abstract class 'WorkspaceUpdateCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class WorkspaceUpdateCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:53:7: Error: The non-abstract class 'AddPersonCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddPersonCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:82:7: Error: The non-abstract class 'AddSoftwareSystemCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSoftwareSystemCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:111:7: Error: The non-abstract class 'AddContainerCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddContainerCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:148:7: Error: The non-abstract class 'AddComponentCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddComponentCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:190:7: Error: The non-abstract class 'AddRelationshipToWorkspaceCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipToWorkspaceCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:220:7: Error: The non-abstract class 'AddSystemLandscapeViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSystemLandscapeViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:249:7: Error: The non-abstract class 'AddSystemContextViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddSystemContextViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:278:7: Error: The non-abstract class 'AddContainerViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddContainerViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:307:7: Error: The non-abstract class 'AddComponentViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddComponentViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:336:7: Error: The non-abstract class 'AddDynamicViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddDynamicViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:365:7: Error: The non-abstract class 'AddDeploymentViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddDeploymentViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:476:7: Error: The non-abstract class 'UpdateStylesCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class UpdateStylesCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:506:7: Error: The non-abstract class 'UpdateDocumentationCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class UpdateDocumentationCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:538:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/workspace_commands.dart:635:7: Error: The non-abstract class 'RemoveViewCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveViewCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/workspace/workspace_manager_with_history.dart:148:16: Error: The return type of the method 'WorkspaceManagerWithHistory.importWorkspace' is 'Future<void>', which does not match the return type, 'Future<Workspace>', of the overridden method, 'WorkspaceManager.importWorkspace'.
   - 'Future' is from 'dart:async'.
   - 'Workspace' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Change to a subtype of 'Future<Workspace>'.
    Future<void> importWorkspace(String sourcePath, String destinationPath, {ValueChanged<double>? onProgress}) {
                 ^
  lib/application/workspace/workspace_manager.dart:444:21: Context: This is the overridden method ('importWorkspace').
    Future<Workspace> importWorkspace(
                      ^
  test/application/workspace/workspace_manager_with_history_test.dart:34:20: Error: Couldn't find constructor 'Model'.
        model: const Model(
                     ^^^^^
  test/application/workspace/workspace_manager_with_history_test.dart:202:24: Error: Method not found: 'WorkspaceMetadata'.
        final metadata = WorkspaceMetadata(
                         ^^^^^^^^^^^^^^^^^
  lib/application/workspace/workspace_manager_with_history.dart:527:21: Error: 'RemoveElementCommand' is imported from both 'package:flutter_structurizr/application/command/command.dart' and 'package:flutter_structurizr/application/command/workspace_commands.dart'.
      final command = RemoveElementCommand(
                      ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:89:9: Error: 'Offset' isn't a type.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: 'Offset' isn't a type.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: 'Offset' isn't a type.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  lib/application/command/workspace_commands.dart:72:38: Error: The method 'removePerson' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removePerson'.
      final newModel = workspace.model.removePerson(person.id);
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:101:38: Error: The method 'removeSoftwareSystem' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeSoftwareSystem'.
      final newModel = workspace.model.removeSoftwareSystem(system.id);
                                       ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:128:13: Error: The method 'CommandException' isn't defined for the class 'AddContainerCommand'.
   - 'AddContainerCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Parent software system not found');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:131:38: Error: The method 'addContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addContainer'.
      final newModel = workspace.model.addContainer(parentSystemId, container);
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:138:38: Error: The method 'removeContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeContainer'.
      final newModel = workspace.model.removeContainer(parentSystemId, container.id);
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:165:38: Error: The method 'addComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addComponent'.
      final newModel = workspace.model.addComponent(
                                       ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:176:38: Error: The method 'removeComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeComponent'.
      final newModel = workspace.model.removeComponent(
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:203:38: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
      final newModel = workspace.model.addRelationship(relationship);
                                       ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:210:38: Error: The method 'removeRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeRelationship'.
      final newModel = workspace.model.removeRelationship(relationship.id);
                                       ^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:239:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:245:64: Error: The getter 'name' isn't defined for the class 'SystemLandscapeView'.
   - 'SystemLandscapeView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add system landscape view: ${view.name}';
                                                                 ^^^^
  lib/application/command/workspace_commands.dart:268:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:274:62: Error: The getter 'name' isn't defined for the class 'SystemContextView'.
   - 'SystemContextView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add system context view: ${view.name}';
                                                               ^^^^
  lib/application/command/workspace_commands.dart:297:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:303:57: Error: The getter 'name' isn't defined for the class 'ContainerView'.
   - 'ContainerView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add container view: ${view.name}';
                                                          ^^^^
  lib/application/command/workspace_commands.dart:326:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:332:57: Error: The getter 'name' isn't defined for the class 'ComponentView'.
   - 'ComponentView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add component view: ${view.name}';
                                                          ^^^^
  lib/application/command/workspace_commands.dart:355:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:361:55: Error: The getter 'name' isn't defined for the class 'DynamicView'.
   - 'DynamicView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add dynamic view: ${view.name}';
                                                        ^^^^
  lib/application/command/workspace_commands.dart:384:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:390:58: Error: The getter 'name' isn't defined for the class 'DeploymentView'.
   - 'DeploymentView' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Add deployment view: ${view.name}';
                                                           ^^^^
  lib/application/command/workspace_commands.dart:397:21: Error: 'Offset' isn't a type.
    final Map<String, Offset> oldPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:398:21: Error: 'Offset' isn't a type.
    final Map<String, Offset> newPositions;
                      ^^^^^^
  lib/application/command/workspace_commands.dart:413:13: Error: The method 'CommandException' isn't defined for the class 'UpdateViewPositionsCommand'.
   - 'UpdateViewPositionsCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('View not found: $viewKey');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:420:33: Error: The method 'updateElementPosition' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateElementPosition'.
        updatedView = updatedView.updateElementPosition(elementId, position);
                                  ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:423:38: Error: The method 'updateView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateView'.
      final newViews = workspace.views.updateView(updatedView);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:432:13: Error: The method 'CommandException' isn't defined for the class 'UpdateViewPositionsCommand'.
   - 'UpdateViewPositionsCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('View not found: $viewKey');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:439:33: Error: The method 'updateElementPosition' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateElementPosition'.
        updatedView = updatedView.updateElementPosition(elementId, position);
                                  ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:442:38: Error: The method 'updateView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateView'.
      final newViews = workspace.views.updateView(updatedView);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:458:43: Error: 'Offset' isn't a type.
        final mergedPositions = Map<String, Offset>.from(newPositions);
                                            ^^^^^^
  lib/application/command/workspace_commands.dart:565:27: Error: The method 'removePerson' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removePerson'.
        newModel = newModel.removePerson(element.id);
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:567:27: Error: The method 'removeSoftwareSystem' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeSoftwareSystem'.
        newModel = newModel.removeSoftwareSystem(element.id);
                            ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:569:27: Error: The method 'removeContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeContainer'.
        newModel = newModel.removeContainer(parentSystem!.id, element.id);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:571:27: Error: The method 'removeComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeComponent'.
        newModel = newModel.removeComponent(
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:577:27: Error: The method 'removeDeploymentNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeDeploymentNode'.
        newModel = newModel.removeDeploymentNode(element.id);
                            ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:579:27: Error: The method 'removeInfrastructureNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeInfrastructureNode'.
        newModel = newModel.removeInfrastructureNode(element.id);
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:581:13: Error: The method 'CommandException' isn't defined for the class 'RemoveElementCommand'.
   - 'RemoveElementCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported element type: ${element.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:598:27: Error: The method 'addContainer' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addContainer'.
        newModel = newModel.addContainer(
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:603:27: Error: The method 'addComponent' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addComponent'.
        newModel = newModel.addComponent(
                            ^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:611:27: Error: The method 'addInfrastructureNode' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addInfrastructureNode'.
        newModel = newModel.addInfrastructureNode(element as InfrastructureNode);
                            ^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:613:13: Error: The method 'CommandException' isn't defined for the class 'RemoveElementCommand'.
   - 'RemoveElementCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported element type: ${element.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:618:27: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
        newModel = newModel.addRelationship(relationship);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:623:27: Error: The method 'addRelationship' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'addRelationship'.
        newModel = newModel.addRelationship(relationship);
                            ^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:648:38: Error: The method 'removeView' isn't defined for the class 'Views'.
   - 'Views' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'removeView'.
      final newViews = workspace.views.removeView(view.key);
                                       ^^^^^^^^^^
  lib/application/command/workspace_commands.dart:677:13: Error: The method 'CommandException' isn't defined for the class 'RemoveViewCommand'.
   - 'RemoveViewCommand' is from 'package:flutter_structurizr/application/command/workspace_commands.dart' ('lib/application/command/workspace_commands.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'CommandException'.
        throw CommandException('Unsupported view type: ${view.runtimeType}');
              ^^^^^^^^^^^^^^^^
  lib/application/command/workspace_commands.dart:685:50: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
    String get description => 'Remove view: ${view.name}';
                                                   ^^^^
  .
00:16 +273 -123: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_style_test.dart: WorkspaceMapper Style Visitor Methods maps relationship styles
00:16 +274 -123: /home/jenner/Code/dart-structurizr/test/application/dsl/workspace_mapper_style_test.dart: WorkspaceMapper Style Visitor Methods processes directives
00:16 +275 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should create and load a workspace
00:16 +276 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should track recent workspaces
00:16 +277 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should handle multiple loaded workspaces
00:16 +278 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should save changes
00:16 +279 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should import and export workspaces
00:16 +280 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should manage backups and restore from them
00:16 +281 -123: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:16 +281 -124: loading /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_performance_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_performance_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_performance_test.dart: test/presentation/rendering/boundary_renderer_performance_test.dart:74:18: Error: 'ModelElement' isn't a type.
        final List<ModelElement> elements = [];
                   ^^^^^^^^^^^^
  test/presentation/rendering/boundary_renderer_performance_test.dart:82:11: Error: No named parameter with the name 'id'.
            id: id,
            ^^
  lib/domain/model/element.dart:119:23: Context: Found this candidate, but the arguments don't match.
    static BasicElement create({
                        ^^^^^^
  test/presentation/rendering/boundary_renderer_performance_test.dart:157:15: Error: The argument type 'bool' can't be assigned to the parameter type 'String?'.
          icon: true,
                ^
  .
00:17 +282 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:17 +283 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:17 +284 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:17 +285 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:17 +286 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should emit workspace events
00:17 +287 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should delete workspaces
00:17 +288 -124: /home/jenner/Code/dart-structurizr/test/application/workspace/workspace_manager_test.dart: WorkspaceManager should clear recent workspaces
00:17 +289 -125: loading /home/jenner/Code/dart-structurizr/test/presentation/rendering/integrated_renderer_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/rendering/integrated_renderer_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/rendering/integrated_renderer_test.dart: test/presentation/rendering/integrated_renderer_test.dart:50:9: Error: No named parameter with the name 'id'.
          id: 'sys1',
          ^^
  lib/domain/model/model.dart:494:11: Context: Found this candidate, but the arguments don't match.
    factory SoftwareSystem.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:56:9: Error: No named parameter with the name 'id'.
          id: 'cont1',
          ^^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:63:9: Error: No named parameter with the name 'id'.
          id: 'cont2',
          ^^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:70:9: Error: No named parameter with the name 'id'.
          id: 'comp1',
          ^^
  lib/domain/model/model.dart:715:11: Context: Found this candidate, but the arguments don't match.
    factory Component.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:77:9: Error: No named parameter with the name 'id'.
          id: 'comp2',
          ^^
  lib/domain/model/model.dart:715:11: Context: Found this candidate, but the arguments don't match.
    factory Component.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:84:9: Error: No named parameter with the name 'id'.
          id: 'user1',
          ^^
  lib/domain/model/model.dart:399:11: Context: Found this candidate, but the arguments don't match.
    factory Person.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:141:37: Error: 'ModelElement' isn't a type.
        final elementsById = <String, ModelElement>{
                                      ^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:174:24: Error: Method not found: 'getRendererForElement'.
          final bounds = getRendererForElement(element).calculateElementBounds(
                         ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:185:9: Error: No named parameter with the name 'elements'.
          elements: elementsById,
          ^^^^^^^^
  lib/presentation/widgets/diagram/diagram_painter.dart:90:3: Context: Found this candidate, but the arguments don't match.
    DiagramPainter({
    ^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:174:24: Error: Local variable 'getRendererForElement' can't be referenced before it is declared.
          final bounds = getRendererForElement(element).calculateElementBounds(
                         ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:197:18: Context: This is the declaration of the variable 'getRendererForElement'.
      BaseRenderer getRendererForElement(ModelElement element) {
                   ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:197:40: Error: 'ModelElement' isn't a type.
      BaseRenderer getRendererForElement(ModelElement element) {
                                         ^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:222:26: Error: Method not found: 'getRendererForElement'.
          final renderer = getRendererForElement(element);
                           ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:242:26: Error: Method not found: 'getRendererForElement'.
          final renderer = getRendererForElement(element);
                           ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:263:50: Error: Undefined name 'relationshipsById'.
          final relationship = view.id == 'rel1' ? relationshipsById['rel1']! :
                                                   ^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:264:49: Error: Undefined name 'relationshipsById'.
                              view.id == 'rel2' ? relationshipsById['rel2']! :
                                                  ^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:265:29: Error: Undefined name 'relationshipsById'.
                              relationshipsById['rel3']!;
                              ^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:291:24: Error: Method not found: 'getRendererForElement'.
        final renderer = getRendererForElement(element);
                         ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:350:24: Error: Undefined name 'relationshipsById'.
          relationships: relationshipsById,
                         ^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:342:9: Error: No named parameter with the name 'elements'.
          elements: {
          ^^^^^^^^
  lib/presentation/widgets/diagram/diagram_painter.dart:90:3: Context: Found this candidate, but the arguments don't match.
    DiagramPainter({
    ^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:382:9: Error: No named parameter with the name 'id'.
          id: 'enterprise',
          ^^
  lib/domain/model/element.dart:119:23: Context: Found this candidate, but the arguments don't match.
    static BasicElement create({
                        ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:389:9: Error: No named parameter with the name 'id'.
          id: 'sys1',
          ^^
  lib/domain/model/model.dart:494:11: Context: Found this candidate, but the arguments don't match.
    factory SoftwareSystem.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:395:9: Error: No named parameter with the name 'id'.
          id: 'sys2',
          ^^
  lib/domain/model/model.dart:494:11: Context: Found this candidate, but the arguments don't match.
    factory SoftwareSystem.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:401:9: Error: No named parameter with the name 'id'.
          id: 'cont1',
          ^^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:408:9: Error: No named parameter with the name 'id'.
          id: 'cont2',
          ^^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:415:9: Error: No named parameter with the name 'id'.
          id: 'user',
          ^^
  lib/domain/model/model.dart:399:11: Context: Found this candidate, but the arguments don't match.
    factory Person.create({
            ^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:459:37: Error: 'ModelElement' isn't a type.
        final elementsById = <String, ModelElement>{
                                      ^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:495:24: Error: Method not found: 'getRendererForElement'.
          final bounds = getRendererForElement(element).calculateElementBounds(
                         ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:173:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(element);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:221:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(element);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:241:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(element);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:267:30: Error: The method 'findStyleForRelationship' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForRelationship'.
          final style = styles.findStyleForRelationship(relationship);
                               ^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:290:28: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
        final style = styles.findStyleForElement(element);
                             ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:494:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(element);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:512:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(container);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:532:30: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          final style = styles.findStyleForElement(system);
                               ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:553:28: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
        final style = styles.findStyleForElement(enterprise);
                             ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:577:23: Error: The method 'findStyleForElement' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForElement'.
          style: styles.findStyleForElement(user),
                        ^^^^^^^^^^^^^^^^^^^
  test/presentation/rendering/integrated_renderer_test.dart:590:30: Error: The method 'findStyleForRelationship' isn't defined for the class 'Styles'.
   - 'Styles' is from 'package:flutter_structurizr/domain/style/styles.dart' ('lib/domain/style/styles.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findStyleForRelationship'.
          final style = styles.findStyleForRelationship(relationship);
                               ^^^^^^^^^^^^^^^^^^^^^^^^
  .
00:17 +289 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath creates direct path between elements
00:17 +290 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath creates curved path between elements
00:17 +291 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath creates orthogonal path between elements
00:17 +292 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship draws solid line correctly
00:17 +293 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship draws dashed line correctly
00:17 +294 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship draws dotted line correctly
00:17 +295 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship handles selection state
00:17 +296 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship handles hover state
00:17 +297 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer hitTestRelationship returns true when point is close to the line
00:17 +298 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer hitTestRelationship returns false when point is far from the line
00:17 +299 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer renderRelationship draws text for relationship description
00:17 +300 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath creates path for self-relationship
00:17 +301 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath handles bidirectional relationships
00:17 +302 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath with custom routing based on tags
00:17 +303 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: RelationshipRenderer calculateRelationshipPath with obstacle avoidance
00:17 +304 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: ArrowStyle drawArrowhead draws a path for the arrowhead
00:17 +305 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: ArrowStyle creates different arrowhead types
00:17 +306 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: ArrowStyle draws arrowheads at correct angles
00:17 +307 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: ArrowStyle respects relationship style for arrowhead size
00:17 +308 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Relationship Rendering renderRelationship with technology information shows technology label
00:17 +309 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Relationship Rendering renderRelationship handles different line styles correctly
00:17 +310 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Orthogonal Routing smooth corner orthogonal paths create rounded corners
00:17 +311 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Orthogonal Routing orthogonal routing handles complex obstacle layouts
00:17 +312 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Orthogonal Routing orthogonal routing finds optimal path with minimal segments
00:17 +313 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Curved Routing curved routing creates smooth Bezier paths
00:17 +314 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Advanced Curved Routing curved routing handles bidirectional relationships with proper offsets
00:17 +315 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Special Relationship Types self-relationship creates loopback path
00:17 +316 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Special Relationship Types bidirectional relationship detection identifies opposite relationships
00:17 +317 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/relationship_renderer_test.dart: Special Relationship Types collision avoidance with multiple relationships between same elements
00:17 +318 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateElementBounds returns correct bounds with explicit dimensions
00:17 +319 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateElementBounds returns default bounds when dimensions not specified
00:17 +320 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements returns correct bounds
00:17 +321 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements handles empty list
00:17 +322 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements uses custom padding from style
00:17 +323 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer calculateBoundaryFromContainedElements can exclude nested boundaries
00:17 +324 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns true when point is inside boundary
00:17 +325 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns false when point is outside boundary
00:17 +326 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns true when point is on label
00:17 +327 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer hitTestElement returns true when point is on collapse control for collapsible renderer
00:17 +328 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws enterprise boundary correctly
00:17 +329 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws software system boundary correctly
00:17 +330 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws folder shape for software system correctly
00:17 +331 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws hexagon shape correctly
00:17 +332 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws container boundary correctly
00:17 +333 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement renders collapse/expand indicator when enabled
00:17 +334 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement does not render collapse/expand indicator when disabled
00:17 +335 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws dashed boundary correctly
00:17 +336 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws dotted boundary correctly
00:17 +337 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement handles selection state
00:17 +338 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement handles hover state
00:17 +339 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement handles both selected and hovered state
00:17 +340 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement draws boundary label
00:17 +341 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderElement with description shows description text
00:17 +342 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer renderBoundary with nested boundaries applies correct z-ordering
00:17 +343 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests renderBoundary uses correct padding and sizing
00:17 +344 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests renderBoundary handles nested layers with different styling
00:17 +345 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests nested boundaries with multiple levels render correctly
00:17 +346 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests hitTestCollapseControl detects click on collapse control
00:17 +347 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests boundary renderer handles collapsed state properly
00:17 +348 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Nesting and Hierarchy Tests renderBoundary with nesting levels applies different visual styling
00:17 +349 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Advanced Styling Tests boundary applies custom padding from BoundaryStyle
00:17 +350 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Advanced Styling Tests boundary renders with different shapes correctly
00:17 +351 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Advanced Styling Tests boundary renders with different styles
00:17 +352 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Advanced Styling Tests boundary applies different border styles
00:17 +353 -125: /home/jenner/Code/dart-structurizr/test/presentation/rendering/boundary_renderer_test.dart: BoundaryRenderer - Advanced Styling Tests boundary label handles text wrapping for long names
00:18 +354 -126: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/history/history_toolbar_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/history/history_toolbar_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/history/history_toolbar_test.dart: test/presentation/widgets/history/history_toolbar_test.dart:426:8: Error: 'execute' is already declared in this scope.
    void execute() => this.execute();
         ^^^^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:415:20: Context: Previous declaration of 'execute'.
    final Function() execute;
                     ^^^^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:429:8: Error: 'undo' is already declared in this scope.
    void undo() => this.undo();
         ^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:416:20: Context: Previous declaration of 'undo'.
    final Function() undo;
                     ^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:432:14: Error: 'description' is already declared in this scope.
    String get description => this.description;
               ^^^^^^^^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:417:16: Context: Previous declaration of 'description'.
    final String description;
                 ^^^^^^^^^^^
  lib/application/command/command.dart:89:9: Error: Type 'Offset' not found.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: Type 'Offset' not found.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: Type 'Offset' not found.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: Type 'Offset' not found.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:415:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() execute;
                     ^^^^^^^
  lib/application/command/command.dart:10:8: Context: This is the inherited member.
    void execute();
         ^^^^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:416:20: Error: Can't declare a member that conflicts with an inherited one.
    final Function() undo;
                     ^^^^
  lib/application/command/command.dart:13:8: Context: This is the inherited member.
    void undo();
         ^^^^
  test/presentation/widgets/history/history_toolbar_test.dart:414:7: Error: The non-abstract class 'TestCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class TestCommand implements Command {
        ^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:133:7: Error: The non-abstract class 'AddElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:159:7: Error: The non-abstract class 'RemoveElementCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveElementCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:185:7: Error: The non-abstract class 'AddRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class AddRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:215:7: Error: The non-abstract class 'RemoveRelationshipCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class RemoveRelationshipCommand implements Command {
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:248:7: Error: The non-abstract class 'CompositeCommand' is missing implementations for these members:
   - Command.canMerge
   - Command.mergeWith
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class CompositeCommand implements Command {
        ^^^^^^^^^^^^^^^^
  lib/application/command/command.dart:26:12: Context: 'Command.canMerge' is defined here.
    bool get canMerge => false;
             ^^^^^^^^
  lib/application/command/command.dart:32:12: Context: 'Command.mergeWith' is defined here.
    Command? mergeWith(Command other) => null;
             ^^^^^^^^^
  lib/application/command/command.dart:89:9: Error: 'Offset' isn't a type.
    final Offset oldPosition;
          ^^^^^^
  lib/application/command/command.dart:90:9: Error: 'Offset' isn't a type.
    final Offset newPosition;
          ^^^^^^
  lib/application/command/command.dart:91:26: Error: 'Offset' isn't a type.
    final Function(String, Offset) updatePosition;
                           ^^^^^^
  lib/application/command/history_manager.dart:237:38: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                       ^^^^^^
  lib/application/command/history_manager.dart:237:58: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                           ^^^^^^
  lib/application/command/history_manager.dart:237:95: Error: 'Offset' isn't a type.
    void moveElement(String elementId, Offset oldPosition, Offset newPosition, Function(String, Offset) updateFunction) {
                                                                                                ^^^^^^
  lib/presentation/widgets/history/history_toolbar.dart:161:24: Error: The getter 'isControlPressed' isn't defined for the class 'KeyDownEvent'.
   - 'KeyDownEvent' is from 'package:flutter/src/services/hardware_keyboard.dart' ('../../flutter/flutter/packages/flutter/lib/src/services/hardware_keyboard.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'isControlPressed'.
                keyEvent.isControlPressed) {
                         ^^^^^^^^^^^^^^^^
  lib/presentation/widgets/history/history_toolbar.dart:169:29: Error: The getter 'isControlPressed' isn't defined for the class 'KeyDownEvent'.
   - 'KeyDownEvent' is from 'package:flutter/src/services/hardware_keyboard.dart' ('../../flutter/flutter/packages/flutter/lib/src/services/hardware_keyboard.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'isControlPressed'.
                     keyEvent.isControlPressed) {
                              ^^^^^^^^^^^^^^^^
  lib/presentation/widgets/history/history_toolbar.dart:177:29: Error: The getter 'isControlPressed' isn't defined for the class 'KeyDownEvent'.
   - 'KeyDownEvent' is from 'package:flutter/src/services/hardware_keyboard.dart' ('../../flutter/flutter/packages/flutter/lib/src/services/hardware_keyboard.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'isControlPressed'.
                     keyEvent.isControlPressed && 
                              ^^^^^^^^^^^^^^^^
  lib/presentation/widgets/history/history_toolbar.dart:178:29: Error: The getter 'isShiftPressed' isn't defined for the class 'KeyDownEvent'.
   - 'KeyDownEvent' is from 'package:flutter/src/services/hardware_keyboard.dart' ('../../flutter/flutter/packages/flutter/lib/src/services/hardware_keyboard.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'isShiftPressed'.
                     keyEvent.isShiftPressed) {
                              ^^^^^^^^^^^^^^
  .
00:18 +354 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer renderElement draws a person figure and text
00:18 +355 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer calculateElementBounds returns correct bounds with explicit dimensions
00:18 +356 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer calculateElementBounds calculates size based on text when dimensions not specified
00:18 +357 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer hitTestElement returns true when point is inside person
00:18 +358 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer hitTestElement returns false when point is outside person
00:18 +359 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: PersonRenderer renderElement handles selection state
00:18 +360 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: ComponentRenderer renderElement draws a component with correct shape
00:18 +361 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: ComponentRenderer hitTestElement returns true when point is inside component
00:18 +362 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: ContainerRenderer renderElement draws a container with correct style
00:18 +363 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: ContainerRenderer calculateElementBounds adjusts for technology text when present
00:18 +364 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: BoxRenderer renderElement draws different shapes correctly
00:18 +365 -126: /home/jenner/Code/dart-structurizr/test/presentation/rendering/element_renderer_test.dart: BoxRenderer renderElement renders text appropriately
00:18 +366 -127: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/ui_integration_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/ui_integration_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/ui_integration_test.dart: test/presentation/widgets/ui_integration_test.dart:14:20: Error: Undefined name 'Person'.
      final person = Person.create(
                     ^^^^^^
  test/presentation/widgets/ui_integration_test.dart:20:20: Error: Undefined name 'SoftwareSystem'.
      final system = SoftwareSystem.create(
                     ^^^^^^^^^^^^^^
  test/presentation/widgets/ui_integration_test.dart:27:17: Error: Undefined name 'Container'.
      final api = Container.create(
                  ^^^^^^^^^
  test/presentation/widgets/ui_integration_test.dart:34:22: Error: Undefined name 'Container'.
      final database = Container.create(
                       ^^^^^^^^^
  test/presentation/widgets/ui_integration_test.dart:51:14: Error: Method not found: 'Model'.
        model: Model(
               ^^^^^
  test/presentation/widgets/ui_integration_test.dart:69:26: Error: Method not found: 'Model'.
      final updatedModel = Model(
                           ^^^^^
  .
00:19 +366 -128: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/filter_panel_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/filter_panel_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/filter_panel_test.dart: test/presentation/widgets/filter_panel_test.dart:31:9: Error: The argument type 'String' can't be assigned to the parameter type 'int'.
      id: 'test-workspace',
          ^
  .
00:19 +366 -129: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/modified_style_editor_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/modified_style_editor_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/modified_style_editor_test.dart: test/presentation/widgets/modified_style_editor_test.dart:8:30: Error: Type 'Element' not found.
  class MockElement implements Element {
                               ^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:25:14: Error: Type 'Relationship' not found.
    final List<Relationship> relationships;
               ^^^^^^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:44:3: Error: Type 'Element' not found.
    Element addProperty(String key, String value) {
    ^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:50:3: Error: Type 'Element' not found.
    Element addRelationship({
    ^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:62:3: Error: Type 'Element' not found.
    Element addTag(String tag) {
    ^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:68:3: Error: Type 'Element' not found.
    Element addTags(List<String> newTags) {
    ^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:74:3: Error: Type 'Relationship' not found.
    Relationship? getRelationshipById(String relationshipId) {
    ^^^^^^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:80:35: Error: Type 'Relationship' not found.
  class MockRelationship implements Relationship {
                                    ^^^^^^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:25:14: Error: 'Relationship' isn't a type.
    final List<Relationship> relationships;
               ^^^^^^^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:127:13: Error: 'Border' is imported from both 'package:flutter/src/painting/box_border.dart' and 'package:flutter_structurizr/domain/style/styles.dart'.
      border: Border.solid,
              ^^^^^^
  test/presentation/widgets/modified_style_editor_test.dart:147:30: Error: The argument type 'MockElement' can't be assigned to the parameter type 'Element?'.
   - 'MockElement' is from 'test/presentation/widgets/modified_style_editor_test.dart'.
   - 'Element' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
              selectedElement: testElement,
                               ^
  test/presentation/widgets/modified_style_editor_test.dart:204:35: Error: The argument type 'MockRelationship' can't be assigned to the parameter type 'Relationship?'.
   - 'MockRelationship' is from 'test/presentation/widgets/modified_style_editor_test.dart'.
   - 'Relationship' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
              selectedRelationship: testRelationship,
                                    ^
  test/presentation/widgets/modified_style_editor_test.dart:233:30: Error: The argument type 'MockElement' can't be assigned to the parameter type 'Element?'.
   - 'MockElement' is from 'test/presentation/widgets/modified_style_editor_test.dart'.
   - 'Element' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
              selectedElement: testElement,
                               ^
  test/presentation/widgets/modified_style_editor_test.dart:263:30: Error: The argument type 'MockElement' can't be assigned to the parameter type 'Element?'.
   - 'MockElement' is from 'test/presentation/widgets/modified_style_editor_test.dart'.
   - 'Element' is from 'package:flutter_structurizr/domain/model/element.dart' ('lib/domain/model/element.dart').
              selectedElement: noStyleElement,
                               ^
  .
00:20 +366 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_test.dart: ElementExplorer renders without crashing
00:21 +367 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls renders all controls correctly
00:21 +368 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram_controls_test.dart: DiagramControls renders all controls when all flags are true
00:21 +369 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram_controls_test.dart: DiagramControls renders all controls when all flags are true
00:21 +370 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
00:21 +371 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
00:21 +372 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
00:21 +373 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
00:21 +374 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
00:21 +375 -129: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: <1>
  Actual: <0>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart:64:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart line 64
The test description was:
  handles step navigation correctly
════════════════════════════════════════════════════════════════════════════════════════════════════
00:21 +375 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_test.dart: ElementExplorer calls onElementSelected when an element is clicked
00:21 +375 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles step navigation correctly [E]
  Test failed. See exception logs above.
  The test description was: handles step navigation correctly
  
00:21 +376 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_test.dart: ElementExplorer calls onElementSelected when an element is clicked
00:21 +377 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles play button correctly
00:21 +378 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles play button correctly
00:21 +379 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_test.dart: ElementExplorer supports drag and drop when enabled
00:21 +380 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls updates step indicator when step changes
00:21 +381 -130: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls updates step indicator when step changes
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: no matching candidates
  Actual: _TextWidgetFinder:<Found 1 widget with text "Step 1/3": [
            Text("Step 1/3", inherit: true, color: Color(alpha: 1.0000, red: 0.1137, green: 0.1059,
blue: 0.1255, colorSpace: ColorSpace.sRGB), weight: 700, textAlign: center, dependencies:
[DefaultSelectionStyle, DefaultTextStyle, MediaQuery]),
          ]>
   Which: means one was found but none were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart:155:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart line 155
The test description was:
  updates step indicator when step changes
════════════════════════════════════════════════════════════════════════════════════════════════════
00:21 +381 -131: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls updates step indicator when step changes [E]
  Test failed. See exception logs above.
  The test description was: updates step indicator when step changes
  
00:21 +381 -131: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls handles empty animation steps
00:21 +382 -131: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls shows speed and mode controls when configured
00:21 +383 -131: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_player_test.dart: AnimationControls hides speed and mode controls when configured
00:22 +384 -132: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/batch_export_dialog_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/export/batch_export_dialog_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/export/batch_export_dialog_test.dart: test/presentation/widgets/export/batch_export_dialog_test.dart:21:11: Error: Method not found: 'SystemContextView'.
            SystemContextView(
            ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/export/batch_export_dialog_test.dart:29:11: Error: Method not found: 'ContainerView'.
            ContainerView(
            ^^^^^^^^^^^^^
  test/presentation/widgets/export/batch_export_dialog_test.dart:37:11: Error: Method not found: 'ComponentView'.
            ComponentView(
            ^^^^^^^^^^^^^
  test/presentation/widgets/export/batch_export_dialog_test.dart:12:32: Error: Required named parameter 'id' must be provided.
      final workspace = Workspace(
                                 ^
  lib/domain/model/workspace.dart:41:17: Context: Found this candidate, but the arguments don't match.
    const factory Workspace({
                  ^
  .
00:22 +384 -132: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget displays SVG metadata correctly
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Elements: 11": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart:47:5)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart line 47
The test description was:
  SvgPreviewWidget displays SVG metadata correctly
════════════════════════════════════════════════════════════════════════════════════════════════════
00:22 +384 -133: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget displays SVG metadata correctly [E]
  Test failed. See exception logs above.
  The test description was: SvgPreviewWidget displays SVG metadata correctly
  
00:22 +384 -133: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget handles SVG without width/height attributes
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Elements: 3": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart:70:5)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart line 70
The test description was:
  SvgPreviewWidget handles SVG without width/height attributes
════════════════════════════════════════════════════════════════════════════════════════════════════
00:22 +384 -134: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget handles SVG without width/height attributes [E]
  Test failed. See exception logs above.
  The test description was: SvgPreviewWidget handles SVG without width/height attributes
  
00:22 +384 -134: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget displays icon and basic styling
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 2 widgets with type "Center": [
            Center(alignment: Alignment.center, dependencies: [Directionality], renderObject:
RenderPositionedBox#ee17f relayoutBoundary=up2),
            Center(alignment: Alignment.center, dependencies: [Directionality], renderObject:
RenderPositionedBox#a7dab),
          ]>
   Which: is too many

When the exception was thrown, this was the stack:
#4      main.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart:95:5)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart line 95
The test description was:
  SvgPreviewWidget displays icon and basic styling
════════════════════════════════════════════════════════════════════════════════════════════════════
00:22 +384 -135: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/svg_preview_widget_test.dart: SvgPreviewWidget displays icon and basic styling [E]
  Test failed. See exception logs above.
  The test description was: SvgPreviewWidget displays icon and basic styling
  
00:23 +384 -136: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/export_dialog_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/export/export_dialog_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/export/export_dialog_test.dart: test/presentation/widgets/export/export_dialog_test.dart:12:1: Error: 'Workspace' is imported from both 'test/presentation/widgets/export/mock_exporters.dart' and 'package:flutter_structurizr/domain/model/workspace.dart'.
  import 'mock_exporters.dart';
  ^^^^^^^^^
  test/presentation/widgets/export/export_dialog_test.dart:12:1: Error: 'ModelView' is imported from both 'test/presentation/widgets/export/mock_exporters.dart' and 'package:flutter_structurizr/domain/view/view_alias.dart'.
  import 'mock_exporters.dart';
  ^^^^^^^^^
  test/presentation/widgets/export/mock_exporters.dart:38:24: Error: The parameter 'workspace' of the method 'MockExportManager.exportDiagram' has type 'Workspace/*1*/', which does not match the corresponding type, 'Workspace/*2*/', in the overridden method, 'ExportManager.exportDiagram'.
   - 'Workspace/*1*/' is from 'test/presentation/widgets/export/mock_exporters.dart'.
   - 'Workspace/*2*/' is from 'package:flutter_structurizr/domain/model/workspace.dart' ('lib/domain/model/workspace.dart').
  Change to a supertype of 'Workspace/*2*/', or, for a covariant parameter, a subtype.
      required Workspace workspace,
                         ^
  lib/infrastructure/export/export_manager.dart:119:19: Context: This is the overridden method ('exportDiagram').
    Future<dynamic> exportDiagram({
                    ^
  test/presentation/widgets/export/mock_exporters.dart:119:45: Error: The parameter 'diagramRef' of the method 'MockPngExporter.export' has type 'DiagramReference/*1*/', which does not match the corresponding type, 'DiagramReference/*2*/', in the overridden method, 'PngExporter.export'.
   - 'DiagramReference/*1*/' is from 'test/presentation/widgets/export/mock_exporters.dart'.
   - 'DiagramReference/*2*/' is from 'package:flutter_structurizr/infrastructure/export/diagram_exporter.dart' ('lib/infrastructure/export/diagram_exporter.dart').
  Change to a supertype of 'DiagramReference/*2*/', or, for a covariant parameter, a subtype.
    Future<Uint8List> export(DiagramReference diagramRef) async {
                                              ^
  lib/infrastructure/export/png_exporter.dart:40:21: Context: This is the overridden method ('export').
    Future<Uint8List> export(diagram.DiagramReference diagram) async {
                      ^
  test/presentation/widgets/export/mock_exporters.dart:156:42: Error: The parameter 'diagramRef' of the method 'MockSvgExporter.export' has type 'DiagramReference/*1*/', which does not match the corresponding type, 'DiagramReference/*2*/', in the overridden method, 'SvgExporter.export'.
   - 'DiagramReference/*1*/' is from 'test/presentation/widgets/export/mock_exporters.dart'.
   - 'DiagramReference/*2*/' is from 'package:flutter_structurizr/infrastructure/export/diagram_exporter.dart' ('lib/infrastructure/export/diagram_exporter.dart').
  Change to a supertype of 'DiagramReference/*2*/', or, for a covariant parameter, a subtype.
    Future<String> export(DiagramReference diagramRef) async {
                                           ^
  lib/infrastructure/export/svg_exporter.dart:43:18: Context: This is the overridden method ('export').
    Future<String> export(DiagramReference diagram) async {
                   ^
  test/presentation/widgets/export/mock_exporters.dart:111:11: Error: The parameter 'renderParameters' can't have a value of 'null' because of its type 'DiagramRenderParameters', but the implicit default value is 'null'.
   - 'DiagramRenderParameters' is from 'package:flutter_structurizr/infrastructure/export/rendering_pipeline.dart' ('lib/infrastructure/export/rendering_pipeline.dart').
  Try adding either an explicit non-'null' default value or the 'required' modifier.
      super.renderParameters,
            ^^^^^^^^^^^^^^^^
  test/presentation/widgets/export/export_dialog_test.dart:52:16: Error: 'ModelView' is imported from both 'test/presentation/widgets/export/mock_exporters.dart' and 'package:flutter_structurizr/domain/view/view_alias.dart'.
      testView = ModelView(
                 ^^^^^^^^^
  test/presentation/widgets/export/export_dialog_test.dart:63:21: Error: 'Workspace' is imported from both 'test/presentation/widgets/export/mock_exporters.dart' and 'package:flutter_structurizr/domain/model/workspace.dart'.
      testWorkspace = Workspace(
                      ^^^^^^^^^
  test/presentation/widgets/export/export_dialog_test.dart:240:37: Error: The method 'where' isn't defined for the class 'Finder'.
   - 'Finder' is from 'package:flutter_test/src/finders.dart' ('../../flutter/flutter/packages/flutter_test/lib/src/finders.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'where'.
        find.byType(CheckboxListTile).where(
                                      ^^^^^
  test/presentation/widgets/export/export_dialog_test.dart:253:37: Error: The method 'where' isn't defined for the class 'Finder'.
   - 'Finder' is from 'package:flutter_test/src/finders.dart' ('../../flutter/flutter/packages/flutter_test/lib/src/finders.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'where'.
        find.byType(CheckboxListTile).where(
                                      ^^^^^
  .
00:23 +384 -137: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart: test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:16:19: Error: Method not found: 'Model'.
      final model = Model();
                    ^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:19:20: Error: Method not found: 'Person'.
      final person = Person(
                     ^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:27:20: Error: Method not found: 'SoftwareSystem'.
      final system = SoftwareSystem(
                     ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:44:30: Error: Required named parameter 'id' must be provided.
      testWorkspace = Workspace(
                               ^
  lib/domain/model/workspace.dart:41:17: Context: Found this candidate, but the arguments don't match.
    const factory Workspace({
                  ^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:94:15: Error: No named parameter with the name 'isEditable'.
                isEditable: true,
                ^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:159:15: Error: No named parameter with the name 'isEditable'.
                isEditable: true,
                ^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:221:15: Error: No named parameter with the name 'isEditable'.
                isEditable: true,
                ^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:289:15: Error: No named parameter with the name 'isEditable'.
                isEditable: true,
                ^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/structurizr_diagram_lasso_test.dart:375:15: Error: No named parameter with the name 'isEditable'.
                isEditable: true,
                ^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  .
00:24 +384 -137: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/transparent_background_test.dart: Transparent background image exists and is accessible
00:24 +385 -137: /home/jenner/Code/dart-structurizr/test/presentation/widgets/export/transparent_background_test.dart: Transparent background image can be loaded by DecorationImage
00:24 +386 -138: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_improved_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_improved_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_improved_test.dart: test/presentation/widgets/diagram/diagram_painter_improved_test.dart:8:1: Error: 'View' is imported from both 'package:flutter/src/widgets/view.dart' and 'package:flutter_structurizr/domain/view/view.dart'.
  import 'package:flutter_structurizr/domain/view/view.dart';
  ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:28:13: Error: Undefined name 'Person'.
              Person.create(
              ^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:34:13: Error: Undefined name 'SoftwareSystem'.
              SoftwareSystem.create(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:38:13: Error: Undefined name 'SoftwareSystem'.
              SoftwareSystem.create(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:26:16: Error: Method not found: 'Model'.
          model: Model(
                 ^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:143:30: Error: Undefined name 'HitTestResultType'.
            if (result.type == HitTestResultType.relationship) {
                               ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:215:32: Error: Undefined name 'HitTestResultType'.
              if (result.type == HitTestResultType.relationship) {
                                 ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:247:38: Error: No named parameter with the name 'routing'.
            RelationshipView(id: rel1, routing: Routing.curved),
                                       ^^^^^^^
  lib/domain/view/view.dart:648:17: Context: Found this candidate, but the arguments don't match.
    const factory RelationshipView({
                  ^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:248:38: Error: No named parameter with the name 'routing'.
            RelationshipView(id: rel2, routing: Routing.curved),
                                       ^^^^^^^
  lib/domain/view/view.dart:648:17: Context: Found this candidate, but the arguments don't match.
    const factory RelationshipView({
                  ^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:304:32: Error: Undefined name 'HitTestResultType'.
              if (result.type == HitTestResultType.relationship) {
                                 ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:336:38: Error: No named parameter with the name 'routing'.
            RelationshipView(id: rel1, routing: Routing.orthogonal),
                                       ^^^^^^^
  lib/domain/view/view.dart:648:17: Context: Found this candidate, but the arguments don't match.
    const factory RelationshipView({
                  ^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:337:38: Error: No named parameter with the name 'routing'.
            RelationshipView(id: rel2, routing: Routing.orthogonal),
                                       ^^^^^^^
  lib/domain/view/view.dart:648:17: Context: Found this candidate, but the arguments don't match.
    const factory RelationshipView({
                  ^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:394:30: Error: Undefined name 'HitTestResultType'.
            if (result.type == HitTestResultType.relationship) {
                               ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:432:34: Error: Undefined name 'HitTestResultType'.
        expect(result.type, equals(HitTestResultType.element));
                                   ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:74:32: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
        final rel1 = updatedUser.getRelationshipsWithDestination(system.id).first.id;
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:75:34: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'SoftwareSystem'.
   - 'SoftwareSystem' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
        final rel2 = updatedSystem.getRelationshipsWithDestination(externalSystem.id).first.id;
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:143:22: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
            if (result.type == HitTestResultType.relationship) {
                       ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:145:27: Error: The getter 'relationship' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'relationship'.
              expect(result.relationship, isNotNull);
                            ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:149:18: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
                  .getRelationshipsWithDestination(workspace.model.softwareSystems.first.id).first.id;
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:151:27: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
              expect(result.id, equals(expectedRelId));
                            ^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:215:24: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
              if (result.type == HitTestResultType.relationship) {
                         ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:217:29: Error: The getter 'relationship' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'relationship'.
                expect(result.relationship, isNotNull);
                              ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:221:20: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
                    .getRelationshipsWithDestination(workspace.model.softwareSystems.first.id).first.id;
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:223:29: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
                expect(result.id, equals(expectedRelId));
                              ^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:240:12: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
            .getRelationshipsWithDestination(workspace.model.softwareSystems.first.id).first.id;
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:242:12: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'SoftwareSystem'.
   - 'SoftwareSystem' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
            .getRelationshipsWithDestination(workspace.model.softwareSystems.last.id).first.id;
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:304:24: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
              if (result.type == HitTestResultType.relationship) {
                         ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:306:29: Error: The getter 'relationship' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'relationship'.
                expect(result.relationship, isNotNull);
                              ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:311:50: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
                expect(validRelIds.contains(result.id), isTrue);
                                                   ^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:329:12: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
            .getRelationshipsWithDestination(workspace.model.softwareSystems.first.id).first.id;
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:331:12: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'SoftwareSystem'.
   - 'SoftwareSystem' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
            .getRelationshipsWithDestination(workspace.model.softwareSystems.last.id).first.id;
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:394:22: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
            if (result.type == HitTestResultType.relationship) {
                       ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:396:27: Error: The getter 'relationship' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'relationship'.
              expect(result.relationship, isNotNull);
                            ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:397:27: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
              expect(result.id, equals(rel1));
                            ^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:432:21: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
        expect(result.type, equals(HitTestResultType.element));
                      ^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:433:21: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
        expect(result.id, equals(workspace.model.people.first.id));
                      ^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:434:21: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(result.element, isNotNull);
                      ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:435:21: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(result.element?.name, equals('User'));
                      ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:450:30: Error: The method 'multiHitTest' isn't defined for the class 'DiagramPainter'.
   - 'DiagramPainter' is from 'package:flutter_structurizr/presentation/widgets/diagram/diagram_painter.dart' ('lib/presentation/widgets/diagram/diagram_painter.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'multiHitTest'.
        final result = painter.multiHitTest(selectionRect);
                               ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:483:30: Error: The method 'multiHitTest' isn't defined for the class 'DiagramPainter'.
   - 'DiagramPainter' is from 'package:flutter_structurizr/presentation/widgets/diagram/diagram_painter.dart' ('lib/presentation/widgets/diagram/diagram_painter.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'multiHitTest'.
        final result = painter.multiHitTest(selectionRect);
                               ^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_improved_test.dart:487:12: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
            .getRelationshipsWithDestination(workspace.model.softwareSystems.first.id).first.id;
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  .
00:24 +386 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection initial state should be inactive and not complete
00:24 +387 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection start should set isActive to true and isComplete to false
00:24 +388 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection update should have no effect if not active
00:24 +389 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection update should work if active
00:24 +390 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection complete should set isActive to false and isComplete to true
00:24 +391 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection cancel should reset everything
00:24 +392 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection containsPoint should return false if not complete
00:24 +393 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection should detect point inside triangle
00:24 +394 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection should detect rectangle intersections
00:24 +395 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection should detect relationship intersections
00:24 +396 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection selected elements should be stored and retrieved
00:24 +397 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection selected relationships should be stored and retrieved
00:24 +398 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection path-based hit testing is accurate for complex shapes
00:24 +399 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection selecting multiple elements with keyboard modifiers works correctly
00:24 +400 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection performance with large number of elements
00:24 +401 -138: /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/lasso_selection_test.dart: LassoSelection integration with diagram painter
00:25 +402 -139: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/diagram/diagram_painter_test.dart: test/presentation/widgets/diagram/diagram_painter_test.dart:381:7: Error: The non-abstract class '_MockLayoutStrategy' is missing implementations for these members:
   - LayoutStrategy.description
   - LayoutStrategy.name
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class _MockLayoutStrategy implements LayoutStrategy {
        ^^^^^^^^^^^^^^^^^^^
  lib/presentation/layout/layout_strategy.dart:37:14: Context: 'LayoutStrategy.description' is defined here.
    String get description;
               ^^^^^^^^^^^
  lib/presentation/layout/layout_strategy.dart:34:14: Context: 'LayoutStrategy.name' is defined here.
    String get name;
               ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:8:1: Error: 'View' is imported from both 'package:flutter/src/widgets/view.dart' and 'package:flutter_structurizr/domain/view/view.dart'.
  import 'package:flutter_structurizr/domain/view/view.dart';
  ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:28:13: Error: Method not found: 'Person'.
              Person(
              ^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:35:13: Error: Method not found: 'SoftwareSystem'.
              SoftwareSystem(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:40:13: Error: Method not found: 'SoftwareSystem'.
              SoftwareSystem(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:26:16: Error: Method not found: 'WorkspaceModel'.
          model: WorkspaceModel(
                 ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:62:26: Error: Method not found: 'ViewConfiguration'.
            configuration: ViewConfiguration(
                           ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:61:16: Error: Method not found: 'WorkspaceViews'.
          views: WorkspaceViews(
                 ^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:170:28: Error: Undefined name 'HitTestResultType'.
        expect(userHit.type, HitTestResultType.element);
                             ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:177:30: Error: Undefined name 'HitTestResultType'.
        expect(systemHit.type, HitTestResultType.element);
                               ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:184:34: Error: Undefined name 'HitTestResultType'.
        expect(backgroundHit.type, HitTestResultType.none);
                                   ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:209:28: Error: Undefined name 'HitTestResultType'.
          if (result.type == HitTestResultType.relationship) {
                             ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:23:13: Error: The argument type 'String' can't be assigned to the parameter type 'int'.
          id: 'test',
              ^
  test/presentation/widgets/diagram/diagram_painter_test.dart:170:22: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
        expect(userHit.type, HitTestResultType.element);
                       ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:171:22: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
        expect(userHit.id, 'user');
                       ^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:172:22: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(userHit.element, isNotNull);
                       ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:173:22: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(userHit.element?.name, 'User');
                       ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:177:24: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
        expect(systemHit.type, HitTestResultType.element);
                         ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:178:24: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
        expect(systemHit.id, 'system');
                         ^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:179:24: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(systemHit.element, isNotNull);
                         ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:180:24: Error: The getter 'element' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'element'.
        expect(systemHit.element?.name, 'Software System');
                         ^^^^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:184:28: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
        expect(backgroundHit.type, HitTestResultType.none);
                             ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:209:20: Error: The getter 'type' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'type'.
          if (result.type == HitTestResultType.relationship) {
                     ^^^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:211:25: Error: The getter 'id' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'id'.
            expect(result.id, 'rel1');
                          ^^
  test/presentation/widgets/diagram/diagram_painter_test.dart:212:25: Error: The getter 'relationship' isn't defined for the class 'bool?'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'relationship'.
            expect(result.relationship, isNotNull);
                          ^^^^^^^^^^^^
  .
00:26 +402 -140: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/view_selector_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/view_selector_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/view_selector_test.dart: test/presentation/widgets/view_selector_test.dart:20:11: Error: Method not found: 'SystemContextView'.
            SystemContextView(
            ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/view_selector_test.dart:28:11: Error: Method not found: 'ContainerView'.
            ContainerView(
            ^^^^^^^^^^^^^
  test/presentation/widgets/view_selector_test.dart:34:11: Error: Method not found: 'ContainerView'.
            ContainerView(
            ^^^^^^^^^^^^^
  test/presentation/widgets/view_selector_test.dart:42:11: Error: Method not found: 'ComponentView'.
            ComponentView(
            ^^^^^^^^^^^^^
  test/presentation/widgets/view_selector_test.dart:11:32: Error: Required named parameter 'id' must be provided.
      final workspace = Workspace(
                                 ^
  lib/domain/model/workspace.dart:41:17: Context: Found this candidate, but the arguments don't match.
    const factory Workspace({
                  ^
  test/presentation/widgets/view_selector_test.dart:178:39: Error: Required named parameter 'id' must be provided.
        final emptyWorkspace = Workspace(
                                        ^
  lib/domain/model/workspace.dart:41:17: Context: Found this candidate, but the arguments don't match.
    const factory Workspace({
                  ^
  lib/presentation/widgets/view_selector.dart:143:24: Error: The class 'BaseRenderer' is abstract and can't be instantiated.
        final renderer = BaseRenderer();
                         ^^^^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:127:30: Error: The method 'RenderParameters' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'RenderParameters'.
      final renderParameters = RenderParameters(
                               ^^^^^^^^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:146:69: Error: The getter 'styles' isn't defined for the class 'ViewConfiguration'.
   - 'ViewConfiguration' is from 'package:flutter_structurizr/domain/view/views.dart' ('lib/domain/view/views.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'styles'.
        final thumbnailStyles = widget.workspace.views.configuration?.styles?.copy() ?? Styles();
                                                                      ^^^^^^
  lib/presentation/widgets/view_selector.dart:169:24: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
              text: view.name,
                         ^^^^
  lib/presentation/widgets/view_selector.dart:285:20: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
          text: view.name,
                     ^^^^
  lib/presentation/widgets/view_selector.dart:341:13: Error: The getter 'buffer' isn't defined for the class 'Future<ByteData?>'.
   - 'Future' is from 'dart:async'.
   - 'ByteData' is from 'dart:typed_data'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'buffer'.
        bytes.buffer.asUint8List(),
              ^^^^^^
  lib/presentation/widgets/view_selector.dart:394:16: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
        return a.name.compareTo(b.name);
                 ^^^^
  lib/presentation/widgets/view_selector.dart:394:33: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
        return a.name.compareTo(b.name);
                                  ^^^^
  lib/presentation/widgets/view_selector.dart:446:55: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
                      message: view.description ?? view.name,
                                                        ^^^^
  lib/presentation/widgets/view_selector.dart:448:28: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
                        view.name,
                             ^^^^
  lib/presentation/widgets/view_selector.dart:455:17: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
                  Container(
                  ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:486:14: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
        return Container(
               ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:490:19: Error: The getter 'Border' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'Border'.
            border: Border.all(color: theme.dividerColor),
                    ^^^^^^
  lib/presentation/widgets/view_selector.dart:521:9: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
          Container(
          ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:523:21: Error: The getter 'Border' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'Border'.
              border: Border.all(color: theme.dividerColor),
                      ^^^^^^
  lib/presentation/widgets/view_selector.dart:556:34: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
                              view.name,
                                   ^^^^
  lib/presentation/widgets/view_selector.dart:620:28: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
      views.sort((a, b) => a.name.compareTo(b.name));
                             ^^^^
  lib/presentation/widgets/view_selector.dart:620:45: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
      views.sort((a, b) => a.name.compareTo(b.name));
                                              ^^^^
  lib/presentation/widgets/view_selector.dart:740:26: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
                    child: Container(
                           ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:742:31: Error: The getter 'Border' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'Border'.
                        border: Border.all(
                                ^^^^^^
  lib/presentation/widgets/view_selector.dart:755:19: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
          leading = Container(
                    ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:761:21: Error: The getter 'Border' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'Border'.
              border: Border.all(
                      ^^^^^^
  lib/presentation/widgets/view_selector.dart:779:17: Error: The method 'Container' isn't defined for the class '_ViewSelectorState'.
   - '_ViewSelectorState' is from 'package:flutter_structurizr/presentation/widgets/view_selector.dart' ('lib/presentation/widgets/view_selector.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'Container'.
        leading = Container(
                  ^^^^^^^^^
  lib/presentation/widgets/view_selector.dart:833:28: Error: The getter 'name' isn't defined for the class 'View'.
   - 'View' is from 'package:flutter_structurizr/domain/view/view.dart' ('lib/domain/view/view.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'name'.
                        view.name,
                             ^^^^
  .
00:26 +402 -140: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests timeline slider changes step when dragged
00:26 +403 -140: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests respects config options for visibility of controls
00:26 +404 -140: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests handles custom styling through config
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: Color:<Color(alpha: 1.0000, red: 0.2000, green: 0.2000, blue: 0.2000, colorSpace:
ColorSpace.sRGB)>
  Actual: Color:<Color(alpha: 1.0000, red: 0.9961, green: 0.9686, blue: 1.0000, colorSpace:
ColorSpace.sRGB)>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:126:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart line 126
The test description was:
  handles custom styling through config
════════════════════════════════════════════════════════════════════════════════════════════════════
00:26 +404 -141: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests handles custom styling through config [E]
  Test failed. See exception logs above.
  The test description was: handles custom styling through config
  
00:26 +404 -141: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests changes animation mode correctly

Warning: A call to tap() with finder "Found 1 widget with type "DropdownButton<AnimationMode>" that are ancestors of widget with text "Once": [
  DropdownButton<AnimationMode>(dependencies: [Directionality, InheritedCupertinoTheme, MediaQuery, _InheritedTheme, _LocalizationsScope-[GlobalKey#b63bb]], state: _DropdownButtonState<AnimationMode>#6f445),
]" derived an Offset (Offset(519.4, 396.0)) that would not hit test on the specified widget.
Maybe the widget is actually off-screen, or another widget is obscuring it, or the widget cannot receive pointer events.
The finder corresponds to this RenderBox: RenderSemanticsAnnotations#2c374 relayoutBoundary=up20
The hit test result at that offset is: HitTestResult(_RenderInkFeatures#fb28a@Offset(519.4, 396.0), RenderPhysicalModel#4e688@Offset(519.4, 396.0), RenderSemanticsAnnotations#2ca92@Offset(519.4, 396.0), RenderRepaintBoundary#1d72f@Offset(519.4, 396.0), RenderIgnorePointer#44ec5@Offset(519.4, 396.0), _RenderSnapshotWidget#2540a@Offset(519.4, 396.0), _RenderSnapshotWidget#c90bf@Offset(519.4, 396.0), _RenderSnapshotWidget#8ae84@Offset(519.4, 396.0), _RenderSnapshotWidget#f0a06@Offset(519.4, 396.0), RenderRepaintBoundary#e807c@Offset(519.4, 396.0), RenderSemanticsAnnotations#b4caf@Offset(519.4, 396.0), RenderOffstage#48ae4@Offset(519.4, 396.0), RenderSemanticsAnnotations#5fdfa@Offset(519.4, 396.0), _RenderTheater#69c03@Offset(519.4, 396.0), RenderAbsorbPointer#e9bf0@Offset(519.4, 396.0), RenderPointerListener#9f6f8@Offset(519.4, 396.0), RenderSemanticsAnnotations#c4af5@Offset(519.4, 396.0), RenderCustomPaint#5f343@Offset(519.4, 396.0), RenderSemanticsAnnotations#1ea92@Offset(519.4, 396.0), RenderSemanticsAnnotations#478ea@Offset(519.4, 396.0), RenderTapRegionSurface#0f1ff@Offset(519.4, 396.0), RenderSemanticsAnnotations#4378a@Offset(519.4, 396.0), RenderSemanticsAnnotations#b64cb@Offset(519.4, 396.0), RenderSemanticsAnnotations#f2ac6@Offset(519.4, 396.0), HitTestEntry<HitTestTarget>#12be2(_ReusableRenderView#44ecd), HitTestEntry<HitTestTarget>#d34a2(<AutomatedTestWidgetsFlutterBinding>))
#0      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2077:25)
#1      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#2      WidgetController.tap (package:flutter_test/src/controller.dart:1041:7)
#3      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:154:20)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
#6      StackZoneSpecification._registerCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:114:42)
<asynchronous suspension>
To silence this warning, pass "warnIfMissed: false" to "tap()".
To make this warning fatal, set WidgetController.hitTestWarningShouldBeFatal to true.

00:26 +404 -142: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/structurizr_diagram_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/structurizr_diagram_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/structurizr_diagram_test.dart: test/presentation/widgets/structurizr_diagram_test.dart:5:1: Error: 'View' is imported from both 'package:flutter/src/widgets/view.dart' and 'package:flutter_structurizr/domain/view/view.dart'.
  import 'package:flutter_structurizr/domain/view/view.dart';
  ^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:35:13: Error: Method not found: 'Person'.
              Person(
              ^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:42:13: Error: Method not found: 'SoftwareSystem'.
              SoftwareSystem(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:47:13: Error: Method not found: 'SoftwareSystem'.
              SoftwareSystem(
              ^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:33:16: Error: Method not found: 'WorkspaceModel'.
          model: WorkspaceModel(
                 ^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:72:17: Error: Method not found: 'ElementStyle'.
                  ElementStyle(
                  ^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:78:17: Error: Method not found: 'ElementStyle'.
                  ElementStyle(
                  ^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:86:17: Error: Method not found: 'RelationshipStyle'.
                  RelationshipStyle(
                  ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:70:21: Error: Method not found: 'Styles'.
              styles: Styles(
                      ^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:69:26: Error: Method not found: 'ViewConfiguration'.
            configuration: ViewConfiguration(
                           ^^^^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:68:16: Error: Method not found: 'WorkspaceViews'.
          views: WorkspaceViews(
                 ^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:308:17: Error: No named parameter with the name 'enablePan'.
                  enablePan: false,
                  ^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:271:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagramConfig({
          ^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:629:17: Error: No named parameter with the name 'gridSpacing'.
                  gridSpacing: 50.0,
                  ^^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:271:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagramConfig({
          ^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:30:13: Error: The argument type 'String' can't be assigned to the parameter type 'int'.
          id: 'test',
              ^
  test/presentation/widgets/structurizr_diagram_test.dart:247:21: Error: The method 'updateScale' isn't defined for the class 'TestGesture'.
   - 'TestGesture' is from 'package:flutter_test/src/test_pointer.dart' ('../../flutter/flutter/packages/flutter_test/lib/src/test_pointer.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateScale'.
        await gesture.updateScale(2.0);
                      ^^^^^^^^^^^
  test/presentation/widgets/structurizr_diagram_test.dart:332:21: Error: The method 'updateScale' isn't defined for the class 'TestGesture'.
   - 'TestGesture' is from 'package:flutter_test/src/test_pointer.dart' ('../../flutter/flutter/packages/flutter_test/lib/src/test_pointer.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'updateScale'.
        await gesture.updateScale(2.0);
                      ^^^^^^^^^^^
  .
00:26 +404 -142: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests changes animation mode correctly
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.last (dart:core/iterable.dart:661:7)
#1      _LastFinderMixin.filter (package:flutter_test/src/finders.dart:1367:28)
#3      Iterable.isEmpty (dart:core/iterable.dart:542:33)
#4      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2008:18)
#5      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#6      WidgetController.tap (package:flutter_test/src/controller.dart:1041:7)
#7      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:158:20)
<asynchronous suspension>
#8      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#9      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 2 frames from dart:async-patch and package:stack_trace)

The test description was:
  changes animation mode correctly
════════════════════════════════════════════════════════════════════════════════════════════════════
00:26 +404 -143: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests changes animation mode correctly [E]
  Test failed. See exception logs above.
  The test description was: changes animation mode correctly
  
00:26 +404 -143: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests changes animation speed correctly

Warning: A call to tap() with finder "Found 1 widget with type "DropdownButton<double>" that are ancestors of widget with text "1x": [
  DropdownButton<double>(dependencies: [Directionality, InheritedCupertinoTheme, MediaQuery, _InheritedTheme, _LocalizationsScope-[GlobalKey#748e9]], state: _DropdownButtonState<double>#1f694),
]" derived an Offset (Offset(332.1, 396.0)) that would not hit test on the specified widget.
Maybe the widget is actually off-screen, or another widget is obscuring it, or the widget cannot receive pointer events.
The finder corresponds to this RenderBox: RenderSemanticsAnnotations#10780 relayoutBoundary=up20
The hit test result at that offset is: HitTestResult(_RenderInkFeatures#8b146@Offset(332.1, 396.0), RenderPhysicalModel#baa52@Offset(332.1, 396.0), RenderSemanticsAnnotations#bf246@Offset(332.1, 396.0), RenderRepaintBoundary#c103d@Offset(332.1, 396.0), RenderIgnorePointer#4f47b@Offset(332.1, 396.0), _RenderSnapshotWidget#25ee6@Offset(332.1, 396.0), _RenderSnapshotWidget#4aadf@Offset(332.1, 396.0), _RenderSnapshotWidget#9f5e9@Offset(332.1, 396.0), _RenderSnapshotWidget#a2a8c@Offset(332.1, 396.0), RenderRepaintBoundary#32f73@Offset(332.1, 396.0), RenderSemanticsAnnotations#3f7b1@Offset(332.1, 396.0), RenderOffstage#fb9f9@Offset(332.1, 396.0), RenderSemanticsAnnotations#e6ff6@Offset(332.1, 396.0), _RenderTheater#98ccf@Offset(332.1, 396.0), RenderAbsorbPointer#5f3aa@Offset(332.1, 396.0), RenderPointerListener#f8358@Offset(332.1, 396.0), RenderSemanticsAnnotations#782b2@Offset(332.1, 396.0), RenderCustomPaint#29868@Offset(332.1, 396.0), RenderSemanticsAnnotations#17946@Offset(332.1, 396.0), RenderSemanticsAnnotations#5fed6@Offset(332.1, 396.0), RenderTapRegionSurface#32f58@Offset(332.1, 396.0), RenderSemanticsAnnotations#3cd09@Offset(332.1, 396.0), RenderSemanticsAnnotations#46ac3@Offset(332.1, 396.0), RenderSemanticsAnnotations#735dd@Offset(332.1, 396.0), HitTestEntry<HitTestTarget>#0e4d2(_ReusableRenderView#44ecd), HitTestEntry<HitTestTarget>#6bc73(<AutomatedTestWidgetsFlutterBinding>))
#0      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2077:25)
#1      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#2      WidgetController.tap (package:flutter_test/src/controller.dart:1041:7)
#3      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:185:20)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
#6      StackZoneSpecification._registerCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:114:42)
<asynchronous suspension>
To silence this warning, pass "warnIfMissed: false" to "tap()".
To make this warning fatal, set WidgetController.hitTestWarningShouldBeFatal to true.

══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.last (dart:core/iterable.dart:661:7)
#1      _LastFinderMixin.filter (package:flutter_test/src/finders.dart:1367:28)
#3      Iterable.isEmpty (dart:core/iterable.dart:542:33)
#4      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2008:18)
#5      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#6      WidgetController.tap (package:flutter_test/src/controller.dart:1041:7)
#7      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:189:20)
<asynchronous suspension>
#8      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#9      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 2 frames from dart:async-patch and package:stack_trace)

The test description was:
  changes animation speed correctly
════════════════════════════════════════════════════════════════════════════════════════════════════
00:26 +404 -144: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests changes animation speed correctly [E]
  Test failed. See exception logs above.
  The test description was: changes animation speed correctly
  
00:26 +404 -144: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests handles animation step updates correctly
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following assertion was thrown building KeyedSubtree-[GlobalKey#0ae75]:
setState() or markNeedsBuild() called during build.
This StatefulBuilder widget cannot be marked as needing to build because the framework is already in
the process of building widgets. A widget can be marked as needing to be built during the build
phase only if one of its ancestors is currently building. This exception is allowed because the
framework builds parent widgets before children, which means a dirty descendant will always be
built. Otherwise, the framework might not visit this widget during this build phase.
The widget on which setState() or markNeedsBuild() was called was:
  StatefulBuilder
The widget which was currently being built when the offending call was made was:
  KeyedSubtree-[GlobalKey#0ae75]

The relevant error-causing widget was:
  Scaffold
  Scaffold:file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:209:22

When the exception was thrown, this was the stack:
#0      Element.markNeedsBuild.<anonymous closure> (package:flutter/src/widgets/framework.dart:5289:9)
#1      Element.markNeedsBuild (package:flutter/src/widgets/framework.dart:5301:6)
#2      State.setState (package:flutter/src/widgets/framework.dart:1227:15)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:216:33)
#4      _AnimationControlsState._jumpToStep (package:flutter_structurizr/presentation/widgets/diagram/animation_controls.dart:323:27)
#5      _AnimationControlsState.didUpdateWidget (package:flutter_structurizr/presentation/widgets/diagram/animation_controls.dart:203:7)
#6      StatefulElement.update (package:flutter/src/widgets/framework.dart:5901:55)
#7      Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#8      Element.updateChildren (package:flutter/src/widgets/framework.dart:4156:11)
#9      MultiChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:7211:17)
#10     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#11     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#12     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#13     StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#14     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#15     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#16     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#17     StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#18     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#19     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#20     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#21     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#22     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#23     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#24     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#25     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#26     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#27     Element.updateChildren (package:flutter/src/widgets/framework.dart:4156:11)
#28     MultiChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:7211:17)
#29     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#30     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#31     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#32     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#33     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#34     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#35     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#36     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#37     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#38     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#39     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#40     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#41     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#42     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#43     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#44     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#45     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#46     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#47     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#48     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#49     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#50     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#51     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#52     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#53     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:7034:14)
#54     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#55     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#56     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#57     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#58     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#59     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:7034:14)
#60     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#61     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#62     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#63     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#64     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#65     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#66     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#67     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#68     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#69     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#70     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#71     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#72     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#73     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#74     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#75     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#76     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#77     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#78     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#79     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#80     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#81     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#82     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#83     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#84     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#85     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#86     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#87     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#88     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#89     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#90     ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#91     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#92     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#93     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#94     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#95     StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#96     Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#97     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#98     StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#99     Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#100    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#101    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#102    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#103    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#104    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#105    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#106    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#107    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#110    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#111    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#112    WidgetTester.pump.<anonymous closure> (package:flutter_test/src/widget_tester.dart:653:53)
#115    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#116    WidgetTester.pump (package:flutter_test/src/widget_tester.dart:653:27)
#117    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:243:20)
<asynchronous suspension>
#118    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#119    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY RENDERING LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during performLayout():
Each child must be laid out exactly once.
The _ScaffoldLayout custom multichild layout delegate forgot to lay out the following child:
  _ScaffoldSlot.body: RenderErrorBox#93687 NEEDS-LAYOUT NEEDS-PAINT

The relevant error-causing widget was:
  Scaffold
  Scaffold:file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:209:22

When the exception was thrown, this was the stack:
#0      MultiChildLayoutDelegate._callPerformLayout.<anonymous closure> (package:flutter/src/rendering/custom_layout.dart:252:11)
#1      MultiChildLayoutDelegate._callPerformLayout (package:flutter/src/rendering/custom_layout.dart:265:8)
#2      RenderCustomMultiChildLayoutBox.performLayout (package:flutter/src/rendering/custom_layout.dart:419:14)
#3      RenderObject._layoutWithoutResize (package:flutter/src/rendering/object.dart:2548:7)
#4      PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:1112:18)
#5      PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:1125:15)
#6      AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1497:27)
#7      RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#8      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#9      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#10     AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#13     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#14     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#15     WidgetTester.pump.<anonymous closure> (package:flutter_test/src/widget_tester.dart:653:53)
#18     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#19     WidgetTester.pump (package:flutter_test/src/widget_tester.dart:653:27)
#20     main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:243:20)
<asynchronous suspension>
#21     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#22     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The following RenderObject was being processed when the exception was fired: RenderCustomMultiChildLayoutBox#3db22 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE:
  needs compositing
  creator: CustomMultiChildLayout ← _ActionsScope ← Actions ← AnimatedBuilder ← DefaultTextStyle ←
    AnimatedDefaultTextStyle ← _InkFeatures-[GlobalKey#232a1 ink renderer] ←
    NotificationListener<LayoutChangedNotification> ← PhysicalModel ← AnimatedPhysicalModel ← Material
    ← _ScrollNotificationObserverScope ← ⋯
  parentData: <none> (can use size)
  constraints: BoxConstraints(w=800.0, h=600.0)
  size: Size(800.0, 600.0)
This RenderObject had the following descendants (showing up to depth 5):
    child 1: RenderErrorBox#93687 NEEDS-LAYOUT NEEDS-PAINT
    child 2: RenderFlex#1826b relayoutBoundary=up1 NEEDS-PAINT
      child 1: RenderPhysicalShape#81fed relayoutBoundary=up2 NEEDS-PAINT
        child: RenderCustomPaint#6aa68 relayoutBoundary=up3 NEEDS-PAINT
          child: _RenderInkFeatures#5b805 relayoutBoundary=up4 NEEDS-PAINT
            child: RenderConstrainedBox#08b5c relayoutBoundary=up5 NEEDS-PAINT
      child 2: RenderSemanticsAnnotations#2f0a7 relayoutBoundary=up2 NEEDS-PAINT
        child: _RenderInputPadding#ad88f relayoutBoundary=up3 NEEDS-PAINT
          child: RenderConstrainedBox#74e25 relayoutBoundary=up4 NEEDS-PAINT
            child: RenderPhysicalShape#5dd94 relayoutBoundary=up5 NEEDS-PAINT
    child 3: RenderStack#4a590 relayoutBoundary=up1
      child 1: RenderTransform#c2830 relayoutBoundary=up2
        child: RenderTransform#9ded6 relayoutBoundary=up3 NEEDS-PAINT
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Updated layout information required for RenderErrorBox#93687 NEEDS-LAYOUT NEEDS-PAINT to calculate
semantics.
'package:flutter/src/rendering/object.dart':
Failed assertion: line 3848 pos 12: '!_needsLayout'

Either the assertion indicates an error in the framework itself, or we should provide substantially
more information in this error message to help you determine and fix the underlying cause.
In either case, please report this assertion by filing a bug on GitHub:
  https://github.com/flutter/flutter/issues/new?template=2_bug.yml

When the exception was thrown, this was the stack:
#2      RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3848:12)
#3      RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#4      ContainerRenderObjectMixin.visitChildren (package:flutter/src/rendering/object.dart:4641:14)
#5      RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#6      RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#7      RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#8      RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#9      RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#10     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#11     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#12     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#13     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#14     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#15     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#16     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#17     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#18     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#19     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#20     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#21     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#22     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#23     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#24     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#25     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#26     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#27     RenderIgnorePointer.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:3633:11)
#28     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#29     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#30     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#31     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#32     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#33     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#34     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#35     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#36     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#37     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#38     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#39     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#40     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#41     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#42     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#43     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#44     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#45     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#46     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#47     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#48     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#49     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#50     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#51     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#52     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#53     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#54     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#55     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#56     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#57     RenderOffstage.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:3778:11)
#58     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#59     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#60     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#61     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#62     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#63     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#64     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#65     _RenderTheater.visitChildrenForSemantics (package:flutter/src/widgets/overlay.dart:1494:14)
#66     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#67     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#68     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#69     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#70     RenderAbsorbPointer.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:3885:11)
#71     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#72     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#73     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#74     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#75     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#76     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#77     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#78     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#79     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#80     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#81     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#82     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#83     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#84     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#85     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#86     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#87     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#88     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#89     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#90     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#91     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#92     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#93     RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#94     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#95     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#96     RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#97     RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#98     RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#99     RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#100    RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#101    RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#102    RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#103    RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#104    RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#105    RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#106    RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#107    RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#108    RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#109    RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#110    RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#111    RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#112    RenderSemanticsAnnotations.visitChildrenForSemantics (package:flutter/src/rendering/proxy_box.dart:4300:11)
#113    RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#114    RenderObject._getSemanticsForParent.<anonymous closure> (package:flutter/src/rendering/object.dart:3867:61)
#115    RenderObjectWithChildMixin.visitChildren (package:flutter/src/rendering/object.dart:4325:14)
#116    RenderObject.visitChildrenForSemantics (package:flutter/src/rendering/object.dart:4015:5)
#117    RenderObject._getSemanticsForParent (package:flutter/src/rendering/object.dart:3865:5)
#118    RenderObject._updateSemantics (package:flutter/src/rendering/object.dart:3811:41)
#119    PipelineOwner.flushSemantics (package:flutter/src/rendering/object.dart:1378:16)
#120    PipelineOwner.flushSemantics (package:flutter/src/rendering/object.dart:1383:15)
#121    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1508:35)
#122    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#123    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#124    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#125    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#128    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#129    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#130    WidgetTester.pump.<anonymous closure> (package:flutter_test/src/widget_tester.dart:653:53)
#133    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#134    WidgetTester.pump (package:flutter_test/src/widget_tester.dart:653:27)
#135    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:243:20)
<asynchronous suspension>
#136    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#137    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 7 frames from class _AssertionError, dart:async, and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Step 2/3": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:249:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart line 249
The test description was:
  handles animation step updates correctly
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (4) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:26 +404 -145: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests handles animation step updates correctly [E]
  Test failed. See exception logs above.
  The test description was: handles animation step updates correctly
  
00:26 +404 -145: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests plays animation automatically when autoPlay is true
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following assertion was thrown building _FocusInheritedScope:
'package:flutter/src/widgets/framework.dart': Failed assertion: line 6179 pos 14:
'_dependents.isEmpty': is not true.

Either the assertion indicates an error in the framework itself, or we should provide substantially
more information in this error message to help you determine and fix the underlying cause.
In either case, please report this assertion by filing a bug on GitHub:
  https://github.com/flutter/flutter/issues/new?template=2_bug.yml

When the exception was thrown, this was the stack:
#2      InheritedElement.debugDeactivated.<anonymous closure> (package:flutter/src/widgets/framework.dart:6179:14)
#3      InheritedElement.debugDeactivated (package:flutter/src/widgets/framework.dart:6181:6)
#4      _InactiveElements._deactivateRecursively.<anonymous closure> (package:flutter/src/widgets/framework.dart:2107:15)
#5      _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2109:6)
#6      ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#7      _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#8      MultiChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7137:16)
#9      _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#10     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#11     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#12     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#13     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#14     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#15     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#16     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#17     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#18     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#19     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#20     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#21     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#22     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#23     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#24     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#25     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#26     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#27     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#28     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#29     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#30     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#31     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#32     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#33     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#34     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#35     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#36     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#37     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#38     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#39     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#40     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#41     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#42     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#43     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#44     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#45     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#46     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#47     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#48     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#49     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#50     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#51     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#52     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#53     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#54     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#55     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#56     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#57     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#58     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#59     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#60     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#61     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#62     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#63     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#64     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#65     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#66     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#67     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#68     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#69     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#70     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#71     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#72     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#73     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#74     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#75     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#76     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#77     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#78     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#79     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#80     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#81     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#82     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#83     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#84     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#85     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#86     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#87     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#88     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#89     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#90     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#91     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#92     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#93     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#94     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#95     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#96     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#97     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#98     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#99     _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#100    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#101    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#102    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#103    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#104    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#105    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#106    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#107    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#108    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#109    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#110    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#111    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#112    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#113    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#114    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#115    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#116    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#117    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#118    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#119    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#120    MultiChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7137:16)
#121    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#122    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#123    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#124    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#125    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#126    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#127    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#128    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#129    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#130    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#131    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#132    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#133    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#134    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#135    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#136    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#137    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#138    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#139    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#140    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#141    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#142    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#143    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#144    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#145    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#146    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#147    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#148    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#149    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#150    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#151    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#152    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#153    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#154    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#155    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#156    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#157    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#158    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#159    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#160    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#161    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#162    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#163    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#164    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#165    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#166    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#167    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#168    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#169    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#170    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#171    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#172    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#173    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#174    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#175    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#176    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#177    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#178    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#179    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#180    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#181    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#182    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#183    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#184    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#185    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#186    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#187    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#188    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#189    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#190    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#191    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#192    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#193    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#194    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#195    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#196    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#197    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#198    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#199    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#200    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#201    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#202    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#203    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#204    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#205    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#206    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#207    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#208    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#209    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#210    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#211    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#212    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#213    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#214    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#215    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#216    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#217    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#218    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#219    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#220    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#221    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#222    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#223    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#224    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#225    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#226    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#227    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#228    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#229    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#230    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#231    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#232    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#233    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#234    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#235    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#236    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#237    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#238    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#239    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#240    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#241    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#242    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#243    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#244    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#245    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#246    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#247    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#248    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#249    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#250    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#251    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#252    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#253    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#254    SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:7013:14)
#255    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#256    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#257    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#258    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#259    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#260    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#261    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#262    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#263    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#264    ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:5781:14)
#265    _InactiveElements._deactivateRecursively (package:flutter/src/widgets/framework.dart:2105:13)
#266    _InactiveElements.add (package:flutter/src/widgets/framework.dart:2117:7)
#267    Element.deactivateChild (package:flutter/src/widgets/framework.dart:4597:30)
#268    Element.updateChild (package:flutter/src/widgets/framework.dart:4009:9)
#269    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#270    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#271    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#272    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#273    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#274    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#275    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#276    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#277    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#278    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#279    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#280    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#281    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#282    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#283    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#284    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#285    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#286    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#287    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#288    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#289    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#290    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#291    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#292    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#293    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#294    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#295    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#296    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#297    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#298    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#299    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#300    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#301    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#302    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#303    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#304    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#305    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#306    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#307    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#308    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#309    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#310    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#311    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#312    _RawViewElement.update (package:flutter/src/widgets/view.dart:569:5)
#313    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#314    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#315    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#316    StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#317    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#318    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#319    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#320    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#321    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#322    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#323    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1687:16)
#324    RootElement.update (package:flutter/src/widgets/binding.dart:1665:5)
#325    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1679:7)
#326    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#327    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#328    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#329    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#330    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#331    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#332    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#333    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#334    AutomatedTestWidgetsFlutterBinding.scheduleWarmUpFrame (package:flutter_test/src/binding.dart:1441:5)
#335    _runWidget (package:flutter/src/widgets/binding.dart:1547:7)
#336    runApp (package:flutter/src/widgets/binding.dart:1480:3)
#337    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1052:5)
#340    TestWidgetsFlutterBinding._runTest (package:flutter_test/src/binding.dart:1038:10)
#341    AutomatedTestWidgetsFlutterBinding.runTest.<anonymous closure> (package:flutter_test/src/binding.dart:1553:24)
#342    FakeAsync.run.<anonymous closure>.<anonymous closure> (package:fake_async/fake_async.dart:182:54)
#347    withClock (package:clock/src/default.dart:52:10)
#348    FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:182:22)
#353    FakeAsync.run (package:fake_async/fake_async.dart:182:7)
#354    AutomatedTestWidgetsFlutterBinding.runTest (package:flutter_test/src/binding.dart:1550:15)
#355    testWidgets.<anonymous closure> (package:flutter_test/src/widget_tester.dart:185:24)
#356    Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:229:19)
<asynchronous suspension>
#357    Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:227:7)
<asynchronous suspension>
#358    Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:258:9)
<asynchronous suspension>
(elided 12 frames from class _AssertionError and dart:async)

════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following assertion was thrown building AnimationControls(dirty, dependencies:
[InheritedCupertinoTheme, _InheritedTheme, _LocalizationsScope-[GlobalKey#1ac63]], state:
_AnimationControlsState#a04f3(ticker inactive)):
There should be exactly one item with [DropdownButton]'s value: 5.0.
Either zero or 2 or more [DropdownMenuItem]s were detected with the same value
'package:flutter/src/material/dropdown.dart':
Failed assertion: line 1001 pos 10: 'items == null ||
             items.isEmpty ||
             value == null ||
             items.where((DropdownMenuItem<T> item) {
                   return item.value == value;
                 }).length ==
                 1'

The relevant error-causing widget was:
  AnimationControls
  AnimationControls:file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:38:20

When the exception was thrown, this was the stack:
#2      new DropdownButton (package:flutter/src/material/dropdown.dart:1001:10)
#3      _AnimationControlsState.build (package:flutter_structurizr/presentation/widgets/diagram/animation_controls.dart:499:33)
#4      StatefulElement.build (package:flutter/src/widgets/framework.dart:5841:27)
#5      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5733:15)
#6      StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#7      Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#8      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5715:5)
#9      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5883:11)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5709:5)
...     Normal element mounting (28 frames)
#38     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#39     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#40     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (332 frames)
#372    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#373    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#374    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (457 frames)
#831    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#832    Element.updateChild (package:flutter/src/widgets/framework.dart:4014:20)
#833    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#834    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#835    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#836    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#837    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#838    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#839    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#840    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#841    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#842    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#843    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#844    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#845    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#846    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#847    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#848    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#849    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#850    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#851    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#852    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#853    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#854    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#855    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#856    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#857    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#858    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#859    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#860    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#872    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#873    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#874    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#875    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#876    _RawViewElement.update (package:flutter/src/widgets/view.dart:569:5)
#877    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#878    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#879    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#880    StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#881    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#882    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#883    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#884    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#885    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#886    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#887    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1687:16)
#888    RootElement.update (package:flutter/src/widgets/binding.dart:1665:5)
#889    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1679:7)
#890    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#891    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#892    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#893    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#894    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#895    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#896    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#897    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#898    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#901    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#902    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#903    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#906    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#907    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#908    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:256:20)
#909    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#910    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 7 frames from class _AssertionError, dart:async, and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _IconWidgetFinder:<Found 0 widgets with icon "IconData(U+0E47C)": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart:270:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart line 270
The test description was:
  plays animation automatically when autoPlay is true
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (3) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:26 +404 -146: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_improved_test.dart: AnimationControls Widget - Improved Tests plays animation automatically when autoPlay is true [E]
  Test failed. See exception logs above.
  The test description was: plays animation automatically when autoPlay is true
  
00:27 +404 -147: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_search_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_search_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_search_test.dart: lib/presentation/widgets/documentation/documentation_search_index.dart:229:52: Error: String starting with " must end with ".
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:50: Error: Can't find ']' to match '['.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                   ^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:49: Error: Can't find ')' to match '('.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                  ^
  test/presentation/widgets/documentation/documentation_search_test.dart:5:1: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
  import 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart';
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:50:20: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        controller = DocumentationSearchController();
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:125:20: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        controller = DocumentationSearchController();
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:147:13: Error: No named parameter with the name 'metadata'.
              metadata: {
              ^^^^^^^^
  lib/domain/documentation/documentation.dart:40:17: Context: Found this candidate, but the arguments don't match.
    const factory DocumentationSection({
                  ^
  test/presentation/widgets/documentation/documentation_search_test.dart:155:13: Error: No named parameter with the name 'metadata'.
              metadata: {
              ^^^^^^^^
  lib/domain/documentation/documentation.dart:40:17: Context: Found this candidate, but the arguments don't match.
    const factory DocumentationSection({
                  ^
  test/presentation/widgets/documentation/documentation_search_test.dart:163:13: Error: No named parameter with the name 'metadata'.
              metadata: {
              ^^^^^^^^
  lib/domain/documentation/documentation.dart:40:17: Context: Found this candidate, but the arguments don't match.
    const factory DocumentationSection({
                  ^
  test/presentation/widgets/documentation/documentation_search_test.dart:194:28: Error: Required named parameter 'id' must be provided.
        workspace = Workspace(
                             ^
  lib/domain/model/workspace.dart:41:17: Context: Found this candidate, but the arguments don't match.
    const factory Workspace({
                  ^
  test/presentation/widgets/documentation/documentation_search_test.dart:320:26: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        final controller = DocumentationSearchController();
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:347:26: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        final controller = DocumentationSearchController();
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:373:26: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        final controller = DocumentationSearchController();
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/documentation_search_test.dart:408:26: Error: 'DocumentationSearchController' is imported from both 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search.dart' and 'package:flutter_structurizr/presentation/widgets/documentation/documentation_search_controller.dart'.
        final controller = DocumentationSearchController();
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/presentation/widgets/documentation/documentation_search_controller.dart:41:82: Error: Member not found: 'Workspace.empty'.
      _searchIndex = DocumentationSearchIndex.fromWorkspace(workspace ?? Workspace.empty());
                                                                                   ^^^^^
  lib/presentation/widgets/documentation/documentation_search_controller.dart:157:82: Error: Member not found: 'Workspace.empty'.
      _searchIndex = DocumentationSearchIndex.fromWorkspace(workspace ?? Workspace.empty());
                                                                                   ^^^^^
  lib/presentation/widgets/documentation/documentation_search_index.dart:127:29: Error: The getter 'metadata' isn't defined for the class 'DocumentationSection'.
   - 'DocumentationSection' is from 'package:flutter_structurizr/domain/documentation/documentation.dart' ('lib/domain/documentation/documentation.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'metadata'.
            metadata: section.metadata,
                              ^^^^^^^^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:46: Error: Expected ')' before this.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                               ^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:51: Error: Expected an identifier, but got '^'.
  Try inserting an identifier before '^'.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                    ^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:52: Error: Expected ';' after this.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/presentation/widgets/documentation/documentation_search_index.dart:229:49: Error: The method 'call' isn't defined for the class 'RegExp'.
   - 'RegExp' is from 'dart:core'.
  Try correcting the name to the name of an existing method, or defining a method named 'call'.
      final fieldMatches = RegExp(r'(\w+):(["\']?)([^"\']+)\2').allMatches(query);
                                                  ^
  lib/presentation/widgets/documentation/documentation_search_index.dart:438:32: Error: The getter 'log' isn't defined for the class 'double'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'log'.
      return log10e * (x > 0 ? x.log : 0);
                                 ^^^
  .
00:27 +404 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders basic markdown content
00:27 +405 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders section numbers when enabled
00:27 +406 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders section numbers with multiple sections
00:27 +407 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer skips section numbering in code blocks
00:27 +408 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer respects dark mode setting
00:28 +409 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders code blocks with syntax highlighting
00:28 +410 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders embedded diagrams
00:28 +411 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders embedded diagrams with parameters
00:28 +412 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer renders embedded diagrams in dark mode
00:28 +413 -147: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_renderer_test.dart: TestMarkdownRenderer handles missing workspace for diagrams
00:28 +414 -148: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_navigator_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_navigator_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/documentation_navigator_test.dart: lib/presentation/widgets/documentation/documentation_navigator.dart:454:13: Error: Expected an identifier, but got ')'.
  Try inserting an identifier before ')'.
              ),
              ^
  lib/presentation/widgets/documentation/documentation_navigator.dart:454:13: Error: Expected ']' before this.
              ),
              ^
  .
00:28 +414 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList renders decision list with all decisions
00:28 +415 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_timeline_test.dart: DecisionTimeline renders decisions in chronological order
00:28 +416 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList handles decision selection
00:28 +417 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList handles decision selection
00:28 +418 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_timeline_test.dart: DecisionTimeline supports filtering with the filter dialog
00:28 +419 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_timeline_test.dart: DecisionTimeline supports filtering with the filter dialog
00:28 +420 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList supports search functionality
00:28 +421 -148: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList supports search functionality
00:29 +421 -149: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_extensions_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_extensions_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/markdown_extensions_test.dart: test/presentation/widgets/documentation/markdown_extensions_test.dart:237:10: Error: Type 'ByteData' not found.
    Future<ByteData> load(String key) async {
           ^^^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:251:25: Error: The class 'List' can't be extended outside of its library because it's an interface class.
  class Uint8List extends List<int> {
                          ^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:251:7: Error: The non-abstract class 'Uint8List' is missing implementations for these members:
   - EfficientLengthIterable.length
   - Iterable.any
   - Iterable.cast
   - Iterable.contains
   - Iterable.elementAt
   - Iterable.every
   - Iterable.expand
   - Iterable.first
   - Iterable.firstWhere
   - Iterable.fold
   - Iterable.followedBy
   - Iterable.forEach
   - Iterable.isEmpty
   - Iterable.isNotEmpty
   - Iterable.iterator
   - Iterable.join
   - Iterable.last
   - Iterable.lastWhere
   - Iterable.length
   - Iterable.map
   - Iterable.reduce
   - Iterable.single
   - Iterable.singleWhere
   - Iterable.skip
   - Iterable.skipWhile
   - Iterable.take
   - Iterable.takeWhile
   - Iterable.toList
   - Iterable.toSet
   - Iterable.where
   - Iterable.whereType
   - List.+
   - List.add
   - List.addAll
   - List.asMap
   - List.cast
   - List.clear
   - List.fillRange
   - List.first=
   - List.getRange
   - List.indexOf
   - List.indexWhere
   - List.insert
   - List.insertAll
   - List.last=
   - List.lastIndexOf
   - List.lastIndexWhere
   - List.length
   - List.length=
   - List.remove
   - List.removeAt
   - List.removeLast
   - List.removeRange
   - List.removeWhere
   - List.replaceRange
   - List.retainWhere
   - List.reversed
   - List.setAll
   - List.setRange
   - List.shuffle
   - List.sort
   - List.sublist
  Try to either
   - provide an implementation,
   - inherit an implementation from a superclass or mixin,
   - mark the class as abstract, or
   - provide a 'noSuchMethod' implementation.
  
  class Uint8List extends List<int> {
        ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/internal/iterable.dart:19:11: Context: 'EfficientLengthIterable.length' is defined here.
    int get length;
            ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:479:8: Context: 'Iterable.any' is defined here.
    bool any(bool test(E element)) {
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:180:15: Context: 'Iterable.cast' is defined here.
    Iterable<R> cast<R>() => CastIterable<E, R>(this);
                ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:329:8: Context: 'Iterable.contains' is defined here.
    bool contains(Object? element) {
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:801:5: Context: 'Iterable.elementAt' is defined here.
    E elementAt(int index) {
      ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:426:8: Context: 'Iterable.every' is defined here.
    bool every(bool test(E element)) {
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:302:15: Context: 'Iterable.expand' is defined here.
    Iterable<T> expand<T>(Iterable<T> toElements(E element)) =>
                ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:642:9: Context: 'Iterable.first' is defined here.
    E get first {
          ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:699:5: Context: 'Iterable.firstWhere' is defined here.
    E firstWhere(bool test(E element), {E orElse()?}) {
      ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:407:5: Context: 'Iterable.fold' is defined here.
    T fold<T>(T initialValue, T combine(T previousValue, E element)) {
      ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:194:15: Context: 'Iterable.followedBy' is defined here.
    Iterable<E> followedBy(Iterable<E> other) {
                ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:347:8: Context: 'Iterable.forEach' is defined here.
    void forEach(void action(E element)) {
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:542:12: Context: 'Iterable.isEmpty' is defined here.
    bool get isEmpty => !iterator.moveNext();
             ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:554:12: Context: 'Iterable.isNotEmpty' is defined here.
    bool get isNotEmpty => !isEmpty;
             ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:170:19: Context: 'Iterable.iterator' is defined here.
    Iterator<E> get iterator;
                    ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:446:10: Context: 'Iterable.join' is defined here.
    String join([String separator = ""]) {
           ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:658:9: Context: 'Iterable.last' is defined here.
    E get last {
          ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:728:5: Context: 'Iterable.lastWhere' is defined here.
    E lastWhere(bool test(E element), {E orElse()?}) {
      ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:522:11: Context: 'Iterable.length' is defined here.
    int get length {
            ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:239:15: Context: 'Iterable.map' is defined here.
    Iterable<T> map<T>(T toElement(E e)) => MappedIterable<E, T>(this, toElement);
                ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:374:5: Context: 'Iterable.reduce' is defined here.
    E reduce(E combine(E value, E element)) {
      ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:674:9: Context: 'Iterable.single' is defined here.
    E get single {
          ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:770:5: Context: 'Iterable.singleWhere' is defined here.
    E singleWhere(bool test(E element), {E orElse()?}) {
      ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:614:15: Context: 'Iterable.skip' is defined here.
    Iterable<E> skip(int count) => SkipIterable<E>(this, count);
                ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:635:15: Context: 'Iterable.skipWhile' is defined here.
    Iterable<E> skipWhile(bool test(E value)) => SkipWhileIterable<E>(this, test);
                ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:572:15: Context: 'Iterable.take' is defined here.
    Iterable<E> take(int count) => TakeIterable<E>(this, count);
                ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:591:15: Context: 'Iterable.takeWhile' is defined here.
    Iterable<E> takeWhile(bool test(E value)) => TakeWhileIterable<E>(this, test);
                ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:498:11: Context: 'Iterable.toList' is defined here.
    List<E> toList({bool growable = true}) =>
            ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:514:10: Context: 'Iterable.toSet' is defined here.
    Set<E> toSet() => Set<E>.of(this);
           ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:261:15: Context: 'Iterable.where' is defined here.
    Iterable<E> where(bool test(E element)) => WhereIterable<E>(this, test);
                ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/iterable.dart:272:15: Context: 'Iterable.whereType' is defined here.
    Iterable<T> whereType<T>() => WhereTypeIterable<T>(this);
                ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:727:20: Context: 'List.+' is defined here.
    List<E> operator +(List<E> other);
                     ^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:446:8: Context: 'List.add' is defined here.
    void add(E value);
         ^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:458:8: Context: 'List.addAll' is defined here.
    void addAll(Iterable<E> iterable);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:884:15: Context: 'List.asMap' is defined here.
    Map<int, E> asMap();
                ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:353:11: Context: 'List.cast' is defined here.
    List<R> cast<R>();
            ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:599:8: Context: 'List.clear' is defined here.
    void clear();
         ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:841:8: Context: 'List.fillRange' is defined here.
    void fillRange(int start, int end, [E? fillValue]);
         ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:385:12: Context: 'List.first=' is defined here.
    void set first(E value);
             ^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:774:15: Context: 'List.getRange' is defined here.
    Iterable<E> getRange(int start, int end);
                ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:522:7: Context: 'List.indexOf' is defined here.
    int indexOf(E element, [int start = 0]);
        ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:541:7: Context: 'List.indexWhere' is defined here.
    int indexWhere(bool test(E element), [int start = 0]);
        ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:615:8: Context: 'List.insert' is defined here.
    void insert(int index, E element);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:630:8: Context: 'List.insertAll' is defined here.
    void insertAll(int index, Iterable<E> iterable);
         ^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:403:12: Context: 'List.last=' is defined here.
    void set last(E value);
             ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:587:7: Context: 'List.lastIndexOf' is defined here.
    int lastIndexOf(E element, [int? start]);
        ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:563:7: Context: 'List.lastIndexWhere' is defined here.
    int lastIndexWhere(bool test(E element), [int? start]);
        ^^^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:412:11: Context: 'List.length' is defined here.
    int get length;
            ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:434:7: Context: 'List.length=' is defined here.
    set length(int newLength);
        ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:669:8: Context: 'List.remove' is defined here.
    bool remove(Object? value);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:685:5: Context: 'List.removeAt' is defined here.
    E removeAt(int index);
      ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:695:5: Context: 'List.removeLast' is defined here.
    E removeLast();
      ^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:820:8: Context: 'List.removeRange' is defined here.
    void removeRange(int start, int end);
         ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:706:8: Context: 'List.removeWhere' is defined here.
    void removeWhere(bool test(E element));
         ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:872:8: Context: 'List.replaceRange' is defined here.
    void replaceRange(int start, int end, Iterable<E> replacements);
         ^^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:717:8: Context: 'List.retainWhere' is defined here.
    void retainWhere(bool test(E element));
         ^^^^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:466:19: Context: 'List.reversed' is defined here.
    Iterable<E> get reversed;
                    ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:650:8: Context: 'List.setAll' is defined here.
    void setAll(int index, Iterable<E> iterable);
         ^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:802:8: Context: 'List.setRange' is defined here.
    void setRange(int start, int end, Iterable<E> iterable, [int skipCount = 0]);
         ^^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:504:8: Context: 'List.shuffle' is defined here.
    void shuffle([Random? random]);
         ^^^^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:496:8: Context: 'List.sort' is defined here.
    void sort([int compare(E a, E b)?]);
         ^^^^
  org-dartlang-sdk:///flutter/third_party/dart/sdk/lib/core/list.dart:750:11: Context: 'List.sublist' is defined here.
    List<E> sublist(int start, [int? end]);
            ^^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:58:37: Error: Too few positional arguments: 2 required, 1 given.
        final parser = md.InlineParser('![Alt text](image.png?width=300&height=200&caption=Hello%20World)');
                                      ^
  ../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/inline_parser.dart:61:3: Context: Found this candidate, but the arguments don't match.
    InlineParser(this.source, this.document) {
    ^^^^^^^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:213:24: Error: Method not found: 'MarkdownStyleSheet'.
      final styleSheet = MarkdownStyleSheet(
                         ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:199:18: Error: Method 'addAll' cannot be called on 'List<Node>?' because it is potentially null.
   - 'List' is from 'dart:core'.
   - 'Node' is from 'package:markdown/src/ast.dart' ('../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/ast.dart').
  Try calling using ?. instead.
      tr1.children.addAll([th1, th2]);
                   ^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:200:20: Error: Method 'add' cannot be called on 'List<Node>?' because it is potentially null.
   - 'List' is from 'dart:core'.
   - 'Node' is from 'package:markdown/src/ast.dart' ('../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/ast.dart').
  Try calling using ?. instead.
      thead.children.add(tr1);
                     ^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:207:18: Error: Method 'addAll' cannot be called on 'List<Node>?' because it is potentially null.
   - 'List' is from 'dart:core'.
   - 'Node' is from 'package:markdown/src/ast.dart' ('../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/ast.dart').
  Try calling using ?. instead.
      tr2.children.addAll([td1, td2]);
                   ^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:208:20: Error: Method 'add' cannot be called on 'List<Node>?' because it is potentially null.
   - 'List' is from 'dart:core'.
   - 'Node' is from 'package:markdown/src/ast.dart' ('../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/ast.dart').
  Try calling using ?. instead.
      tbody.children.add(tr2);
                     ^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:210:27: Error: Method 'addAll' cannot be called on 'List<Node>?' because it is potentially null.
   - 'List' is from 'dart:core'.
   - 'Node' is from 'package:markdown/src/ast.dart' ('../../.pub-cache/hosted/pub.dev/markdown-7.3.0/lib/src/ast.dart').
  Try calling using ?. instead.
      tableElement.children.addAll([thead, tbody]);
                            ^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:221:28: Error: The method 'build' isn't defined for the class 'EnhancedTableBuilder'.
   - 'EnhancedTableBuilder' is from 'package:flutter_structurizr/presentation/widgets/documentation/markdown_extensions.dart' ('lib/presentation/widgets/documentation/markdown_extensions.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'build'.
      final widget = builder.build(tableElement, const TextStyle(), styleSheet);
                             ^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:239:12: Error: The getter 'ByteData' isn't defined for the class 'TestAssetBundle'.
   - 'TestAssetBundle' is from 'test/presentation/widgets/documentation/markdown_extensions_test.dart'.
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'ByteData'.
      return ByteData.sublistView(Uint8List.fromList([
             ^^^^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:252:27: Error: Superclass has no constructor named 'List.filled'.
    Uint8List(int length) : super.filled(length, 0);
                            ^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:254:44: Error: Superclass has no constructor named 'List.from'.
    Uint8List.fromList(List<int> elements) : super.from(elements);
                                             ^^^^^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:258:17: Error: Superclass has no method named '[]'.
      return super[index];
                  ^
  test/presentation/widgets/documentation/markdown_extensions_test.dart:263:10: Error: Superclass has no method named '[]='.
      super[index] = value;
           ^
  .
00:29 +422 -149: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList supports date sorting
00:29 +423 -149: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_list_test.dart: DecisionList supports dark mode
00:29 +424 -149: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +425 -149: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +426 -149: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +426 -150: loading /home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_integration_test.dart [E]
  Failed to load "/home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_integration_test.dart":
  Compilation failed for testPath=/home/jenner/Code/dart-structurizr/test/presentation/widgets/element_explorer_integration_test.dart: test/presentation/widgets/element_explorer_integration_test.dart:39:35: Error: Required named parameter 'parentId' must be provided.
        final api = Container.create(
                                    ^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:46:40: Error: Required named parameter 'parentId' must be provided.
        final database = Container.create(
                                         ^
  lib/domain/model/model.dart:604:11: Context: Found this candidate, but the arguments don't match.
    factory Container.create({
            ^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:160:25: Error: No named parameter with the name 'selectedElementId'.
                          selectedElementId: diagramSelectedElementId,
                          ^^^^^^^^^^^^^^^^^
  lib/presentation/widgets/diagram/structurizr_diagram.dart:358:9: Context: Found this candidate, but the arguments don't match.
    const StructurizrDiagram({
          ^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:239:17: Error: No named parameter with the name 'showElementTypes'.
                  showElementTypes: true,
                  ^^^^^^^^^^^^^^^^
  lib/presentation/widgets/element_explorer.dart:119:9: Context: Found this candidate, but the arguments don't match.
    const ElementExplorerConfig({
          ^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:64:37: Error: The method 'findElementById' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findElementById'.
        final personFromModel = model.findElementById(personId) as Person;
                                      ^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:65:34: Error: The method 'findElementById' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findElementById'.
        final apiFromModel = model.findElementById(apiId) as Container;
                                   ^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:66:39: Error: The method 'findElementById' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findElementById'.
        final databaseFromModel = model.findElementById(databaseId) as Container;
                                        ^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:80:46: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Person'.
   - 'Person' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
        final personToApiRelId = personWithRel.getRelationshipsWithDestination(apiId).first.id;
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:81:45: Error: The method 'getRelationshipsWithDestination' isn't defined for the class 'Container'.
   - 'Container' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'getRelationshipsWithDestination'.
        final apiToDatabaseRelId = apiWithRel.getRelationshipsWithDestination(databaseId).first.id;
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/presentation/widgets/element_explorer_integration_test.dart:87:17: Error: The method 'findSoftwareSystemById' isn't defined for the class 'Model'.
   - 'Model' is from 'package:flutter_structurizr/domain/model/model.dart' ('lib/domain/model/model.dart').
  Try correcting the name to the name of an existing method, or defining a method named 'findSoftwareSystemById'.
            model.findSoftwareSystemById(systemId)!.copyWith(
                  ^^^^^^^^^^^^^^^^^^^^^^
  .
00:30 +427 -150: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +428 -150: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +429 -150: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +430 -150: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +430 -150: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests renders asciidoc content with loading indicators
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: no matching candidates
  Actual: _TypeWidgetFinder:<Found 1 widget with type "CircularProgressIndicator": [
            CircularProgressIndicator(<indeterminate>, state:
_CircularProgressIndicatorState#bdfc1(ticker active)),
          ]>
   Which: means one was found but none were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:83:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 83
The test description was:
  renders asciidoc content with loading indicators
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +430 -151: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +430 -151: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests renders asciidoc content with loading indicators [E]
  Test failed. See exception logs above.
  The test description was: renders asciidoc content with loading indicators
  
00:30 +431 -151: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +432 -151: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +432 -151: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests handles errors with error message and retry button
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Error rendering AsciiDoc content": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:101:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 101
The test description was:
  handles errors with error message and retry button
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +432 -152: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +432 -152: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests handles errors with error message and retry button [E]
  Test failed. See exception logs above.
  The test description was: handles errors with error message and retry button
  
00:30 +433 -152: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +433 -152: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests provides progress indicators for large documents
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: no matching candidates
  Actual: _TypeWidgetFinder:<Found 1 widget with type "CircularProgressIndicator": [
            CircularProgressIndicator(<indeterminate>, state:
_CircularProgressIndicatorState#7e395(ticker active)),
          ]>
   Which: means one was found but none were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:161:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 161
The test description was:
  provides progress indicators for large documents
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +433 -153: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +433 -153: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests provides progress indicators for large documents [E]
  Test failed. See exception logs above.
  The test description was: provides progress indicators for large documents
  
00:30 +434 -153: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +435 -153: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +435 -153: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests supports diagram embedding with callbacks
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: 'SystemContext'
  Actual: <null>
   Which: not an <Instance of 'String'>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:216:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 216
The test description was:
  supports diagram embedding with callbacks
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +435 -154: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +435 -154: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests supports diagram embedding with callbacks [E]
  Test failed. See exception logs above.
  The test description was: supports diagram embedding with callbacks
  
00:30 +435 -154: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests handles links with callback
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: 'https://www.google.com'
  Actual: <null>
   Which: not an <Instance of 'String'>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:258:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 258
The test description was:
  handles links with callback
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +435 -155: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +435 -155: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests handles links with callback [E]
  Test failed. See exception logs above.
  The test description was: handles links with callback
  
00:30 +435 -155: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart: EnhancedDecisionGraph handles node selection

Warning: A call to tap() with finder "Found 1 widget with text "ADR-001" (ignoring all but first): [
  Text("ADR-001", inherit: true, color: Color(alpha: 1.0000, red: 0.3804, green: 0.3804, blue: 0.3804, colorSpace: ColorSpace.sRGB), size: 12.0, dependencies: [DefaultSelectionStyle, DefaultTextStyle, MediaQuery]),
]" derived an Offset (Offset(173.0, -21.5)) that would not hit test on the specified widget.
Maybe the widget is actually off-screen, or another widget is obscuring it, or the widget cannot receive pointer events.
Indeed, Offset(173.0, -21.5) is outside the bounds of the root of the render tree, Size(800.0, 600.0).
The finder corresponds to this RenderBox: RenderParagraph#e38b6 relayoutBoundary=up14
The hit test result at that offset is: HitTestResult(HitTestEntry<HitTestTarget>#62624(_ReusableRenderView#1e884), HitTestEntry<HitTestTarget>#36db4(<AutomatedTestWidgetsFlutterBinding>))
#0      WidgetController._getElementPoint (package:flutter_test/src/controller.dart:2077:25)
#1      WidgetController.getCenter (package:flutter_test/src/controller.dart:1861:12)
#2      WidgetController.tap (package:flutter_test/src/controller.dart:1041:7)
#3      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart:121:20)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
#6      StackZoneSpecification._registerCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:114:42)
<asynchronous suspension>
To silence this warning, pass "warnIfMissed: false" to "tap()".
To make this warning fatal, set WidgetController.hitTestWarningShouldBeFatal to true.

00:30 +435 -155: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests applies correct theme based on isDarkMode
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: true
  Actual: <false>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:289:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart line 289
The test description was:
  applies correct theme based on isDarkMode
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +435 -156: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
00:30 +435 -156: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests applies correct theme based on isDarkMode [E]
  Test failed. See exception logs above.
  The test description was: applies correct theme based on isDarkMode
  
00:30 +435 -156: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:55:7)
<asynchronous suspension>
#3      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#4      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  creates a WebView to render AsciiDoc content
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +435 -157: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_graph_test.dart: DecisionGraph renders decision nodes and edges
00:30 +435 -157: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests supports content caching for performance
Pending timers:
00:30 +435 -157: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer creates a WebView to render AsciiDoc content [E]
  Test failed. See exception logs above.
  The test description was: creates a WebView to render AsciiDoc content
  
00:30 +435 -157: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests supports content caching for performance
Timer (duration: 0:00:00.050000, periodic: false), created:
#0      new FakeTimer._ (package:fake_async/fake_async.dart:308:62)
#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:252:29)
#2      FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:185:19)
#5      MockPlatformWebViewController.loadHtmlString (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/mock_webview.dart:112:21)
#6      WebViewController.loadHtmlString (package:webview_flutter/src/webview_controller.dart:153:21)
#7      _AsciidocRendererState._initController (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:264:19)
#8      _AsciidocRendererState._loadResources (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:86:7)
#9      _AsciidocRendererState.initState (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:80:5)
#10     StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5860:55)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5709:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (332 frames)
#370    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#371    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#372    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (457 frames)
#829    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#830    Element.updateChild (package:flutter/src/widgets/framework.dart:4014:20)
#831    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#832    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#833    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#834    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#835    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#836    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#837    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#838    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#839    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#840    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#841    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#842    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#843    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#844    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#845    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#846    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#847    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#848    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#849    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#850    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#851    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#852    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#853    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#854    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#855    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#856    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#857    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#858    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#859    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#860    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#861    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#863    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#864    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#865    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#866    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#867    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#868    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#869    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#870    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#871    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#872    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#873    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#874    _RawViewElement.update (package:flutter/src/widgets/view.dart:569:5)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#877    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#878    StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#879    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#880    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#881    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#882    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#883    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#884    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#885    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1687:16)
#886    RootElement.update (package:flutter/src/widgets/binding.dart:1665:5)
#887    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1679:7)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#889    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#890    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#891    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#892    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#893    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#894    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#895    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#896    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#899    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#900    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#901    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#904    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#905    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#906    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart:313:20)
#907    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#908    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 7 frames from dart:async and package:stack_trace)

══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
A Timer is still pending even after the widget tree was disposed.
'package:flutter_test/src/binding.dart':
Failed assertion: line 1606 pos 12: '!timersPending'

When the exception was thrown, this was the stack:
#2      AutomatedTestWidgetsFlutterBinding._verifyInvariants (package:flutter_test/src/binding.dart:1606:12)
#3      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1083:7)
<asynchronous suspension>
<asynchronous suspension>
(elided 3 frames from class _AssertionError and package:stack_trace)

The test description was:
  supports content caching for performance
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +435 -158: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/decision_graph_test.dart: DecisionGraph renders decision nodes and edges
00:30 +435 -158: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_improved_test.dart: AsciidocRenderer - Improved Tests supports content caching for performance [E]
  Test failed. See exception logs above.
  The test description was: supports content caching for performance
  
00:30 +436 -158: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart: EnhancedDecisionGraph handles node selection
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: <0>
  Actual: <-1>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart:125:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart line 125
The test description was:
  handles node selection
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +436 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +436 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/enhanced_decision_graph_test.dart: EnhancedDecisionGraph handles node selection [E]
  Test failed. See exception logs above.
  The test description was: handles node selection
  
00:30 +437 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +438 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +439 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +440 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +441 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +442 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +443 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
00:30 +444 -159: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:84:7)
<asynchronous suspension>
#3      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#4      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  shows loading indicator while WebView is initializing
════════════════════════════════════════════════════════════════════════════════════════════════════
00:31 +444 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows empty state when nothing is selected
00:31 +444 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows loading indicator while WebView is initializing [E]
  Test failed. See exception logs above.
  The test description was: shows loading indicator while WebView is initializing
  
00:31 +445 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +446 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +446 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/parent_child_layout_test.dart: Parent-Child Relationship Handling ForceDirectedLayout correctly handles parent-child boundaries
Identified 1 boundaries with children:
  Parent parent1 has 2 children: child1, child2
Force-directed layout: Completed in 50 iterations with energy: 179.55072587975482
00:31 +447 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +447 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/parent_child_layout_test.dart: Parent-Child Relationship Handling AutomaticLayout correctly identifies and handles boundaries
AutomaticLayout: Selected strategy: Force-Directed Layout
ForceDirectedLayoutAdapter: Processing 5 elements, 0 relationships
Elements with parents: 2
Identified 1 boundaries with children:
  Parent parent1 has 2 children: child1, child2
Force-directed layout: Completed in 100 iterations with energy: 13.517179883086285
Identified 1 boundaries with children:
  Parent parent1 has 2 children: child1, child2
Force-directed layout: Completed in 200 iterations with energy: 0.698609796037494
Identified 1 boundaries with children:
  Parent parent1 has 2 children: child1, child2
Force-directed layout: Completed in 200 iterations with energy: 0.06819778173097124
ForceDirectedLayoutAdapter: Calculated 5 positions
Parent to Child1 distance: 945.9915101910028
Parent to Child2 distance: 220.65639450777476
Parent to Element1 distance: 1547.947639987536
Parent to Element2 distance: 1425.5288046596727
00:31 +448 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +448 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: AutomaticLayout should select grid layout for small diagrams
AutomaticLayout: Selected strategy: Grid Layout
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: AutomaticLayout should select force-directed layout for diagrams with boundaries
AutomaticLayout: Selected strategy: Force-Directed Layout
ForceDirectedLayoutAdapter: Processing 5 elements, 0 relationships
Elements with parents: 1
Identified 1 boundaries with children:
  Parent parent1 has 1 children: child1
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows element properties
DEBUG: Text widget: "Element Type: _$PersonImpl"
DEBUG: Text widget: "Basic Properties"
DEBUG: Text widget: "ID"
DEBUG: Text widget: "Name"
DEBUG: Text widget: "Description"
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: AutomaticLayout should select force-directed layout for diagrams with boundaries
Force-directed layout: Completed in 100 iterations with energy: 147.37869937151788
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows element properties
DEBUG: Text widget: "Custom Properties"
00:31 +449 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: AutomaticLayout should select force-directed layout for diagrams with boundaries
Identified 1 boundaries with children:
  Parent parent1 has 1 children: child1
Force-directed layout: Completed in 200 iterations with energy: 39.67551345195696
Identified 1 boundaries with children:
  Parent parent1 has 1 children: child1
Force-directed layout: Completed in 200 iterations with energy: 5.588767079575538
ForceDirectedLayoutAdapter: Calculated 5 positions
00:31 +450 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +450 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: AutomaticLayout should select force-directed layout for dynamic diagrams
AutomaticLayout: Selected strategy: Force-Directed Layout
ForceDirectedLayoutAdapter: Processing 5 elements, 3 relationships
Elements with parents: 0
Force-directed layout: Completed in 100 iterations with energy: 1.8054841465179212
Force-directed layout: Completed in 200 iterations with energy: 0.15122979999962483
Force-directed layout: Completed in 200 iterations with energy: 0.01586180956369254
ForceDirectedLayoutAdapter: Calculated 5 positions
00:31 +451 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +452 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +453 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +453 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/automatic_layout_test.dart: ForceDirectedLayoutAdapter should calculate layout correctly
ForceDirectedLayoutAdapter: Processing 2 elements, 1 relationships
Elements with parents: 0
Force-directed layout: Completed in 33 iterations with energy: 0.010446426852115092
Force-directed layout: Completed in 9 iterations with energy: 0.02946856814142764
Force-directed layout: Completed in 21 iterations with energy: 0.00747887900418222
ForceDirectedLayoutAdapter: Calculated 2 positions
00:31 +454 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +455 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel displays element styles correctly
00:31 +456 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +457 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +457 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/force_directed_layout_test.dart: ForceDirectedLayout should position elements with appropriate distances
Force-directed layout: Completed in 100 iterations with energy: 0.7486117310670393
00:31 +458 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +458 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/force_directed_layout_test.dart: ForceDirectedLayout should respect existing positions when provided
Force-directed layout: Completed in 50 iterations with energy: 0.5991940324800896
00:31 +459 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +459 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/force_directed_layout_test.dart: ForceDirectedLayout should generate positions with boundaries
Identified 1 boundaries with children:
  Parent boundary1 has 1 children: child1
Force-directed layout: Completed in 10 iterations with energy: 318.08079897695256
00:31 +460 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +460 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/force_directed_layout_test.dart: ForceDirectedLayout should calculate bounding box correctly
Force-directed layout: Completed in 50 iterations with energy: 0.4000612609896876
00:31 +461 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
00:31 +461 -160: /home/jenner/Code/dart-structurizr/test/presentation/layout/force_directed_layout_test.dart: ForceDirectedLayoutOptimizer should perform multi-phase layout
Force-directed layout: Completed in 33 iterations with energy: 0.010446426852115092
Force-directed layout: Completed in 9 iterations with energy: 0.02946856814142764
Force-directed layout: Completed in 21 iterations with energy: 0.00747887900418222
00:31 +462 -160: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:120:7)
<asynchronous suspension>
#3      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#4      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  passes workspace and diagram selection callback to renderer
════════════════════════════════════════════════════════════════════════════════════════════════════
00:31 +462 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows element properties
00:31 +462 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer passes workspace and diagram selection callback to renderer [E]
  Test failed. See exception logs above.
  The test description was: passes workspace and diagram selection callback to renderer
  
00:31 +463 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows element properties
00:31 +464 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/property_panel_test.dart: PropertyPanel Widget Tests PropertyPanel shows element properties
00:31 +465 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_test.dart: AnimationControls Widget changes step when next button is tapped
00:31 +466 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_test.dart: AnimationControls Widget changes step when next button is tapped
00:31 +467 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_test.dart: AnimationControls Widget changes step when next button is tapped
00:31 +468 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_test.dart: AnimationControls Widget changes step when next button is tapped
00:31 +469 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/animation_controls_test.dart: AnimationControls Widget changes step when next button is tapped
00:31 +470 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +471 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +472 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +473 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +474 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +475 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +476 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +477 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +478 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +478 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/style_editor_test.dart: PropertyPanel allows creating new styles for elements without styles
DEBUG: Text widget: "No style defined for this element"
DEBUG: Text widget: "Add Style"
00:31 +479 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +480 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +481 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +482 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +483 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +484 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +485 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +486 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +487 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +488 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +489 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +490 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +491 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +492 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
00:31 +493 -161: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:146:7)
<asynchronous suspension>
#3      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#4      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  applies dark mode styles when specified
════════════════════════════════════════════════════════════════════════════════════════════════════
00:31 +493 -162: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer applies dark mode styles when specified [E]
  Test failed. See exception logs above.
  The test description was: applies dark mode styles when specified
  
00:31 +493 -162: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer shows progress indicators for large documents
00:31 +494 -162: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer uses content caching for previously rendered content
Pending timers:
Timer (duration: 0:00:00.050000, periodic: false), created:
#0      new FakeTimer._ (package:fake_async/fake_async.dart:308:62)
#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:252:29)
#2      FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:185:19)
#5      MockPlatformWebViewController.loadHtmlString (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/mock_webview.dart:112:21)
#6      WebViewController.loadHtmlString (package:webview_flutter/src/webview_controller.dart:153:21)
#7      _AsciidocRendererState._initController (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:264:19)
#8      _AsciidocRendererState._loadResources (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:86:7)
#9      _AsciidocRendererState.initState (package:flutter_structurizr/presentation/widgets/documentation/asciidoc_renderer.dart:80:5)
#10     StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5860:55)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5709:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (332 frames)
#370    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#371    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7178:36)
#372    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7194:32)
...     Normal element mounting (457 frames)
#829    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4555:16)
#830    Element.updateChild (package:flutter/src/widgets/framework.dart:4014:20)
#831    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#832    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#833    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#834    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#835    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#836    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#837    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#838    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#839    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#840    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#841    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#842    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#843    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#844    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#845    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#846    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#847    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#848    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#849    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#850    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#851    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#852    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#853    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#854    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#855    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#856    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#857    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#858    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#859    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#860    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#861    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#863    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#864    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#865    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#866    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#867    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#868    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#869    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#870    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#871    ProxyElement.update (package:flutter/src/widgets/framework.dart:6059:5)
#872    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#873    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#874    _RawViewElement.update (package:flutter/src/widgets/view.dart:569:5)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#877    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#878    StatelessElement.update (package:flutter/src/widgets/framework.dart:5805:5)
#879    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#880    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5756:16)
#881    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5892:11)
#882    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#883    StatefulElement.update (package:flutter/src/widgets/framework.dart:5917:5)
#884    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:15)
#885    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1687:16)
#886    RootElement.update (package:flutter/src/widgets/binding.dart:1665:5)
#887    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1679:7)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5445:7)
#889    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2704:15)
#890    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2762:11)
#891    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3066:18)
#892    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1495:19)
#893    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:482:5)
#894    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1442:15)
#895    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1355:9)
#896    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#899    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#900    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#901    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#904    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#905    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#906    main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:201:20)
#907    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#908    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 7 frames from dart:async and package:stack_trace)

══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
A Timer is still pending even after the widget tree was disposed.
'package:flutter_test/src/binding.dart':
Failed assertion: line 1606 pos 12: '!timersPending'

When the exception was thrown, this was the stack:
#2      AutomatedTestWidgetsFlutterBinding._verifyInvariants (package:flutter_test/src/binding.dart:1606:12)
#3      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1083:7)
<asynchronous suspension>
<asynchronous suspension>
(elided 3 frames from class _AssertionError and package:stack_trace)

The test description was:
  uses content caching for previously rendered content
════════════════════════════════════════════════════════════════════════════════════════════════════
00:32 +494 -163: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer uses content caching for previously rendered content [E]
  Test failed. See exception logs above.
  The test description was: uses content caching for previously rendered content
  
00:32 +494 -163: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer handles errors with retry functionality
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Error rendering AsciiDoc content": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart:266:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart line 266
The test description was:
  handles errors with retry functionality
════════════════════════════════════════════════════════════════════════════════════════════════════
00:32 +494 -164: /home/jenner/Code/dart-structurizr/test/presentation/widgets/documentation/asciidoc_renderer_test.dart: AsciidocRenderer handles errors with retry functionality [E]
  Test failed. See exception logs above.
  The test description was: handles errors with retry functionality
  
00:32 +494 -164: Some tests failed.
