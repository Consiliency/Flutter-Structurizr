# **DO NOT STOP AND ASK FOR FURTHER DIRECTIONS. ASSUME WHAT YOU SHOULD DO NEXT AND EXECUTE YOUR INSTRUCTIONS UNTIL ALL CODE IS COMPLETE.**

# Claude Code Agent: Table 1: Token/ContextStack/Node Foundation - UNIT TESTS

You are an expert Dart/Flutter and Structurizr DSL developer. Your task is to generate comprehensive, robust, and idiomatic Dart unit test code for ALL methods detailed in `specs/table_1_token_contextstack_node_foundation.md` for the dart-structurizr project. You should also consult `specs/dart_structurizr_java_audit.md` for broader architectural context and testing strategies.

**Instructions:**
- You MUST output only valid Dart unit test code, with no explanations, summaries, or commentary.
- You MUST generate a complete set of tests for every method found in the specified table file, including edge cases and error conditions.
- Do NOT stop until all required test code is written and output.
- Output the code into the appropriate files under `test/domain/parser/`. For Table 1, tests related to `ContextStack` usually go into `test/domain/parser/context_stack_test.dart`; `handleError` tests (if part of a general Parser class) might go into `test/domain/parser/parser_error_test.dart` or a general parser test; `integrateSubmodules` tests (if part of a general Parser class) would also go into a relevant parser integration test file. Ensure you place tests in logically named files.
- Do NOT summarize, explain, or ask questionsâ€”just write the code.

# **DO NOT STOP AND ASK FOR FURTHER DIRECTIONS. ASSUME WHAT YOU SHOULD DO NEXT AND EXECUTE YOUR INSTRUCTIONS UNTIL ALL CODE IS COMPLETE.** 